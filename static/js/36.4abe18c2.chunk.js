(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[36],{1303:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(5),i=n(33),o=n(280),s=n(347),u=n(471),l=n.n(u),d=n(0),m=n.n(d),f=n(38),b=n(21),p=n(253),g=n(20),h=n(1366),x=n(107),O=n(92),v=n(115),j=n(93),E=n(62),w=n(76),C=n(65),k=n(473),y=n(50),A=n(48),S=n(1479),T=n(31),N=n(69),G=n(1376),L=n(1351),P=n(291),D=n(116),I=n(1350),B=n(1368),z=n(290),M=n(1364),R=n(4),F=n(443),H=Object(F.a)({heading:{padding:"".concat(R.md," ").concat(R.lg),justifyContent:"flex-start",boxSizing:"border-box",maxHeight:"74px"},annotation:{letterSpacing:"-1px",color:R.secondaryText,marginRight:"auto",marginLeft:"20px"},headingText:{fontSize:R.lg},closeIcon:{height:"35px",width:"35px"},container:{padding:"".concat(R.md," ").concat(R.lg)},amount:{marginLeft:R.sm},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"},gasCostsContainer:{backgroundColor:R.background,padding:"0 ".concat(R.lg)}}),U=n(1363),_=n(1359),J=Object(s.a)(H),Y=Object(g.i)().nativeCoin;t.default=function(e){var t=e.onClose,n=e.onPrev,a=e.tx,s=J(),u=Object(f.e)(),R=Object(f.f)(y.n),F=Object(f.f)(P.a),H=Object(d.useMemo)((function(){return F.find((function(e){return Object(T.f)(e.address,a.token)}))}),[F,a.token]),W=Object(d.useMemo)((function(){return Object(T.f)(null===H||void 0===H?void 0:H.address,Y.address)}),[H]),X=W?a.recipientAddress:(null===H||void 0===H?void 0:H.address)||"",q=W?Object(p.c)(a.amount,Y.decimals):"0",K=function(e,t,n,a){var o=Object(d.useState)(""),s=Object(i.a)(o,2),u=s[0],l=s[1];return Object(d.useEffect)((function(){!function(){var i=Object(c.a)(r.a.mark((function c(){var i,o,s,u;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a){r.next=2;break}return r.abrupt("return");case 2:if(i=N.a,e){r.next=12;break}return r.next=6,Object(S.c)();case 6:return o=r.sent,r.next=9,o.at(a.address);case 9:s=r.sent,u=Object(p.c)(t,a.decimals),i=s.contract.methods.transfer(n,u).encodeABI();case 12:l(i);case 13:case"end":return r.stop()}}),c)})));return function(){return i.apply(this,arguments)}}()()}),[e,n,t,a]),u}(W,a.amount,a.recipientAddress,H),Q=Object(d.useState)(0),V=Object(i.a)(Q,2),Z=V[0],$=V[1],ee=Object(d.useState)(),te=Object(i.a)(ee,2),ne=te[0],ae=te[1],re=Object(d.useState)(),ce=Object(i.a)(re,2),ie=ce[0],oe=ce[1],se=Object(I.b)({txData:K,txRecipient:X,txType:a.txType,txAmount:q,safeTxGas:Z,manualGasPrice:ne,manualGasLimit:ie}),ue=se.gasCostFormatted,le=se.gasPriceFormatted,de=se.gasLimit,me=se.gasEstimation,fe=se.txEstimationExecutionStatus,be=se.isExecution,pe=se.isCreation,ge=se.isOffChainSignature,he=Object(B.a)(fe),xe=Object(i.a)(he,2),Oe=xe[0],ve=xe[1],je=Object(D.a)(a.txType,"spendingLimit");return m.a.createElement(U.a,{isOffChainSignature:ge,isExecution:be,ethGasLimit:de,ethGasPrice:le,safeTxGas:me.toString(),closeEditModalCallback:function(e){var t=Number(le),n=Number(e.ethGasPrice),a=Number(me),r=Number(e.safeTxGas);n&&t!==n&&ae(e.ethGasPrice),e.ethGasLimit&&de!==e.ethGasLimit&&oe(e.ethGasLimit),r&&a!==r&&$(r)}},(function(e,r){return m.a.createElement(m.a.Fragment,null,m.a.createElement(w.a,{align:"center",className:s.heading,grow:!0,"data-testid":"send-funds-review-step"},m.a.createElement(E.a,{className:s.headingText,noMargin:!0,weight:"bolder"},"Send funds"),m.a.createElement(E.a,{className:s.annotation},"2 of 2"),m.a.createElement(o.a,{disableRipple:!0,onClick:t},m.a.createElement(l.a,{className:s.closeIcon}))),m.a.createElement(v.a,null),m.a.createElement(x.a,{className:s.container},m.a.createElement(G.a,null),m.a.createElement(h.a,{withArrow:!0}),m.a.createElement(w.a,{margin:"xs"},m.a.createElement(E.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"}},"Recipient")),m.a.createElement(w.a,{align:"center",margin:"md"},m.a.createElement(O.a,{xs:12},m.a.createElement(b.EthHashInfo,{hash:a.recipientAddress,name:a.recipientName,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(g.c)(a.recipientAddress)}))),m.a.createElement(w.a,{margin:"xs"},m.a.createElement(E.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"}},"Amount")),m.a.createElement(w.a,{align:"center",margin:"md"},m.a.createElement(j.a,{alt:null===H||void 0===H?void 0:H.name,height:28,onError:L.a,src:null===H||void 0===H?void 0:H.logoUri}),m.a.createElement(E.a,{className:s.amount,noMargin:!0,size:"md","data-testid":"amount-".concat(null===H||void 0===H?void 0:H.symbol,"-review-step")},a.amount," ",null===H||void 0===H?void 0:H.symbol)),!je&&m.a.createElement(_.a,{txParameters:e,onEdit:r,isTransactionCreation:pe,isTransactionExecution:be,isOffChainSignature:ge})),!je&&fe!==I.a.LOADING&&m.a.createElement("div",{className:s.gasCostsContainer},m.a.createElement(M.a,{gasCostFormatted:ue,isExecution:be,isCreation:pe,isOffChainSignature:ge,txEstimationExecutionStatus:fe})),m.a.createElement(z.b.Footer,{withoutBorder:!je&&Oe!==z.a.LOADING},m.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:n,text:"Back"},confirmButtonProps:{onClick:function(){return function(e){if(ve(z.a.LOADING),!R)return ve(z.a.READY),void console.error("There was an error trying to submit the transaction, the safeAddress was not found");if(je&&H&&a.tokenSpendingLimit){var n=W?T.a:H.address;Object(C.j)().methods.executeAllowanceTransfer(R,n,a.recipientAddress,Object(p.c)(a.amount,H.decimals),T.a,0,a.tokenSpendingLimit.delegate,N.a).send({from:a.tokenSpendingLimit.delegate}).on("transactionHash",(function(){return t()})).catch((function(e){ve(z.a.READY),console.error(e)}))}else u(Object(k.b)({safeAddress:R,to:X,valueInWei:q,txData:K,txNonce:e.safeNonce,safeTxGas:e.safeTxGas?Number(e.safeTxGas):void 0,ethParameters:e,notifiedTransaction:A.c.STANDARD_TX})),t()}(e)},status:Oe,text:fe===I.a.LOADING?"Estimating":void 0,testId:"submit-tx-btn"}})))}))}},1351:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1355),r=function(e){e.currentTarget.onerror=null,e.currentTarget.src=a.a};n(384)},1354:function(e,t,n){"use strict";var a=n(45),r=n(6),c=n(8),i=n(12),o=n(13),s=n(0),u=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=Object(a.a)(e,["children"]);return s.createElement("b",n,t)}}]),n}(s.PureComponent);t.a=u},1355:function(e,t,n){"use strict";t.a=n.p+"static/media/token_placeholder.c1abe466.svg"},1366:function(e,t,n){"use strict";var a,r,c=n(27),i=n(0),o=n.n(i),s=n(25),u=n(21),l=s.default.div(a||(a=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  margin: 8px 0;\n\n  svg {\n    margin: 0 12px 0 4px;\n  }\n"]))),d=Object(s.default)(u.Divider)(r||(r=Object(c.a)(["\n  width: 100%;\n"])));t.a=function(e){var t=e.withArrow;return o.a.createElement(l,null,t&&o.a.createElement(u.Icon,{type:"arrowDown",size:"md"}),o.a.createElement(d,null))}},1376:function(e,t,n){"use strict";var a,r=n(27),c=n(0),i=n.n(c),o=n(38),s=n(21),u=n(25),l=n(20),d=n(50),m=n(62),f=n(1354),b=n(4),p=n(107),g=Object(l.i)().nativeCoin,h=Object(u.default)(p.a)(a||(a=Object(r.a)(["\n  font-size: 12px;\n  line-height: 1.08;\n  letter-spacing: -0.5px;\n  background-color: ",";\n  width: fit-content;\n  padding: 5px 10px;\n  margin-top: ",";\n  margin-left: 40px;\n  border-radius: 3px;\n"])),b.border,b.xs);t.a=function(){var e=Object(o.f)(d.o)||{},t=e.address,n=void 0===t?"":t,a=e.ethBalance,r=Object(o.f)((function(e){return Object(d.i)(e,n)}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.EthHashInfo,{hash:n,name:r,explorerUrl:Object(l.c)(n),showAvatar:!0,showCopyBtn:!0}),a&&i.a.createElement(h,null,i.a.createElement(m.a,{noMargin:!0},"Balance: ",i.a.createElement(f.a,{"data-testid":"current-eth-balance"},"".concat(a," ").concat(g.symbol)))))}},1479:function(e,t,n){"use strict";n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return w})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return k}));var a=n(2),r=n.n(a),c=n(5),i=n(1593),o=n(1594),s=n(1595),u=n(58),l=n(1596),d=n.n(l),m=n(299),f=n(503),b=n(215),p=n(394),g=n(30),h=n(501),x=n(150),O=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(g.f)(),e.next=3,d()(i);case 3:return(n=e.sent).setProvider(t.currentProvider),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(g.f)(),e.next=3,d()(o);case 3:return(n=e.sent).setProvider(t.currentProvider),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(g.f)(),e.next=3,d()(s);case 3:return(n=e.sent).setProvider(t.currentProvider),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=Object(h.a)(v),w=Object(h.a)(O),C=Object(h.a)(j),k=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c,i,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(p.a)(n()),e.prev=1,e.next=4,Object(f.a)();case 4:i=e.sent,c=i.data.results,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),Object(x.b)(x.a._600,e.t0.message),e.abrupt("return");case 12:if(o=c.filter((function(e){return"erc20"===e.type.toLowerCase()})),(null===a||void 0===a?void 0:a.size)!==o.length){e.next=15;break}return e.abrupt("return");case 15:s=Object(u.a)(o.map((function(e){return Object(b.a)(e)}))),t(Object(m.b)(s));case 17:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()}},1605:function(e,t){},1613:function(e,t){},1637:function(e,t){},1638:function(e,t){},1640:function(e,t){},1643:function(e,t){}}]);
//# sourceMappingURL=36.4abe18c2.chunk.js.map