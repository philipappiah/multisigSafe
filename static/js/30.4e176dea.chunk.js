(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[30],{1337:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(1336);t.a=function(e){var t=Object.assign({},e);return r.a.createElement(c.a,t)}},1341:function(e,t,n){"use strict";var a=n(10),r=n(45),c=n(537),o=n(443),i=n(347),s=n(0),l=n.n(s),u=n(4),d={overflow:"hidden",width:"100%"},m=Object(i.a)((function(){return Object(o.a)({root:{paddingTop:u.lg,paddingBottom:"12px",lineHeight:0}})}));t.a=function(e){var t=e.input,n=t.name,o=t.onChange,i=t.value,s=Object(r.a)(t,["name","onChange","value"]),u=e.inputAdornment,f=e.meta,p=e.multiline,b=e.rows,g=e.testId,h=e.text,O=Object(r.a)(e,["input","inputAdornment","meta","multiline","rows","testId","text"]),j=m(),v=i?h:void 0,x=(f.touched||!f.pristine)&&!f.valid,E=!!f.error||!f.modifiedSinceLastSubmit&&!!f.submitError,w=f.error||f.submitError,y=!f.active&&(f.pristine||!f.touched),S="undefined"===typeof f.error||!f.touched,C=y&&S,k=v?j.root:"",_=f.valid?"isValid":E&&x?"isInvalid":"",N=Object(a.a)(Object(a.a)({},s),{},{autoComplete:"off","data-testid":g}),A=Object(a.a)(Object(a.a)({},u),{},{className:"".concat(k," ").concat(_),disableUnderline:C});return l.a.createElement(c.a,Object.assign({error:E&&x,helperText:E&&x?w:v||" ",inputProps:N,InputProps:A,multiline:p,name:n,onChange:o,rows:b,style:d,value:i},O))}},1342:function(e,t,n){"use strict";var a=n(45),r=n(0),c=n(1336),o=function(e){return{padding:"0 ".concat(e,"%"),flexDirection:"column",flex:"1 0 auto"}};t.a=function(e){var t=e.children,n=e.decorators,i=e.formMutators,s=e.initialValues,l=e.onSubmit,u=e.padding,d=void 0===u?0:u,m=e.subscription,f=e.testId,p=void 0===f?"":f,b=e.validation;return r.createElement(c.b,{decorators:n,initialValues:s,mutators:i,onSubmit:l,render:function(e){var n=e.handleSubmit,c=Object(a.a)(e,["handleSubmit"]);return r.createElement("form",{"data-testid":p,onSubmit:n,style:o(d)},t(c.submitting,c.validating,c,c.form.mutators))},subscription:m,validate:b})}},1365:function(e,t,n){"use strict";t.a=n.p+"static/media/qrcode.f0b048aa.svg"},1371:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(33),r=n(280),c=n(347),o=n(471),i=n.n(o),s=n(0),l=n(1395),u=n.n(l),d=n(4),m=n(443),f=Object(m.a)({heading:{padding:d.lg,justifyContent:"space-between",maxHeight:"75px",boxSizing:"border-box"},loaderContainer:{width:"100%",height:"100%"},close:{height:"25px",width:"25px",color:d.secondaryText},detailsContainer:{backgroundColor:d.background,maxHeight:"450px"},buttonRow:{height:"84px",justifyContent:"center"},button:{"&:last-child":{marginLeft:d.sm}}}),p=n(290),b=n(107),g=n(139),h=n(92),O=n(115),j=n(62),v=n(76),x=Object(c.a)(f),E=function(e){var t=e.isOpen,n=e.onClose,c=e.onScan,o=x(),l=Object(s.useState)(!1),d=Object(a.a)(l,2),m=d[0],f=d[1],E=Object(s.useState)(null),w=Object(a.a)(E,2),y=w[0],S=w[1],C=Object(s.useState)(!1),k=Object(a.a)(C,2),_=k[0],N=k[1],A=s.createRef(),z=s.useCallback((function(){A.current.openImageDialog()}),[A]);Object(s.useEffect)((function(){m||!_||y||(f(!0),z())}),[_,z,m,f,y]);var T=function(e,t){if(e)return console.error("QR code error",e),void("NotAllowedError"===e.name||"PermissionDismissedError"===e.name?(N(!0),f(!1)):S("The QR could not be read"));t?c(t):_&&S("The QR could not be read")};return s.createElement(p.c,{description:"Receive Tokens Form",handleClose:n,open:t,title:"Receive Tokens"},s.createElement(v.a,{align:"center",className:o.heading,grow:!0},s.createElement(j.a,{noMargin:!0,size:"xl"},"Scan QR"),s.createElement(r.a,{disableRipple:!0,onClick:n},s.createElement(i.a,{className:o.close}))),s.createElement(O.a,null),s.createElement(h.a,{className:o.detailsContainer,layout:"column",middle:"xs"},y&&s.createElement(b.a,{padding:"md",margin:"md"},y),s.createElement(u.a,{legacyMode:_,onError:function(e){return T(e,null)},onScan:function(e){return T(null,e)},ref:A,style:{width:"400px",height:"400px"},facingMode:"user"})),s.createElement(O.a,null),s.createElement(v.a,{align:"center",className:o.buttonRow},s.createElement(g.a,{className:o.button,color:"secondary",minWidth:154,onClick:n},"Close"),s.createElement(g.a,{className:o.button,color:"primary",minWidth:154,onClick:function(){N(!0),S(null),f(!1)},variant:"contained"},"Upload an image")))}},1385:function(e,t,n){"use strict";var a=n(10),r=n(45),c=n(444),o=n(446),i=n(1261),s=n(452),l=n(0),u=n.n(l),d={minWidth:"100%"};t.a=function(e){var t=e.classes,n=e.disableError,l=e.formControlProps,m=e.input,f=m.name,p=m.onChange,b=m.value,g=Object(r.a)(m,["name","onChange","value"]),h=e.label,O=e.meta,j=e.renderValue,v=Object(r.a)(e,["classes","disableError","formControlProps","input","label","meta","renderValue"]),x=(O.submitError&&!O.dirtySinceLastSubmit||O.error)&&O.touched&&!n,E=Object(a.a)(Object(a.a)({},g),{},{name:f});return u.a.createElement(c.a,Object.assign({},l,{error:x,style:d}),u.a.createElement(i.a,{htmlFor:f},h),u.a.createElement(s.a,Object.assign({classes:t,inputProps:E,onChange:p,renderValue:j,value:b},v)),x&&u.a.createElement(o.a,null,O.error||O.submitError))}},1399:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u}));var a=n(1540),r="name",c="confirmations",o="safeName",i="safeCreationSalt",s=function(e){return"owner".concat(Object(a.a)(e),"Name")},l=function(e){return"owner".concat(Object(a.a)(e),"Address")},u=function(e){return Object.keys(e).sort().filter((function(t){return/^owner\d+Address$/.test(t)&&!!e[t]})).length}},1409:function(e,t,n){"use strict";var a=n(10),r=n(45),c=n(103),o=n.n(c),i=n(0),s=n(1493),l=n.n(s),u=n(56),d=o.a.bind(l.a);t.a=function(e){var t=e.align,n=e.children,c=e.className,o=void 0===c?"":c,s=e.color,l=e.margin,m=e.tag,f=e.testId,p=e.truncate,b=Object(r.a)(e,["align","children","className","color","margin","tag","testId","truncate"]),g=d(o,"heading",t,m,l?Object(u.a)(l,"margin"):void 0,s,{truncate:p});return i.createElement(m,Object(a.a)(Object(a.a)({},b),{},{className:g,"data-testid":f||""}),n)}},1410:function(e,t,n){"use strict";var a=n(2),r=n.n(a),c=n(5),o=n(86),i=n(0),s=n(1336),l=n(1386),u=n(1341),d=n(470),m=n(116),f=n(30),p=n(31),b=n(52),g=n(150);t.a=function(e){var t=e.className,n=void 0===t?"":t,a=e.name,h=void 0===a?"recipientAddress":a,O=e.text,j=void 0===O?"Recipient*":O,v=e.placeholder,x=void 0===v?"Recipient*":v,E=e.fieldMutator,w=e.testId,y=e.inputAdornment,S=e.validators,C=void 0===S?[]:S,k=e.defaultValue,_=e.disabled;return i.createElement(i.Fragment,null,i.createElement(s.a,{className:n,component:u.a,defaultValue:k,disabled:_,inputAdornment:y,name:h,placeholder:x,testId:w,text:j,type:"text",validate:d.c.apply(void 0,[d.p,d.j].concat(Object(o.a)(C)))}),i.createElement(l.a,{name:h},function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(m.c)(t),!Object(p.e)(n)&&!Object(p.d)(n)){e.next=13;break}return e.prev=2,e.next=5,Object(f.b)(n);case 5:a=e.sent,c=Object(b.a)(a),E(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),Object(g.b)(g.a._101,e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()))}},1431:function(e,t,n){"use strict";var a=n(352),r=n(347),c=n(0),o=n(107),i=n(4),s=Object(r.a)({root:{margin:"10px 0 10px 10px",maxWidth:"770px",boxShadow:"0 0 10px 0 rgba(33,48,77,0.10)"},padding:{padding:i.lg}});t.a=function(e){var t=e.children,n=e.controls,r=e.padding,i=void 0===r||r,l=s();return c.createElement(a.a,{className:l.root,elevation:1},c.createElement(o.a,{className:i?l.padding:""},t),n)}},1461:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l}));var a=n(1399),r=function(e){return function(t){var n=Object.keys(t).sort().filter((function(t){return e.test(t)})),r=Object(a.e)(t);return n.map((function(e){return t[e]})).slice(0,r)}},c=r(/^owner\d+Address$/),o=r(/^owner\d+Name$/),i=function(e){return Number(e.confirmations)},s=function(e){return e.name},l=function(e){return e.safeCreationSalt}},1491:function(e,t,n){"use strict";var a=n(103),r=n.n(a),c=n(0),o=n.n(c),i=n(1492),s=n.n(i),l=r.a.bind(s.a);t.a=function(e){var t=e.align,n=e.children,a=e.overflow;return o.a.createElement("main",{className:l(s.a.page,t,{overflow:a})},n)}},1492:function(e,t,n){e.exports={page:"Page_page__Zqhwv",center:"Page_center__JSSxQ",overflow:"Page_overflow__21B4j"}},1493:function(e,t,n){e.exports={heading:"Heading_heading__1kulm",h1:"Heading_h1__80Cwi",h2:"Heading_h2__2onFG",h3:"Heading_h3__Sh3ak",h4:"Heading_h4__20iR2",center:"Heading_center__1Nck5",right:"Heading_right__3RAhl",truncate:"Heading_truncate__32_2T",marginSm:"Heading_marginSm__2g6oz",marginMd:"Heading_marginMd__1R4ww",marginLg:"Heading_marginLg__3egwb",marginXl:"Heading_marginXl__3saYd",soft:"Heading_soft__U23-0",medium:"Heading_medium__T5cU-",dark:"Heading_dark__2HTrR",fancy:"Heading_fancy__1opTo",warning:"Heading_warning__3Bh_S",primary:"Heading_primary__3K9By",secondary:"Heading_secondary__IEaLO",disabled:"Heading_disabled__3Rs0p",error:"Heading_error__LFDiU",white:"Heading_white__j6Vyr"}},1540:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return e.toString().padStart(4,"0")}},1647:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var a,r,c,o,i,s,l,u,d,m=n(27),f=n(0),p=n.n(f),b=n(25),g=n(21),h=n(99),O=n(107),j=n(55),v=n(144),x=n(38),E=n(94),w=b.default.div(a||(a=Object(m.a)(["\n  display: flex;\n  flex-direction: row;\n  margin: 24px 0 0 0;\n"]))),y=Object(b.default)(g.Card)(r||(r=Object(m.a)(["\n  display: flex;\n  padding: 0;\n"]))),S=Object(b.default)(g.Card)(c||(c=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin: 0 20px 0 0;\n  max-width: 27%;\n  height: 276px;\n"]))),C=b.default.div(o||(o=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 24px;\n  width: 50%;\n"]))),k=Object(b.default)(g.Button)(i||(i=Object(m.a)(["\n  margin-top: auto;\n  text-decoration: none;\n"]))),_=b.default.div(s||(s=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  margin: 0 0 16px 0;\n\n  h5 {\n    color: white;\n  }\n"]))),N=Object(b.default)(g.Title)(l||(l=Object(m.a)(["\n  margin: 0 0 0 16px;\n"]))),A=Object(b.default)(g.Title)(u||(u=Object(m.a)(["\n  margin: 0 0 16px 0;\n"]))),z=Object(b.default)(g.ButtonLink)(d||(d=Object(m.a)(["\n  margin: 16px 0 16px -8px;\n"]))),T=function(e){var t=e.isOldMultisigMigration,n=Object(x.f)(E.d);return p.a.createElement(O.a,null,p.a.createElement(g.Title,{size:"md",strong:!0},"Welcome to Gnosis Safe."),p.a.createElement(g.Title,{size:"xs"},t?p.a.createElement(p.a.Fragment,null,"We will replicate the owner structure from your existing Gnosis MultiSig to let you test the new interface. As soon as you feel comfortable, start moving funds to your new Safe."):p.a.createElement(p.a.Fragment,null,"Gnosis Safe is the most trusted platform to manage digital assets. ",p.a.createElement("br",null)," Here is how to get started:"," ")),p.a.createElement(p.a.Fragment,null,p.a.createElement(w,null,p.a.createElement(S,null,p.a.createElement(_,null,p.a.createElement(g.Dot,{color:"primary"},n?p.a.createElement(g.Icon,{color:"white",type:"check",size:"md"}):p.a.createElement(g.Title,{size:"xs"},"1")),p.a.createElement(N,{size:"sm",strong:!0,withoutMargin:!0},"Connect wallet")),p.a.createElement(g.Text,{size:"xl"},"Gnosis Safe supports a wide range of wallets that you can choose to interact with your Safe."),p.a.createElement(z,{textSize:"xl",color:"primary",iconType:"externalLink",iconSize:"sm"},p.a.createElement(g.Link,{size:"xl",href:"https://help.gnosis-safe.io/en/articles/4689442-why-do-i-need-to-connect-a-wallet",target:"_blank",rel:"noopener noreferrer",title:"More info about: Why do I need to connect a wallet?"},"Why do I need to connect a wallet?")),p.a.createElement(k,{size:"lg",color:"primary",variant:"contained",onClick:v.b,disabled:!!n,"data-testid":"connect-btn"},p.a.createElement(g.Text,{size:"xl",color:"white"},"Connect wallet"))),p.a.createElement(y,{disabled:!n},p.a.createElement(C,null,p.a.createElement(_,null,p.a.createElement(g.Dot,{color:"primary"},p.a.createElement(g.Title,{size:"xs"},"2")),p.a.createElement(N,{size:"sm",strong:!0,withoutMargin:!0},"Create Safe")),p.a.createElement(g.Text,{size:"xl"},"Create a new Safe that is controlled by one or multiple owners. ",p.a.createElement("br",null),"You will be required to pay a network fee for creating your new Safe."),p.a.createElement(k,{size:"lg",color:"primary",variant:"contained",component:h.a,to:j.b},p.a.createElement(g.Text,{size:"xl",color:"white"},"+ Create new Safe"))),p.a.createElement(g.Divider,{orientation:"vertical"}),p.a.createElement(C,null,p.a.createElement(A,{size:"sm",strong:!0,withoutMargin:!0},"Add existing Safe"),p.a.createElement(g.Text,{size:"xl"},"Already have a Safe? Do you want to access your Safe from a different device? Easily add it using your Safe address."),p.a.createElement(k,{variant:"bordered",iconType:"safe",iconSize:"sm",size:"lg",color:"secondary",component:h.a,to:j.a},p.a.createElement(g.Text,{size:"xl",color:"secondary"},"Add existing Safe")))))))}},1714:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a=n(2),r=n.n(a),c=n(5),o=n(10),i=n(45),s=n(33),l=n(1649),u=n(538),d=n(2589),m=n(676),f=n(679),p=n(347),b=n(0),g=n.n(b),h=n(139),O=n(92),j=n(76),v=n(4),x={backgroundColor:"white",padding:v.lg,borderRadius:v.sm},E={marginRight:v.sm,fontWeight:v.boldFont,color:v.secondary},w={fontWeight:v.boldFont},y=function(e){var t,n=e.buttonLabels,a=e.currentStep,r=e.disabled,c=e.firstPage,o=e.lastPage,i=e.onPrevious,s=e.penultimate,l=c?"Cancel":"Back";return t=n?n[a]:c?"Start":s?"Review":o?"Submit":"Next",b.createElement(j.a,{align:"center",grow:!0,style:x},b.createElement(O.a,{center:"xs",xs:12},b.createElement(h.a,{onClick:i,size:"small",style:E,type:"button"},l),b.createElement(h.a,{color:"primary",disabled:r,size:"small",style:w,type:"submit",variant:"contained"},t)))},S=n(1342),C=n(115),k=n(120),_={timeout:{enter:350,exit:0}},N=function(e){return Object(l.a)(e),null};var A=Object(p.a)({root:{flex:"1 1 auto",backgroundColor:"transparent"},pointerCursor:{"& > .MuiStepLabel-iconContainer":{cursor:"pointer"},"& > .MuiStepLabel-labelContainer":{cursor:"pointer"}}});t.b=function(e){var t=Object(b.useState)(0),n=Object(s.a)(t,2),a=n[0],l=n[1],p=Object(b.useState)({}),h=Object(s.a)(p,2),O=h[0],j=h[1],v=A();Object(b.useEffect)((function(){e.initialValues&&j(e.initialValues)}),[e.initialValues]);var x=function(e){return g.a.Children.toArray(e)[a].props},E=Object(b.useCallback)((function(e){j(e)}),[]),w=function(){var t=Object(c.a)(r.a.mark((function t(n){var c,i,s,u,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.children,i=x(c),!(s=i.prepareNextInitialProps)){t.next=7;break}return t.next=6,s(n);case 6:u=t.sent;case 7:d=Object(o.a)(Object(o.a)({},n),u),j(d),l(Math.min(a+1,g.a.Children.count(c)-1));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){return 0===a?k.a.goBack():l(Math.max(a-1,0))},z=function(){var t=Object(c.a)(r.a.mark((function t(n){var c,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.children,o=e.onSubmit,!(a===g.a.Children.count(c)-1)){t.next=4;break}return t.abrupt("return",o(n));case 4:return t.abrupt("return",w(n));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(t){return t===e.steps.length-1},I=e.buttonLabels,H=e.children,M=e.disabledWhenValidating,R=void 0!==M&&M,L=e.mutators,P=e.steps,W=e.testId,F=function(e){var t=x(e),n=t.component,a=Object(i.a)(t,["component"]);return n(Object(o.a)(Object(o.a)({},a),{},{updateInitialProps:E}))}(H),V=T(a),D=T(a+1);return g.a.createElement(g.a.Fragment,null,g.a.createElement(S.a,{formMutators:L,initialValues:O,onSubmit:z,testId:W,validation:function(t){var n=e.children,r=g.a.Children.toArray(n)[a];return r.props.validate?r.props.validate(t):{}}},(function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),c=2;c<n;c++)r[c-2]=arguments[c];var o=R?e||t:e,i=g.a.createElement(g.a.Fragment,null,g.a.createElement(C.a,null),g.a.createElement(y,{buttonLabels:I,currentStep:a,disabled:o,firstPage:0===a,lastPage:V,onPrevious:N,penultimate:D}));return g.a.createElement(f.a,{activeStep:a,classes:{root:v.root},orientation:"vertical"},P.map((function(e,t){var n={};return t<a&&(n.onClick=function(){l(t)},n.className=v.pointerCursor),g.a.createElement(u.a,{key:e},g.a.createElement(m.a,n,e),g.a.createElement(d.a,{TransitionProps:_},F.apply(void 0,[i].concat(r))))})))})))}},3059:function(e,t,n){"use strict";n.r(t),n.d(t,"createSafe",(function(){return Nt}));var a,r,c,o,i,s,l,u,d,m,f,p,b,g,h,O,j,v=n(86),x=n(33),E=n(2),w=n.n(E),y=n(5),S=n(10),C=n(21),k=n(2578),_=n(2586),N=n.n(_),A=n(0),z=n.n(A),T=n(38),I=n(59),H=n(27),M=n(25),R=n(139),L=n(20),P=n(115),W=Object(M.default)(C.Text)(a||(a=Object(H.a)(["\n  display: inline-flex;\n  a {\n    margin-left: 4px;\n  }\n  svg {\n    position: relative;\n    top: 4px;\n    left: 4px;\n  }\n"]))),F=Object(M.default)(R.a)(r||(r=Object(H.a)(["\n  margin-right: 16px;\n"]))),V=M.default.div(c||(c=Object(H.a)(["\n  width: 100%;\n  height: 76px;\n\n  button {\n    margin-top: 24px;\n  }\n"]))),D=M.default.span(o||(o=Object(H.a)(["\n  margin-left: 10px;\n"]))),B=function(e){var t=e.safeCreationTxHash,n=Object(L.c)(t)(),a=n.url,r=n.alt,c=/(http|https):\/\/(\w+\.\w+)\/.*/i.exec(a),o=null!==c?c[2]:"Network Explorer";return z.a.createElement("span",null,z.a.createElement(C.Text,{size:"xl"},"This process should take a couple of minutes."),z.a.createElement(W,{size:"xl"},"Follow the progress on"," ",z.a.createElement(C.Link,{href:a,"aria-label":r,target:"_blank",rel:"noopener noreferrer","data-testid":"safe-create-explorer-link",title:"More info about this in Etherscan"},z.a.createElement(C.Text,{size:"xl",as:"span",color:"primary"},o),z.a.createElement(C.Icon,{size:"sm",type:"externalLink",color:"primary"}))))},G=function(e){var t=e.onCancel,n=e.onRetry;return z.a.createElement(V,null,z.a.createElement(P.a,null),z.a.createElement(F,{onClick:t,variant:"contained"},"Cancel"),z.a.createElement(R.a,{color:"primary",onClick:n,variant:"contained"},"Retry"))},Y=[{id:"1",label:"Waiting for transaction confirmation",description:void 0,instruction:"Please confirm the Safe creation in your wallet",footerComponent:null},{id:"2",label:"Transaction submitted",description:void 0,instruction:"Please do not leave the page",footerComponent:B},{id:"3",label:"Validating transaction",description:void 0,instruction:"Please do not leave the page",footerComponent:B},{id:"4",label:"Deploying smart contract",description:void 0,instruction:"Please do not leave the page",footerComponent:B},{id:"5",label:"Generating your Safe",description:void 0,instruction:"Please do not leave the page",footerComponent:B},{id:"6",label:"Success",description:"Your Safe was created successfully",instruction:void 0,footerComponent:function(e){var t=e.continueButtonDisabled,n=e.onContinue;return z.a.createElement(V,null,z.a.createElement(P.a,null),z.a.createElement(R.a,{color:"primary",disabled:t,onClick:n,variant:"contained","data-testid":"continue-btn"},t?z.a.createElement(z.a.Fragment,null,z.a.createElement(C.Loader,{size:"xs",color:"secondaryLight"})," ",z.a.createElement(D,null,"Loading your safe")):z.a.createElement(z.a.Fragment,null,"Get started")))}}],q=n(1409),U=n(93),Q=n(62),J=n(65),X=n(69),$=n(30),K=n(4),Z=n(94),ee=n.p+"static/media/safe-created.a4191f5c.svg",te=n.p+"static/media/vault-error.6a7f7919.svg",ne=n.p+"static/media/creation-process.b0164935.gif",ae=M.default.div(i||(i=Object(H.a)(["\n  display: grid;\n  grid-template-columns: 250px auto;\n  grid-template-rows: 43px auto;\n  margin-bottom: 30px;\n"]))),re=Object(M.default)(q.a)(s||(s=Object(H.a)(["\n  grid-column: 1/3;\n  grid-row: 1;\n  margin: 7px 0 0 0 !important;\n"]))),ce=M.default.div(l||(l=Object(H.a)(["\n  grid-column: 1;\n  grid-row: 2;\n"]))),oe=M.default.div(u||(u=Object(H.a)(["\n  grid-column: 2;\n  grid-row: 2;\n  text-align: center;\n  background-color: ",";\n  border-radius: 5px;\n  min-width: 700px;\n  padding-top: 70px;\n  box-shadow: 0 0 10px 0 rgba(33, 48, 77, 0.1);\n\n  display: grid;\n  grid-template-rows: 100px 50px 110px 1fr;\n"])),(function(e){return e.theme.colors.white})),ie=M.default.div(d||(d=Object(H.a)(["\n  font-size: 20px;\n  padding-top: 10px;\n"]))),se=Object(M.default)(Q.a)(m||(m=Object(H.a)(["\n  background-color: ",";\n  color: ",";\n  padding: 28px;\n  font-size: 20px;\n  margin-bottom: 16px;\n  transition: color 0.3s ease-in-out, background-color 0.3s ease-in-out;\n"])),(function(e){return 0===e.stepIndex?K.connected:K.background}),(function(e){var t=e.theme;return 0===e.stepIndex?t.colors.white:K.fontColor})),le=M.default.div(f||(f=Object(H.a)(["\n  grid-row: 1;\n"]))),ue=M.default.div(p||(p=Object(H.a)(["\n  grid-row: 2;\n"]))),de=M.default.div(b||(b=Object(H.a)(["\n  grid-row: 3;\n  margin: 27px 0;\n"]))),me=M.default.div(g||(g=Object(H.a)(["\n  grid-row: 4;\n\n  padding: 10px 0;\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n"]))),fe=Object(M.default)(R.a)(h||(h=Object(H.a)(["\n  grid-column: 2;\n  margin: 20px auto 0;\n"]))),pe=function(e){var t,n=e.creationTxHash,a=e.onCancel,r=e.onRetry,c=e.onSuccess,o=e.submittedPromise,i=Object(A.useState)(!0),s=Object(x.a)(i,2),l=s[0],u=s[1],d=Object(A.useState)(0),m=Object(x.a)(d,2),f=m[0],p=m[1],b=Object(A.useState)(""),g=Object(x.a)(b,2),h=g[0],O=g[1],j=Object(A.useState)(""),v=Object(x.a)(j,2),E=v[0],S=v[1],k=Object(A.useState)(!1),_=Object(x.a)(k,2),N=_[0],I=_[1],H=Object(A.useState)(!1),M=Object(x.a)(H,2),R=M[0],L=M[1],P=Object(A.useState)(!1),W=Object(x.a)(P,2),F=W[0],V=W[1],D=Object(A.useState)(!1),B=Object(x.a)(D,2),q=B[0],Q=B[1],K=Object(T.f)(Z.d),pe=function(e){return 0===e}(f),be=function(e){L(!1),V(!1),Q(!1),I(!0),console.log(e)},ge=function(){p(0),I(!1),r()};return Object(A.useEffect)((function(){K&&function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.k)();case 2:u(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[K]),Object(A.useEffect)((function(){void 0!==o&&(p(0),o.once("transactionHash",(function(e){O(e),p(1),L(!0)})).on("error",be))}),[o]),Object(A.useEffect)((function(){void 0!==n&&(console.log(n),O(n),p(1),L(!0))}),[n]),Object(A.useEffect)((function(){if(R){var e=function(){var e=Object(y.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=Object($.f)(),e.next=4,n.eth.getTransaction(t);case 4:if(null!==e.sent.blockNumber){e.next=7;break}return e.abrupt("return",!1);case 7:return e.next=9,n.eth.getTransactionReceipt(t);case 9:if(e.sent.status){e.next=12;break}throw Error("TX status reverted");case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=setInterval(Object(y.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f<4&&p(f+1),void 0!==o&&o.then((function(){p(4),V(!0),L(!1)})),void 0===n){t.next=14;break}return t.prev=3,t.next=6,e(n);case 6:t.sent&&(p(4),V(!0),L(!1)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),console.log("here"),be(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,10]])}))),3e3);return function(){clearInterval(t)}}}),[n,o,R,f,N]),Object(A.useEffect)((function(){var e,t=function(){var t=Object(y.a)(w.a.mark((function t(n){var a,r,c,o;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.prev=1,a=Object($.f)(),t.next=5,a.eth.getTransactionReceipt(n);case 5:(r=t.sent).events?(c=r.events.ProxyCreation.returnValues.proxy,console.log(c)):(o=a.eth.abi.decodeLog([{type:"address",name:"ProxyCreation"}],r.logs[0].data,r.logs[0].topics),c=o[0]),S(c),e=setInterval(Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.eth.getCode(c);case 2:e.sent!==X.a&&p(5);case 4:case"end":return e.stop()}}),e)}))),1e3),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),be(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();if(F)return console.log("creation hash ",h),"string"===typeof h&&t(h),function(){clearInterval(e)}}),[h,F]),l||void 0===f?z.a.createElement(C.Loader,{size:"sm"}):(N?t=G:Y[f].footerComponent&&(t=Y[f].footerComponent),z.a.createElement(ae,null,z.a.createElement(re,{tag:"h2",testId:"safe-creation-process-title"},"Safe creation process"),z.a.createElement(ce,null,z.a.createElement(C.Stepper,{activeStepIndex:f,error:N,orientation:"vertical",steps:Y})),z.a.createElement(oe,null,z.a.createElement(le,null,z.a.createElement(U.a,{alt:"Vault",height:92,src:N?te:f<=4?ne:ee})),z.a.createElement(ue,null,z.a.createElement(ie,null,Y[f].description||Y[f].label)),Y[f].instruction&&z.a.createElement(de,null,z.a.createElement(se,{color:"primary",inversecolors:pe.toString(),noMargin:!0,size:"md",stepIndex:f},N?"You can Cancel or Retry the Safe creation process.":Y[f].instruction)),z.a.createElement(me,null,t?z.a.createElement(t,{continueButtonDisabled:q,onCancel:a,onClick:ge,onContinue:function(){Q(!0),c(E)},onRetry:ge,safeCreationTxHash:h}):null)),0!==f&&z.a.createElement(fe,{color:"primary",minWidth:140,onClick:a,"data-testid":"safe-creation-back-btn"},"Back")))},be=n(173),ge=n(17),he=n(280),Oe=n(1651),je=n.n(Oe),ve=n(1714),xe=n(107),Ee=n(76),we=n(530),ye=n(92),Se=n(1431),Ce=n(1461),ke=n(1399),_e=n(347),Ne=n(443),Ae=Object(_e.a)(Object(Ne.a)({root:Object(ge.a)({minHeight:"300px"},"@media (min-width: ".concat(K.screenSm,"px)"),{flexDirection:"row"}),detailsColumn:Object(ge.a)({minWidth:"100%"},"@media (min-width: ".concat(K.screenSm,"px)"),{minWidth:"0"}),ownersColumn:Object(ge.a)({minWidth:"100%"},"@media (min-width: ".concat(K.screenSm,"px)"),{minWidth:"0"}),details:{padding:K.lg,borderRight:"solid 1px ".concat(K.border),height:"100%"},info:{backgroundColor:K.background,flexDirection:"column",justifyContent:"center",padding:K.lg,textAlign:"center"},owners:{padding:K.lg},name:{textOverflow:"ellipsis",overflow:"hidden"},owner:{alignItems:"center",minWidth:"fit-content",padding:K.sm,paddingLeft:K.lg},user:{justifyContent:"left","& > p":{marginRight:K.sm}},open:{paddingLeft:K.sm,width:"auto","&:hover":{cursor:"pointer"}}})),ze=n(253),Te=n(214),Ie=Object(L.i)().nativeCoin,He=Object(L.i)().nativeCoin,Me=function(e){var t=e.values,n=e.form,a=Ae(),r=Object(Ce.b)(t),c=Object(A.useMemo)((function(){return Object(Ce.a)(t)}),[t]),o=Object(ke.e)(t),i=Object(Ce.c)(t),s=function(e){var t=e.addresses,n=e.numOwners,a=e.safeCreationSalt,r=Object(A.useState)({gasEstimation:0,gasCostFormatted:"< 0.001",gasLimit:0}),c=Object(x.a)(r,2),o=c[0],i=c[1],s=Object(T.f)(Z.f);return Object(A.useEffect)((function(){!function(){var e=Object(y.a)(w.a.mark((function e(){var r,c,o,l,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length&&n&&s){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(J.e)(t,n,s,a);case 4:return r=e.sent,e.next=7,Object(X.c)();case 7:c=e.sent,o=r*parseInt(c,10),l=Object(ze.a)(o,Ie.decimals),u=Object(Te.a)(l),i({gasEstimation:r,gasCostFormatted:u,gasLimit:r});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n,s,a,t]),o}({addresses:c,numOwners:o,safeCreationSalt:i}),l=s.gasCostFormatted,u=s.gasLimit;return Object(A.useEffect)((function(){n.mutators.setValue("gasLimit",u)}),[u,n.mutators]),z.a.createElement(z.a.Fragment,null,z.a.createElement(Ee.a,{className:a.root},z.a.createElement(ye.a,{className:a.detailsColumn,layout:"column",xs:4},z.a.createElement(xe.a,{className:a.details},z.a.createElement(xe.a,{margin:"lg"},z.a.createElement(Q.a,{color:"primary",noMargin:!0,size:"lg","data-testid":"create-safe-step-three"},"Details")),z.a.createElement(xe.a,{margin:"lg"},z.a.createElement(Q.a,{color:"disabled",noMargin:!0,size:"sm"},"Name of new Safe"),z.a.createElement(Q.a,{className:a.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder","data-testid":"create-safe-review-name"},t[ke.c])),z.a.createElement(xe.a,{margin:"lg"},z.a.createElement(Q.a,{color:"disabled",noMargin:!0,size:"sm"},"Any transaction requires the confirmation of:"),z.a.createElement(Q.a,{color:"primary",noMargin:!0,size:"lg",weight:"bolder","data-testid":"create-safe-review-req-owners-".concat(t[ke.a])},"".concat(t[ke.a]," out of ").concat(o," owners"))))),z.a.createElement(ye.a,{className:a.ownersColumn,layout:"column",xs:8},z.a.createElement(we.a,null,z.a.createElement(xe.a,{className:a.owners},z.a.createElement(Q.a,{color:"primary",noMargin:!0,size:"lg"},"".concat(o," Safe owners"))),z.a.createElement(P.a,null),r.map((function(e,t){return z.a.createElement(z.a.Fragment,{key:"name".concat(t)},z.a.createElement(Ee.a,{className:a.owner},z.a.createElement(ye.a,{align:"center",xs:12},z.a.createElement(C.EthHashInfo,{"data-testid":"create-safe-owner-name-".concat(t),hash:c[t],name:e,showAvatar:!0,showCopyBtn:!0,explorerUrl:Object(L.c)(c[t])}))),z.a.createElement(P.a,null))}))))),z.a.createElement(Ee.a,{align:"center",className:a.info},z.a.createElement(Q.a,{color:"primary",noMargin:!0,size:"lg"},"You're about to create a new Safe and will have to confirm a transaction with your currently connected wallet. The creation will cost approximately ",l," ",He.name,". The exact amount will be determined by your wallet.")))},Re=function(){return function(e,t){return z.a.createElement(z.a.Fragment,null,z.a.createElement(Se.a,{controls:e,padding:!1},z.a.createElement(Me,t)))}},Le=n(1337),Pe=n(1341),We=n(470),Fe=Object(Ne.a)({root:{display:"flex",maxWidth:"440px"},text:{flexWrap:"nowrap"},dot:{marginRight:K.sm},links:{"&>a":{color:K.secondary}}}),Ve=Object(M.default)(Le.a)(O||(O=Object(H.a)(["\n  &.MuiTextField-root {\n    width: 460px;\n  }\n"]))),De=Object(_e.a)(Fe),Be=function(e){var t=e.safeName,n=De();return A.createElement(A.Fragment,null,A.createElement(xe.a,{margin:"lg"},A.createElement(Q.a,{color:"primary",noMargin:!0,size:"lg"},"You are about to create a new Safe with one or more owners. First, let's give your new Safe a name. This name is only stored locally and will never be shared with Gnosis or any third parties.")),A.createElement(xe.a,{className:n.root,margin:"lg"},A.createElement(Ve,{component:Pe.a,defaultValue:t,name:ke.c,placeholder:"Name of the new Safe",text:"Safe name",type:"text",validate:Object(We.c)(We.p,We.r),testId:"create-safe-name-field"})),A.createElement(xe.a,{margin:"lg"},A.createElement(Q.a,{className:n.links,color:"primary",noMargin:!0,size:"lg"},"By continuing you consent to the"," ",A.createElement("a",{href:"https://gnosis-safe.io/terms",rel:"noopener noreferrer",target:"_blank"},"terms of use")," ","and"," ",A.createElement("a",{href:"https://gnosis-safe.io/privacy",rel:"noopener noreferrer",target:"_blank"},"privacy policy"),".")))},Ge=function(){return function(e,t){var n=t.values.safeName;return A.createElement(Se.a,{controls:e},A.createElement(Be,{safeName:n}))}},Ye=n(526),qe=n(523),Ue=n(1650),Qe=n.n(Ue),Je=Object(Ne.a)({root:{display:"flex"},title:{padding:"".concat(K.md," ").concat(K.lg)},link:{paddingLeft:"".concat(K.xs),"& svg":{position:"relative",top:"1px",left:"".concat(K.xs),height:"14px",width:"14px"}},owner:Object(ge.a)({flexDirection:"column",marginTop:"12px",padding:"0 ".concat(K.lg),"&:first-child":{marginTop:0}},"@media (min-width: ".concat(K.screenSm,"px)"),{flexDirection:"row"}),ownerName:Object(ge.a)({marginBottom:"5px",minWidth:"100%"},"@media (min-width: ".concat(K.screenSm,"px)"),{marginBottom:"0",minWidth:"0"}),ownerAddress:Object(ge.a)({marginBottom:"15px",minWidth:"100%"},"@media (min-width: ".concat(K.screenSm,"px)"),{marginBottom:"0",minWidth:"0"}),header:{padding:"".concat(K.sm," ").concat(K.lg),fontSize:K.extraSmallFontSize,color:K.disabled},name:{marginRight:"".concat(K.sm)},trash:{top:"5px"},add:{justifyContent:"center"},check:{color:"#03AE60",height:"20px"},remove:{height:"56px",maxWidth:"50px","&:hover":{cursor:"pointer"}},owners:{paddingLeft:K.md},ownersAmount:Object(ge.a)({flexDirection:"column"},"@media (min-width: ".concat(K.screenSm,"px)"),{flexDirection:"row"}),ownersAmountItem:Object(ge.a)({minWidth:"100%"},"@media (min-width: ".concat(K.screenSm,"px)"),{minWidth:"0"})}),Xe=n(1540),$e=n(1365),Ke=n.p+"static/media/trash.97d82c4a.svg",Ze=n(1371),et=n(1410),tt=n(1385),nt=n(252),at=n(102),rt=A.useState,ct=Object(M.default)(et.a)(j||(j=Object(H.a)(["\n  width: 460px;\n"]))),ot=function(e){return Object.keys(e).reduce((function(t,n){if(/owner\d+Address/.test(n)){var a=e[n].toLowerCase();t.addresses.includes(a)&&(t.errors[n]=We.a),t.addresses.push(a)}return t}),{addresses:[],errors:{}}).errors},it=Object(_e.a)(Je),st=function(e){var t=e.errors,n=e.form,a=e.values,r=it(),c=Object(ke.e)(a),o=Object(T.f)(nt.c),i=rt(c),s=Object(x.a)(i,2),l=s[0],u=s[1],d=rt(!1),m=Object(x.a)(d,2),f=m[0],p=m[1],b=rt(null),g=Object(x.a)(b,2),h=g[0],O=g[1],j=function(){p(!1)},E=function(e){return function(){var t=function(e,t){return Object.keys(t).sort().reduce((function(n,a){var r=/owner(\d+)(Name|Address)/;if(!r.test(a))return n[a]=t[a],n;if(new RegExp("owner".concat(Object(Xe.a)(e),"(Name|Address)")).test(a))return n;var c=a.match(r),o=Object(x.a)(c,3),i=o[1],s=o[2];return Number(i)>e?n["owner".concat(Object(Xe.a)(Number(i)-1)).concat(s)]=t[a]:n[a]=t[a],n}),{})}(e,a);n.reset(t),u(l-1)}};return A.createElement(A.Fragment,null,A.createElement(xe.a,{className:r.title},A.createElement(Q.a,{color:"primary",noMargin:!0,size:"lg","data-testid":"create-safe-step-two"},"Your Safe will have one or more owners. We have prefilled the first owner with your connected wallet details, but you are free to change this to a different owner.",A.createElement("br",null),A.createElement("br",null),"Add additional owners (e.g. wallets of your teammates) and specify how many of them have to confirm a transaction before it gets executed. You can also add/remove owners and change the signature threshold after your Safe is created.",A.createElement(C.Link,{href:"https://help.gnosis-safe.io/en/articles/4772567-what-gnosis-safe-setup-should-i-use",target:"_blank",className:r.link,rel:"noreferrer",title:"Learn about which Safe setup to use"},A.createElement(C.Text,{size:"xl",as:"span",color:"primary"},"Learn about which Safe setup to use"),A.createElement(C.Icon,{size:"sm",type:"externalLink",color:"primary"})))),A.createElement(P.a,null),A.createElement(Ee.a,{className:r.header},A.createElement(ye.a,{xs:3},"NAME"),A.createElement(ye.a,{xs:7},"ADDRESS")),A.createElement(P.a,null),A.createElement(xe.a,{margin:"md",padding:"md"},Object(v.a)(Array(Number(l))).map((function(e,a){var c=Object(ke.f)(a),i=Object(ke.g)(a);return A.createElement(Ee.a,{className:r.owner,key:"owner".concat(a),"data-testid":"create-safe-owner-row"},A.createElement(ye.a,{className:r.ownerName,xs:3},A.createElement(Le.a,{className:r.name,component:Pe.a,name:i,placeholder:"Owner Name*",text:"Owner Name",type:"text",validate:Object(We.c)(We.p,Object(We.g)(1,50)),testId:"create-safe-owner-name-field-".concat(a)})),A.createElement(ye.a,{className:r.ownerAddress,xs:7},A.createElement(ct,{fieldMutator:function(e){var t=Object(at.f)(o,e,{filterOnlyValidName:!0});n.mutators.setValue(c,e),t&&n.mutators.setValue(i,t)},inputAdornment:Object(We.o)(c,t)&&{endAdornment:A.createElement(Ye.a,{position:"end"},A.createElement(Qe.a,{className:r.check,"data-testid":"valid-address-".concat(a)}))},name:c,placeholder:"Owner Address*",text:"Owner Address",testId:"create-safe-address-field-".concat(a)})),A.createElement(ye.a,{center:"xs",className:r.remove,middle:"xs",xs:1},A.createElement(U.a,{alt:"Scan QR",height:20,onClick:function(){!function(e){O(e),p(!0)}(c)},src:$e.a})),A.createElement(ye.a,{center:"xs",className:r.remove,middle:"xs",xs:1},a>0&&A.createElement(U.a,{alt:"Delete",height:20,onClick:E(a),src:Ke})))}))),A.createElement(Ee.a,{align:"center",className:r.add,grow:!0,margin:"xl"},A.createElement(R.a,{color:"secondary","data-testid":"add-owner-btn",onClick:function(){u(l+1)}},A.createElement(Q.a,{noMargin:!0,size:"lg"},"+ Add another owner"))),A.createElement(xe.a,{className:r.owner,margin:"md",padding:"md"},A.createElement(Q.a,{color:"primary",size:"md"},"Any transaction requires the confirmation of:"),A.createElement(Ee.a,{align:"center",className:r.ownersAmount,margin:"xl"},A.createElement(ye.a,{className:r.ownersAmountItem,xs:1},A.createElement(Le.a,{component:tt.a,"data-testid":"threshold-select-input",name:ke.a,validate:Object(We.c)(We.p,We.n,Object(We.h)(1))},Object(v.a)(Array(Number(c))).map((function(e,t){return A.createElement(qe.a,{key:"selectOwner".concat(t),value:"".concat(t+1),"data-testid":"input-".concat(t+1)},t+1)})))),A.createElement(ye.a,{className:r.ownersAmountItem,xs:10},A.createElement(Q.a,{className:r.owners,color:"primary",noMargin:!0,size:"lg","data-testid":"create-safe-req-conf-".concat(c)},"out of ",c," owner(s)")))),f&&A.createElement(Ze.a,{isOpen:f,onClose:j,onScan:function(e){var t,a=e;(null===(t=a)||void 0===t?void 0:t.startsWith("ethereum:"))&&(a=a.replace("ethereum:","")),n.mutators.setValue(h,a),j()}}))},lt=function(){return function(e,t){var n=t.errors,a=t.form,r=t.values;return A.createElement(A.Fragment,null,A.createElement(Se.a,{controls:e,padding:!1},A.createElement(st,{errors:n,form:a,otherAccounts:Object(Ce.a)(r),values:r})))}},ut=n(1647),dt=n(120),mt=A.useEffect,ft={color:K.secondary,padding:K.sm,marginRight:"5px"},pt=function(){dt.a.goBack()},bt={setValue:function(e,t,n){var a=Object(x.a)(e,2),r=a[0],c=a[1];(0,n.changeValue)(t,r,(function(){return c}))}},gt=function(e){var t=e.onCallSafeContractSubmit,n=e.safeProps,a=Object(T.f)(Z.d),r=Object(T.f)(Z.f);mt((function(){a&&Object(J.k)()}),[a]);var c=["Name","Owners and confirmations","Review"],o=function(e,t){var n,a,r=Object(T.f)(nt.c),c=Object(at.f)(r,e,{filterOnlyValidName:!0});if(!t)return a={},Object(ge.a)(a,Object(ke.g)(0),c||"My Wallet"),Object(ge.a)(a,Object(ke.f)(0),e),Object(ge.a)(a,ke.a,"1"),Object(ge.a)(a,ke.b,Date.now()),a;var o,i={},s=t.name,l=t.ownerAddresses,u=t.ownerNames,d=t.threshold,m=Object(be.a)(l.entries());try{for(m.s();!(o=m.n()).done;){var f,p=Object(x.a)(o.value,2),b=p[0],g=p[1],h=u[b]?u[b]:"My Wallet";i=Object(S.a)(Object(S.a)({},i),{},(f={},Object(ge.a)(f,Object(ke.f)(b),g),Object(ge.a)(f,Object(ke.g)(b),h),f))}}catch(O){m.e(O)}finally{m.f()}return Object(S.a)(Object(S.a)({},i),{},(n={},Object(ge.a)(n,ke.a,d||"1"),Object(ge.a)(n,ke.d,s),Object(ge.a)(n,ke.b,Date.now()),n))}(r,n);return a?A.createElement(xe.a,null,A.createElement(Ee.a,{align:"center"},A.createElement(he.a,{disableRipple:!0,onClick:pt,style:ft},A.createElement(je.a,null)),A.createElement(q.a,{tag:"h2",testId:"create-safe-form-title"},"Create new Safe")),A.createElement(ve.b,{initialValues:o,mutators:bt,onSubmit:t,steps:c,testId:"create-safe-form"},A.createElement(ve.a,{component:Ge}),A.createElement(ve.a,{component:lt,validate:ot}),A.createElement(ve.a,{component:Re}))):A.createElement(ut.a,{isOldMultisigMigration:!0})},ht=n(1491),Ot=n(274),jt=n(55),vt=n(301),xt=n(68),Et=n(187),wt=n(143),yt=n(195),St=n(165),Ct=function(e){return new Promise((function(t){return setTimeout(t,e)}))},kt="SAFE_PENDING_CREATION_STORAGE_KEY",_t=function(e){if(function(e){var t=e.ownerAddresses,n=e.ownerNames,a=e.threshold,r=e.safeName;return!!(t&&n&&a&&r)&&!Number.isNaN(a)&&a>0&&a<=t.length}(e)){var t=e.threshold,n=e.safeName,a=e.ownerAddresses,r=e.ownerNames;return{name:n,threshold:t.toString(),ownerAddresses:Array.isArray(a)?a:[a],ownerNames:Array.isArray(r)?r:[r]}}},Nt=function(e,t){var n=Object(Ce.e)(e),a=Object(Ce.a)(e),r=Object(Ce.c)(e),c=Object(J.h)(a,n,r).send({from:t,gas:null===e||void 0===e?void 0:e.gasLimit});return c.once("transactionHash",(function(t){Object(xt.c)(kt,Object(S.a)({txHash:t},e))})).then(function(){var e=Object(y.a)(w.a.mark((function e(t){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.d)(t.transactionHash);case 2:return console.log(t),a=null===(n=t.events)||void 0===n?void 0:n.ProxyCreation.returnValues.proxy,e.abrupt("return",{safeAddress:a,safeTx:t});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e)})),c};t.default=function(){var e=Object(A.useState)(!1),t=Object(x.a)(e,2),n=t[0],a=t[1],r=Object(A.useState)(!1),c=Object(x.a)(r,2),o=c[0],i=c[1],s=Object(A.useState)(),l=Object(x.a)(s,2),u=l[0],d=l[1],m=Object(A.useState)(),f=Object(x.a)(m,2),p=f[0],b=f[1],g=Object(A.useState)(),h=Object(x.a)(g,2),O=h[0],j=h[1],E=Object(T.f)(Z.f),_=Object(T.e)(),H=Object(I.h)(),M=Object(St.d)().trackEvent;Object(A.useEffect)((function(){var e=N.a.parse(H.search,{arrayFormat:"comma"}),t=e.name,n=e.owneraddresses,a=e.ownernames,r=e.threshold,c=_t({ownerAddresses:n,ownerNames:a,threshold:Number(r),safeName:t});j(c)}),[H]),Object(A.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xt.a)(kt);case 2:(t=e.sent)&&t.txHash?(b(t),i(!0)):i(!1),a(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var R=function(){var e=Object(y.a)(w.a.mark((function e(t){var n,a,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t)){e.next=6;break}a=Object(S.a)({},n),Object(xt.c)(kt,a),e.next=9;break;case 6:return e.next=8,Object(xt.a)(kt);case 8:n=e.sent;case 9:r=Nt(n,E),d(r),i(!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(y.a)(w.a.mark((function e(t){var n,a,r,c,o,i,s,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xt.a)(kt);case 2:return n=e.sent,a="",r=[],c=[],n&&(a=Object(Ce.d)(n),r=Object(Ce.b)(n),c=Object(Ce.a)(n)),o=c.map((function(e,t){return Object(Et.b)({address:e,name:r[t]})})),i=Object(Et.b)({address:t,name:a}),e.next=11,_(Object(wt.e)([].concat(Object(v.a)(o),[i])));case 11:return e.next=13,Object(vt.a)(t);case 13:return s=e.sent,e.next=16,_(Object(yt.b)(s));case 16:return M({category:"User",action:"Created a safe"}),e.next=19,Ct(5e3);case 19:return e.next=21,Object(k.backOff)((function(){return Object(Ot.a)(t)}),{startingDelay:750,retry:function(e){return console.info("waiting for client-gateway to provide safe information",e),!0}});case 21:return e.next=23,Object(xt.b)(kt);case 23:l={pathname:"".concat(jt.c,"/").concat(s.address,"/balances"),state:{name:a,tx:null===n||void 0===n?void 0:n.txHash}},dt.a.push(l);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xt.a)(kt);case 2:return null===(t=e.sent)||void 0===t||delete t.txHash,e.next=6,Object(xt.c)(kt,t);case 6:b(t),R();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n||void 0===o?z.a.createElement(C.Loader,{size:"md"}):z.a.createElement(ht.a,null,o?z.a.createElement(pe,{creationTxHash:null===p||void 0===p?void 0:p.txHash,onCancel:function(){Object(xt.b)(kt),dt.a.push({pathname:"".concat(jt.e)})},onRetry:P,onSuccess:L,submittedPromise:u}):z.a.createElement(gt,{onCallSafeContractSubmit:R,safeProps:O}))}}}]);
//# sourceMappingURL=30.4e176dea.chunk.js.map