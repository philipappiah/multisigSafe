(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[26,6],{1337:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(1336);t.a=function(e){var t=Object.assign({},e);return r.a.createElement(o.a,t)}},1341:function(e,t,a){"use strict";var n=a(10),r=a(45),o=a(537),i=a(443),c=a(347),l=a(0),s=a.n(l),m=a(4),u={overflow:"hidden",width:"100%"},d=Object(c.a)((function(){return Object(i.a)({root:{paddingTop:m.lg,paddingBottom:"12px",lineHeight:0}})}));t.a=function(e){var t=e.input,a=t.name,i=t.onChange,c=t.value,l=Object(r.a)(t,["name","onChange","value"]),m=e.inputAdornment,f=e.meta,b=e.multiline,g=e.rows,p=e.testId,h=e.text,E=Object(r.a)(e,["input","inputAdornment","meta","multiline","rows","testId","text"]),O=d(),x=c?h:void 0,v=(f.touched||!f.pristine)&&!f.valid,j=!!f.error||!f.modifiedSinceLastSubmit&&!!f.submitError,w=f.error||f.submitError,C=!f.active&&(f.pristine||!f.touched),S="undefined"===typeof f.error||!f.touched,y=C&&S,N=x?O.root:"",T=f.valid?"isValid":j&&v?"isInvalid":"",k=Object(n.a)(Object(n.a)({},l),{},{autoComplete:"off","data-testid":p}),I=Object(n.a)(Object(n.a)({},m),{},{className:"".concat(N," ").concat(T),disableUnderline:y});return s.a.createElement(o.a,Object.assign({error:j&&v,helperText:j&&v?w:x||" ",inputProps:k,InputProps:I,multiline:b,name:a,onChange:i,rows:g,style:u,value:c},E))}},1342:function(e,t,a){"use strict";var n=a(45),r=a(0),o=a(1336),i=function(e){return{padding:"0 ".concat(e,"%"),flexDirection:"column",flex:"1 0 auto"}};t.a=function(e){var t=e.children,a=e.decorators,c=e.formMutators,l=e.initialValues,s=e.onSubmit,m=e.padding,u=void 0===m?0:m,d=e.subscription,f=e.testId,b=void 0===f?"":f,g=e.validation;return r.createElement(o.b,{decorators:a,initialValues:l,mutators:c,onSubmit:s,render:function(e){var a=e.handleSubmit,o=Object(n.a)(e,["handleSubmit"]);return r.createElement("form",{"data-testid":b,onSubmit:a,style:i(u)},t(o.submitting,o.validating,o,o.form.mutators))},subscription:d,validate:g})}},1350:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return S}));var n,r=a(2),o=a.n(r),i=a(5),c=a(33),l=a(0),s=a(38),m=a(20),u=a(510),d=a(253),f=a(214),b=a(69),g=a(50),p=a(48),h=a(30),E=a(94),O=a(233),x=a(31),v=a(116);!function(e){e.LOADING="LOADING",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS"}(n||(n={}));var j=function(e,t,a,n){return!!(1===e||Object(v.a)(n,"spendingLimit")||void 0!==a&&a>=e)||!(!t||!a)&&a+1===e},w=function(e,t,a,n){return n?t+1===e||Object(v.a)(a,"spendingLimit"):1===e},C=function(e,t){return 0===e&&!Object(v.a)(t,"spendingLimit")},S=function(e){var t=e.txRecipient,a=e.txData,r=e.txConfirmations,v=e.txAmount,S=e.preApprovingOwner,y=e.operation,N=e.safeTxGas,T=e.txType,k=e.manualGasPrice,I=e.manualGasLimit,G=Object(l.useState)({txEstimationExecutionStatus:n.LOADING,gasEstimation:0,gasCost:"0",gasCostFormatted:"< 0.001",gasPrice:"0",gasPriceFormatted:"0",gasLimit:"0",isExecution:!1,isCreation:!1,isOffChainSignature:!1}),R=Object(c.a)(G,2),A=R[0],B=R[1],L=Object(m.i)().nativeCoin,P=Object(s.f)(g.n),z=Object(s.f)(g.q),F=Object(s.f)(g.e),M=Object(s.f)(E.e),D=M.account,_=M.smartContractWallet,H=M.name;return Object(l.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){var i,c,l,s,m,g,E,G,R,A,M,H,V,W;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.length){e.next=2;break}return e.abrupt("return");case 2:if(i=C((null===r||void 0===r?void 0:r.size)||0,T),c=j(Number(z),S,null===r||void 0===r?void 0:r.size,T),l=w(Number(z),(null===r||void 0===r?void 0:r.size)||0,T,S),s=Object(O.a)(c,_,F),e.prev=6,m=N||0,g=0,E=!0,G=n.LOADING,!i){e.next=15;break}return e.next=14,Object(u.b)({safeAddress:P,txData:a,txRecipient:t,txAmount:v||"0",operation:y||p.a});case 14:m=e.sent;case 15:if(!c&&!l){e.next=19;break}return e.next=18,Object(u.c)({safeAddress:P,txRecipient:t,txData:a,txAmount:v||"0",txConfirmations:r,isExecution:c,isOffChainSignature:s,operation:y||p.a,from:D,safeTxGas:m,approvalAndExecution:l});case 18:g=e.sent;case 19:if(!k){e.next=23;break}e.t0=h.i.utils.toWei(k,"gwei"),e.next=26;break;case 23:return e.next=25,Object(b.c)();case 25:e.t0=e.sent;case 26:if(R=e.t0,A=h.i.utils.fromWei(R,"gwei"),M=g*parseInt(R,10),H=Object(d.a)(M,L.decimals),V=Object(f.a)(H),W=I||g.toString(),!c){e.next=36;break}return e.next=35,Object(u.a)({safeAddress:P,txRecipient:t,txData:a,txAmount:v||"0",txConfirmations:r,operation:y||p.a,from:D,gasPrice:"0",gasToken:x.a,gasLimit:W,refundReceiver:x.a,safeTxGas:m,approvalAndExecution:l});case 35:E=e.sent;case 36:G=E?n.SUCCESS:n.FAILURE,B({txEstimationExecutionStatus:G,gasEstimation:m,gasCost:H,gasCostFormatted:V,gasPrice:R,gasPriceFormatted:A,gasLimit:W,isExecution:c,isCreation:i,isOffChainSignature:s}),e.next=44;break;case 40:e.prev=40,e.t1=e.catch(6),console.warn(e.t1.message),B({txEstimationExecutionStatus:n.FAILURE,gasEstimation:0,gasCost:"0",gasCostFormatted:"< 0.001",gasPrice:"1",gasPriceFormatted:"1",gasLimit:"0",isExecution:c,isCreation:i,isOffChainSignature:s});case 44:case"end":return e.stop()}}),e,null,[[6,40]])})));return function(){return e.apply(this,arguments)}})()()}),[a,P,t,r,v,S,L.decimals,z,D,y,F,_,N,T,H,k,I]),A}},1351:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(1355),r=function(e){e.currentTarget.onerror=null,e.currentTarget.src=n.a};a(384)},1354:function(e,t,a){"use strict";var n=a(45),r=a(6),o=a(8),i=a(12),c=a(13),l=a(0),s=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=Object(n.a)(e,["children"]);return l.createElement("b",a,t)}}]),a}(l.PureComponent);t.a=s},1355:function(e,t,a){"use strict";t.a=a.p+"static/media/token_placeholder.c1abe466.svg"},1359:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n,r,o,i,c=a(27),l=a(0),s=a.n(l),m=a(25),u=a(21),d=a(1490),f=a(38),b=a(50),g=m.default.div(n||(n=Object(c.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),p=m.default.div(r||(r=Object(c.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n"]))),h=Object(m.default)(u.Text)(o||(o=Object(c.a)(["\n  margin: 8px 0 0 0;\n"]))),E=Object(m.default)(u.ButtonLink)(i||(i=Object(c.a)(["\n  padding-left: 0;\n  margin: 8px 0 0 0;\n\n  > p {\n    margin-left: 0;\n  }\n"]))),O=function(e){var t=e.onEdit,a=e.txParameters,n=e.compact,r=void 0===n||n,o=e.parametersStatus,i=e.isTransactionCreation,c=e.isTransactionExecution,l=e.isOffChainSignature,m=Object(f.f)(b.q)||1,O=l&&m>1?"ETH_HIDDEN":"ENABLED";return c||i||!l?s.a.createElement(u.Accordion,{compact:r},s.a.createElement(u.AccordionSummary,null,s.a.createElement(u.Text,{size:"lg"},"Advanced options")),s.a.createElement(u.AccordionDetails,null,s.a.createElement(p,null,s.a.createElement(h,{size:"md",color:"placeHolder"},"Safe transaction"),s.a.createElement(g,null,s.a.createElement(u.Text,{size:"lg",color:Object(d.b)(o||O)?"text":"secondaryLight"},"Safe nonce"),s.a.createElement(u.Text,{size:"lg",color:Object(d.b)(o||O)?"text":"secondaryLight"},a.safeNonce)),s.a.createElement(g,null,s.a.createElement(u.Text,{size:"lg",color:Object(d.b)(o||O)?"text":"secondaryLight"},"SafeTxGas"),s.a.createElement(u.Text,{size:"lg",color:Object(d.b)(o||O)?"text":"secondaryLight"},a.safeTxGas)),Object(d.a)(o||O)&&s.a.createElement(s.a.Fragment,null,s.a.createElement(g,null,s.a.createElement(h,{size:"md",color:"placeHolder"},Object(d.c)(c))),s.a.createElement(g,null,s.a.createElement(u.Text,{size:"lg"},"Nonce"),s.a.createElement(u.Text,{size:"lg"},a.ethNonce)),s.a.createElement(g,null,s.a.createElement(u.Text,{size:"lg"},"Gas limit"),s.a.createElement(u.Text,{size:"lg"},a.ethGasLimit)),s.a.createElement(g,null,s.a.createElement(u.Text,{size:"lg"},"Gas price"),s.a.createElement(u.Text,{size:"lg"},a.ethGasPrice))),s.a.createElement(E,{color:"primary",textSize:"xl",onClick:t},"Edit")))):null}},1363:function(e,t,a){"use strict";a.d(t,"a",(function(){return W}));var n,r,o,i,c,l,s,m=a(33),u=a(0),d=a.n(u),f=a(1538),b=a(27),g=a(280),p=a(471),h=a.n(p),E=a(347),O=a(21),x=a(25),v=a(1337),j=a(1341),w=a(107),C=a(76),S=a(4),y=a(443),N=Object(y.a)({heading:{padding:"".concat(S.md," ").concat(S.lg),justifyContent:"space-between",boxSizing:"border-box",height:"74px"},annotation:{letterSpacing:"-1px",color:S.secondaryText,marginRight:"auto",marginLeft:"20px"},headingText:{fontSize:S.lg},closeIcon:{height:"35px",width:"35px"},container:{padding:"".concat(S.md," ").concat(S.lg)},amount:{marginLeft:S.sm},address:{marginRight:S.sm},buttonRow:{height:"52px",justifyContent:"center",alignItems:"center",gap:"16px"}}),T=a(1342),k=a(470),I=a(290),G=a(1490),R=Object(x.default)(O.Divider)(n||(n=Object(b.a)(["\n  margin: 0px;\n"]))),A=Object(x.default)(O.Divider)(r||(r=Object(b.a)(["\n  margin: 16px -24px;\n"]))),B=x.default.div(o||(o=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  gap: 20px;\n"]))),L=x.default.div(i||(i=Object(b.a)(["\n  display: flex;\n  /* justify-content: space-between; */\n  flex-wrap: wrap;\n  gap: 10px 20px;\n\n  div {\n    width: 216px !important;\n  }\n"]))),P=Object(x.default)(O.Link)(c||(c=Object(b.a)(["\n  margin: 16px 0 0 0;\n  display: inline-flex;\n  align-items: center;\n\n  > :first-of-type {\n    margin-right: 5px;\n  }\n"]))),z=Object(x.default)(O.Text)(l||(l=Object(b.a)(["\n  margin: 0 0 4px 0;\n"]))),F=Object(x.default)(O.Text)(s||(s=Object(b.a)(["\n  margin: 16px 0 4px 0;\n"]))),M=Object(E.a)(N),D=function(e){var t=null!==e&&void 0!==e?e:{},a=t.ethGasLimit,n=t.ethGasPrice,r=t.ethNonce,o=t.safeNonce,i=t.safeTxGas;return{ethGasLimit:Object(k.h)(0,!0)(a),ethGasPrice:Object(k.h)(0,!0)(n),ethNonce:Object(k.h)(0,!0)(r),safeNonce:Object(k.h)(0,!0)(o),safeTxGas:Object(k.h)(0,!0)(i)}},_=function(e){var t=e.onClose,a=e.txParameters,n=e.parametersStatus,r=void 0===n?"ENABLED":n,o=e.isExecution,i=M(),c=a.safeNonce,l=a.safeTxGas,s=a.ethNonce,m=a.ethGasLimit,u=a.ethGasPrice,f=function(){t()};return d.a.createElement(d.a.Fragment,null,d.a.createElement(C.a,{align:"center",className:i.heading,grow:!0,"data-testid":"send-funds-review-step"},d.a.createElement(O.Title,{size:"sm",withoutMargin:!0},"Advanced options"),d.a.createElement(g.a,{disableRipple:!0,onClick:f},d.a.createElement(h.a,{className:i.closeIcon}))),d.a.createElement(R,null),d.a.createElement(w.a,{className:i.container},d.a.createElement(T.a,{initialValues:{safeNonce:c||0,safeTxGas:l||"",ethNonce:s||"",ethGasLimit:m||"",ethGasPrice:u||""},onSubmit:function(e){t(e)},validation:D},(function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(z,{size:"xl",strong:!0},"Safe transaction"),d.a.createElement(B,null,d.a.createElement(v.a,{name:"safeNonce",defaultValue:c,placeholder:"Safe nonce",text:"Safe nonce",type:"number",min:"0",component:j.a,disabled:!Object(G.b)(r)}),d.a.createElement(v.a,{name:"safeTxGas",defaultValue:l,placeholder:"SafeTxGas",text:"SafeTxGas",type:"number",min:"0",component:j.a,disabled:!Object(G.b)(r)})),Object(G.a)(r)&&d.a.createElement(d.a.Fragment,null,d.a.createElement(F,{size:"xl",strong:!0},Object(G.c)(o)),d.a.createElement(L,null,d.a.createElement(v.a,{name:"ethNonce",defaultValue:s,placeholder:"Nonce",text:"Nonce",type:"number",component:j.a,disabled:!Object(G.a)(r)}),d.a.createElement(v.a,{name:"ethGasLimit",defaultValue:m,placeholder:"Gas limit",text:"Gas limit",type:"number",component:j.a,disabled:"CANCEL_TRANSACTION"===r}),d.a.createElement(v.a,{name:"ethGasPrice",defaultValue:u,type:"number",placeholder:"Gas price (GWEI)",text:"Gas price (GWEI)",component:j.a,disabled:!Object(G.a)(r)})),d.a.createElement(P,{href:"https://help.gnosis-safe.io/en/articles/4738445-configure-advanced-transaction-parameters-manually",target:"_blank"},d.a.createElement(O.Text,{size:"xl",color:"primary"},"How can I configure these parameters manually?"),d.a.createElement(O.Icon,{size:"sm",type:"externalLink",color:"primary"}))),d.a.createElement(A,null),d.a.createElement(C.a,{align:"center",className:i.buttonRow},d.a.createElement(I.b.Footer.Buttons,{cancelButtonProps:{onClick:f,text:"Back"},confirmButtonProps:{type:"submit",text:"Confirm",testId:"submit-tx-btn"}})))}))))},H=a(38),V=a(50),W=function(e){var t=e.children,a=e.isOffChainSignature,n=e.isExecution,r=e.parametersStatus,o=e.ethGasLimit,i=e.ethGasPrice,c=e.safeNonce,l=e.safeTxGas,s=e.closeEditModalCallback,b=Object(u.useState)(!1),g=Object(m.a)(b,2),p=g[0],h=g[1],E=Object(u.useState)(!1),O=Object(m.a)(E,2),x=O[0],v=O[1],j=Object(H.f)(V.q)||1,w=a&&j>1?"ETH_HIDDEN":"ENABLED",C=Object(f.a)({parameterStatus:r||w,initialEthGasLimit:o,initialEthGasPrice:i,initialSafeNonce:c,initialSafeTxGas:l}),S=C.setEthGasPrice,y=C.setEthGasLimit,N=C.setSafeNonce,T=C.setSafeTxGas,k=C.setEthNonce;Object(u.useEffect)((function(){x||(y(o),S(i),T(l))}),[o,y,i,S,x,l,T]);var I=function(){h((function(e){return!e}))};return p?d.a.createElement(_,{isExecution:n,txParameters:C,onClose:function(e){e&&(v(!0),N(e.safeNonce),T(e.safeTxGas),y(e.ethGasLimit),S(e.ethGasPrice),k(e.ethNonce),s&&s(e)),I()},parametersStatus:r||w}):t(C,I)}},1364:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(0),r=a.n(n),o=a(1350),i=a(62),c=a(20),l=a(443),s=a(347),m=a(4),u=a(76),d=a(93),f=a(1489),b=a(38),g=a(50),p=Object(l.a)({executionWarningRow:{display:"flex",alignItems:"center"},warningIcon:{marginRight:m.sm}}),h=Object(s.a)(p),E=function(e){var t=e.txEstimationExecutionStatus,a=e.isExecution,n=h(),c=Object(b.f)(g.q);if(t!==o.a.FAILURE)return null;var l="To save gas costs, avoid creating the transaction.";return a&&(l=c&&c>1?"To save gas costs, reject this transaction":"To save gas costs, avoid executing the transaction."),r.a.createElement(u.a,{align:"center"},r.a.createElement(i.a,{color:"error",className:n.executionWarningRow},r.a.createElement(d.a,{alt:"Info Tooltip",height:16,src:f.a,className:n.warningIcon}),"This transaction will most likely fail. ",l))},O=a(21),x=Object(c.i)().nativeCoin,v=function(e){var t,a=e.gasCostFormatted,n=e.isExecution,c=e.isCreation,l=e.isOffChainSignature,s=e.txEstimationExecutionStatus;return s===o.a.LOADING?null:(t=c?"create":n?"execute":"approve",r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{size:"lg",align:"center"},"You're about to ",t," a transaction and will have to confirm it with your currently connected wallet."," ",!l&&r.a.createElement(r.a.Fragment,null,"Make sure you have"," ",r.a.createElement(O.Text,{size:"lg",as:"span",color:"text",strong:!0},a)," ","(fee price) ",x.name," in this wallet to fund this confirmation.")),r.a.createElement(E,{txEstimationExecutionStatus:s,isExecution:n})))}},1365:function(e,t,a){"use strict";t.a=a.p+"static/media/qrcode.f0b048aa.svg"},1368:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(33),r=a(0),o=a(1350),i=a(290),c=function(e){var t=Object(r.useState)(i.a.DISABLED),a=Object(n.a)(t,2),c=a[0],l=a[1];return Object(r.useEffect)((function(){var t=!0;if(t)switch(e){case o.a.LOADING:l(i.a.LOADING);break;default:l(i.a.READY)}return function(){t=!1}}),[e]),[c,l]}},1371:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(33),r=a(280),o=a(347),i=a(471),c=a.n(i),l=a(0),s=a(1395),m=a.n(s),u=a(4),d=a(443),f=Object(d.a)({heading:{padding:u.lg,justifyContent:"space-between",maxHeight:"75px",boxSizing:"border-box"},loaderContainer:{width:"100%",height:"100%"},close:{height:"25px",width:"25px",color:u.secondaryText},detailsContainer:{backgroundColor:u.background,maxHeight:"450px"},buttonRow:{height:"84px",justifyContent:"center"},button:{"&:last-child":{marginLeft:u.sm}}}),b=a(290),g=a(107),p=a(139),h=a(92),E=a(115),O=a(62),x=a(76),v=Object(o.a)(f),j=function(e){var t=e.isOpen,a=e.onClose,o=e.onScan,i=v(),s=Object(l.useState)(!1),u=Object(n.a)(s,2),d=u[0],f=u[1],j=Object(l.useState)(null),w=Object(n.a)(j,2),C=w[0],S=w[1],y=Object(l.useState)(!1),N=Object(n.a)(y,2),T=N[0],k=N[1],I=l.createRef(),G=l.useCallback((function(){I.current.openImageDialog()}),[I]);Object(l.useEffect)((function(){d||!T||C||(f(!0),G())}),[T,G,d,f,C]);var R=function(e,t){if(e)return console.error("QR code error",e),void("NotAllowedError"===e.name||"PermissionDismissedError"===e.name?(k(!0),f(!1)):S("The QR could not be read"));t?o(t):T&&S("The QR could not be read")};return l.createElement(b.c,{description:"Receive Tokens Form",handleClose:a,open:t,title:"Receive Tokens"},l.createElement(x.a,{align:"center",className:i.heading,grow:!0},l.createElement(O.a,{noMargin:!0,size:"xl"},"Scan QR"),l.createElement(r.a,{disableRipple:!0,onClick:a},l.createElement(c.a,{className:i.close}))),l.createElement(E.a,null),l.createElement(h.a,{className:i.detailsContainer,layout:"column",middle:"xs"},C&&l.createElement(g.a,{padding:"md",margin:"md"},C),l.createElement(m.a,{legacyMode:T,onError:function(e){return R(e,null)},onScan:function(e){return R(null,e)},ref:I,style:{width:"400px",height:"400px"},facingMode:"user"})),l.createElement(E.a,null),l.createElement(x.a,{align:"center",className:i.buttonRow},l.createElement(p.a,{className:i.button,color:"secondary",minWidth:154,onClick:a},"Close"),l.createElement(p.a,{className:i.button,color:"primary",minWidth:154,onClick:function(){k(!0),S(null),f(!1)},variant:"contained"},"Upload an image")))}},1375:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(33),r=a(347),o=a(0),i=a.n(o),c=a(1365),l=a(1371),s=a(93),m=Object(r.a)({qrCodeBtn:{cursor:"pointer"}}),u=function(e){var t=e.handleScan,a=m(),r=Object(o.useState)(!1),u=Object(n.a)(r,2),d=u[0],f=u[1],b=function(){f(!1)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{alt:"Scan QR",className:a.qrCodeBtn,height:20,onClick:function(){f(!0)},role:"button",src:c.a,testId:"qr-icon"}),d&&i.a.createElement(l.a,{isOpen:d,onClose:b,onScan:function(e){t(e,b)}}))}},1385:function(e,t,a){"use strict";var n=a(10),r=a(45),o=a(444),i=a(446),c=a(1261),l=a(452),s=a(0),m=a.n(s),u={minWidth:"100%"};t.a=function(e){var t=e.classes,a=e.disableError,s=e.formControlProps,d=e.input,f=d.name,b=d.onChange,g=d.value,p=Object(r.a)(d,["name","onChange","value"]),h=e.label,E=e.meta,O=e.renderValue,x=Object(r.a)(e,["classes","disableError","formControlProps","input","label","meta","renderValue"]),v=(E.submitError&&!E.dirtySinceLastSubmit||E.error)&&E.touched&&!a,j=Object(n.a)(Object(n.a)({},p),{},{name:f});return m.a.createElement(o.a,Object.assign({},s,{error:v,style:u}),m.a.createElement(c.a,{htmlFor:f},h),m.a.createElement(l.a,Object.assign({classes:t,inputProps:j,onChange:b,renderValue:O,value:g},x)),v&&m.a.createElement(i.a,null,E.error||E.submitError))}},1402:function(e,t,a){"use strict";a.d(t,"a",(function(){return I})),a.d(t,"b",(function(){return G}));var n=a(45),r=a(33),o=a(10),i=a(2),c=a.n(i),l=a(5),s=a(21),m=a(537),u=a(3061),d=a(0),f=a.n(d),b=a(38),g=a(470),p=a(20),h=a(14),E=a(252),O=a(102),x=a(31),v=a(30),j=a(347),w=a(443),C=Object(j.a)(Object(w.a)({root:{overflow:"hidden",borderRadius:4,fontSize:"15px",width:"500px"}})),S=Object(j.a)(Object(w.a)({root:{fontSize:"14px",width:"420px"}})),y=a(116),N=a(150),T=Object(p.h)(),k=function(e){var t=e.addressBookEntries,a=e.fieldMutator,n=e.label,r=void 0===n?"Recipient":n,i=e.setIsValidAddress,d=e.setSelectedEntry,b=e.setValidationText,E=e.validationText,j=function(e){d(e),a(e.address)},w=function(e){var a=Object(g.j)(e);if(i(!a),!a){var n=Object(O.b)(t,{inputValue:e});return 1===n.length?n[0]:e}b(a)},k=function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){var o,i,l,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next="input"===e.t0?3:31;break;case 3:if(o=Object(y.c)(n)){e.next=6;break}return e.abrupt("break",31);case 6:if(!Object(p.q)(h.b.DOMAIN_LOOKUP)||!Object(x.e)(o)&&!Object(x.d)(o)){e.next=24;break}return i="",e.prev=8,e.next=11,Object(v.b)(o);case 11:i=e.sent,e.next=17;break;case 14:e.prev=14,e.t1=e.catch(8),Object(N.b)(N.a._101,e.t1.message);case 17:if(l=w(i)){e.next=21;break}return a(""),e.abrupt("break",31);case 21:return j("string"===typeof l?{address:i,name:o,chainId:T}:l),e.abrupt("break",31);case 24:if(s=w(o)){e.next=28;break}return a(""),e.abrupt("break",31);case 28:return j("string"===typeof s?{address:s,name:"",chainId:T}:s),e.abrupt("break",31);case 31:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t,a,n){return e.apply(this,arguments)}}(),I=C(),G=S();return f.a.createElement(u.a,{closeIcon:null,openOnFocus:!1,filterOptions:O.b,freeSolo:!0,onChange:function(e,t,a){switch(a){case"select-option":var n=t,r=n.address,o=n.name,i=n.chainId;j({address:r,name:o,chainId:i})}},onInputChange:k,options:t,id:"address-book-input",renderInput:function(e){return f.a.createElement(m.a,Object.assign({},e,{autoFocus:!0,error:!!E,fullWidth:!0,variant:"filled",label:E||r,InputLabelProps:{shrink:!0,required:!0,classes:I},InputProps:Object(o.a)(Object(o.a)({},e.InputProps),{},{classes:G})}))},getOptionLabel:function(e){return e.address},renderOption:function(e){var t=e.address,a=e.name;return f.a.createElement(s.EthHashInfo,{hash:t,name:a,showAvatar:!0})},role:"listbox",style:{display:"flex",flexGrow:1}})},I=function(e){var t=Object(b.f)(E.c),a=Object(d.useState)(""),n=Object(r.a)(a,2),o=n[0],i=n[1];return Object(d.useEffect)((function(){e.errorMsg&&i(e.errorMsg)}),[e.errorMsg]),f.a.createElement(k,Object.assign({addressBookEntries:t,setValidationText:i,validationText:o},e))},G=function(e){var t=e.setIsValidAddress,a=e.setSelectedEntry,o=Object(n.a)(e,["setIsValidAddress","setSelectedEntry"]),i=Object(b.f)(E.c),s=Object(d.useState)([]),m=Object(r.a)(s,2),u=m[0],p=m[1],h=Object(d.useState)(""),x=Object(r.a)(h,2),v=x[0],j=x[1];Object(d.useEffect)((function(){(function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)(i);case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]);var w=function(){var e=Object(l.a)(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===n||void 0===n?void 0:n.address)){e.next=7;break}return e.next=3,Object(g.k)(n.address);case 3:r=e.sent,t(!r),j(null!==r&&void 0!==r?r:""),a(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return f.a.createElement(k,Object.assign({addressBookEntries:u,setIsValidAddress:t,setSelectedEntry:w,setValidationText:j,validationText:v},o))}},1409:function(e,t,a){"use strict";var n=a(10),r=a(45),o=a(103),i=a.n(o),c=a(0),l=a(1493),s=a.n(l),m=a(56),u=i.a.bind(s.a);t.a=function(e){var t=e.align,a=e.children,o=e.className,i=void 0===o?"":o,l=e.color,s=e.margin,d=e.tag,f=e.testId,b=e.truncate,g=Object(r.a)(e,["align","children","className","color","margin","tag","testId","truncate"]),p=u(i,"heading",t,d,s?Object(m.a)(s,"margin"):void 0,l,{truncate:b});return c.createElement(d,Object(n.a)(Object(n.a)({},g),{},{className:p,"data-testid":f||""}),a)}},1410:function(e,t,a){"use strict";var n=a(2),r=a.n(n),o=a(5),i=a(86),c=a(0),l=a(1336),s=a(1386),m=a(1341),u=a(470),d=a(116),f=a(30),b=a(31),g=a(52),p=a(150);t.a=function(e){var t=e.className,a=void 0===t?"":t,n=e.name,h=void 0===n?"recipientAddress":n,E=e.text,O=void 0===E?"Recipient*":E,x=e.placeholder,v=void 0===x?"Recipient*":x,j=e.fieldMutator,w=e.testId,C=e.inputAdornment,S=e.validators,y=void 0===S?[]:S,N=e.defaultValue,T=e.disabled;return c.createElement(c.Fragment,null,c.createElement(l.a,{className:a,component:m.a,defaultValue:N,disabled:T,inputAdornment:C,name:h,placeholder:v,testId:w,text:O,type:"text",validate:u.c.apply(void 0,[u.p,u.j].concat(Object(i.a)(y)))}),c.createElement(s.a,{name:h},function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(d.c)(t),!Object(b.e)(a)&&!Object(b.d)(a)){e.next=13;break}return e.prev=2,e.next=5,Object(f.b)(a);case 5:n=e.sent,o=Object(g.a)(n),j(o),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),Object(p.b)(p.a._101,e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()))}},1413:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(6),r=a(8),o=a(12),i=a(13),c=a(524),l=a(531),s=a(525),m=a(678),u=a(0),d=function(e){if(e)return{maxWidth:"".concat(e,"px")}},f=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).changeSort=function(t,a){return function(){(0,e.props.onSort)(t,a)}},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.columns,n=t.order,r=t.orderBy;return u.createElement(l.a,null,u.createElement(s.a,null,a.map((function(t){return u.createElement(c.a,{align:t.align,key:t.id,padding:t.disablePadding?"none":"default",sortDirection:r===t.id&&n},t.static?u.createElement("div",{style:t.style},t.label):u.createElement(m.a,{active:r===t.id,direction:n,onClick:e.changeSort(t.id,t.order),style:t.style},t.label))}))))}}]),a}(u.PureComponent);t.b=f},1445:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(347),r=a(443),o=a(4),i=Object(n.a)(Object(r.a)({title:{padding:o.lg,paddingBottom:0},hide:{"&:hover":{backgroundColor:"#f7f5f5"},"&:hover $actions":{visibility:"initial"}},actions:{justifyContent:"flex-end",visibility:"hidden"},noBorderBottom:{"& > td":{borderBottom:"none"}},annotation:{paddingLeft:o.lg},ownersText:{color:o.secondaryText,"& b":{color:o.fontColor}},container:{padding:o.lg},actionButton:{fontWeight:o.boldFont,marginRight:o.sm},buttonRow:{padding:o.lg,position:"absolute",left:0,bottom:0,boxSizing:"border-box",width:"100%",justifyContent:"flex-end",borderTop:"2px solid ".concat(o.border)},modifyBtn:{height:o.xl,fontSize:o.smallFontSize},removeModuleIcon:{marginLeft:o.lg,cursor:"pointer"},modalHeading:{boxSizing:"border-box",justifyContent:"space-between",height:"74px",padding:"".concat(o.sm," ").concat(o.lg)},modalContainer:{minHeight:"369px"},modalManage:{fontSize:o.lg},modalClose:{height:"35px",width:"35px"},modalButtonRow:{height:"84px",justifyContent:"center"},modalButtonRemove:{color:"#fff",backgroundColor:o.error,height:"42px"},modalName:{textOverflow:"ellipsis",overflow:"hidden"},modalUserName:{whiteSpace:"nowrap"},modalOwner:{backgroundColor:o.background,padding:o.md,alignItems:"center"},modalUser:{justifyContent:"left"},modalDescription:{padding:o.md},modalOpen:{paddingLeft:o.sm,width:"auto","&:hover":{cursor:"pointer"}},amountInput:{width:"100% !important"},gasCostsContainer:{backgroundColor:o.background,padding:"0 ".concat(o.lg)}}))},1446:function(e,t,a){"use strict";var n=a(6),r=a(8),o=a(12),i=a(13),c=a(21),l=a(528),s=a(529),m=a(1971),u=a(16),d=a(0),f=a(1413),b=a(58),g=function(e,t,a,n,r){var o=n?"".concat(a,"Order"):a;return r(t[o])<r(e[o])?-1:r(t[o])>r(e[o])?1:0},p=a(76),h=a(4),E={root:{backgroundColor:"white",borderTopRightRadius:h.sm,borderTopLeftRadius:h.sm,boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"},selectRoot:{lineHeight:h.xxl,backgroundColor:"white"},white:{backgroundColor:"white"},paginationRoot:{backgroundColor:"white",boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)",marginBottom:h.xl,borderBottomRightRadius:h.sm,borderBottomLeftRadius:h.sm},loader:{boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"}},O={"aria-label":"Previous Page"},x={"aria-label":"Next Page"},v=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).onSort=function(e,t){var a=r.state,n=a.order,o=a.orderBy,i=r.props.defaultOrder,c="desc";n&&o===e&&"desc"===n?c="asc":n||"desc"!==i||(c="asc"),r.setState((function(){return{order:c,orderBy:e,orderProp:t,fixed:!1}}))},r.getEmptyStyle=function(){return{height:"calc(100vh - ".concat(255,"px)"),borderTopRightRadius:h.sm,borderTopLeftRadius:h.sm,backgroundColor:"white",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},r.handleChangePage=function(e,t){r.setState({page:t})},r.handleChangeRowsPerPage=function(e){var t=Number(e.target.value);r.setState({rowsPerPage:t})},r.state={page:0,order:void 0,orderBy:void 0,fixed:void 0,orderProp:!1,rowsPerPage:void 0},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.columns,a=e.defaultOrderBy;a&&t&&(t.find((function(e){return e.id===a})).order&&this.setState({orderProp:!0}))}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.classes,n=e.columns,r=e.data,o=e.defaultFixed,i=e.defaultOrder,u=e.defaultOrderBy,h=e.defaultRowsPerPage,E=e.disableLoadingOnEmptyTable,v=e.disablePagination,j=e.label,w=e.noBorder,C=e.size,S=this.state,y=S.fixed,N=S.order,T=S.orderBy,k=S.orderProp,I=S.page,G=S.rowsPerPage,R=T||u,A=N||i,B=G||h,L="undefined"!==typeof y?y:!!o,P={selectRoot:a.selectRoot,root:!w&&a.paginationRoot,input:a.white},z=n.find((function(e){return e.id===R})),F=function(e,t,a){var n=a?e.filter((function(e){return e.fixed})):Object(b.a)([]),r=(a?e.filter((function(e){return!e.fixed})):e).map((function(e,t){return[e,t]})),o=(r=r.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}))).map((function(e){return e[0]}));return n.concat(o)}(r,function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return"desc"===e?function(e,r){return g(e,r,t,a,n)}:function(e,r){return-g(e,r,t,a,n)}}(A,R,k,null===z||void 0===z?void 0:z.formatTypeSort),L);v||(F=F.slice(I*B,I*B+B));var M=0===C&&!E;return d.createElement(d.Fragment,null,!M&&d.createElement(l.a,{"aria-labelledby":j,className:w?"":a.root},d.createElement(f.b,{columns:n,onSort:this.onSort,order:N,orderBy:R}),d.createElement(s.a,null,t(F))),M&&d.createElement(p.a,{className:a.loader,style:this.getEmptyStyle()},d.createElement(c.Loader,{size:"sm"})),!v&&d.createElement(m.a,{backIconButtonProps:O,classes:P,component:"div",count:C,nextIconButtonProps:x,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,page:I,rowsPerPage:B,rowsPerPageOptions:[5,10,25,50,100]}))}}]),a}(d.Component);v.defaultProps={defaultOrder:"asc",disablePagination:!1,defaultRowsPerPage:5};t.a=Object(u.a)(E)(v)},1466:function(e,t,a){"use strict";a.d(t,"b",(function(){return T}));var n,r,o,i,c,l=a(27),s=a(21),m=a(536),u=a(44),d=a(522),f=a(0),b=a.n(f),g=a(1336),p=a(25),h=a(20),E=a(1507),O=Object(p.default)(s.RadioButtons)(n||(n=Object(l.a)(["\n  & .MuiRadio-colorPrimary.Mui-checked {\n    color: ",";\n  }\n"])),(function(e){return e.theme.colors.primary})),x=Object(p.default)((function(e){var t=Object.assign({},e);return b.a.createElement(m.a,t)}))(r||(r=Object(l.a)(["\n  && {\n    .MuiIconButton-label,\n    .MuiSwitch-colorSecondary {\n      color: ",";\n    }\n\n    .MuiSwitch-colorSecondary.Mui-checked .MuiIconButton-label {\n      color: ",";\n    }\n\n    .MuiSwitch-colorSecondary.Mui-checked:hover {\n      background-color: ",";\n    }\n\n    .Mui-checked + .MuiSwitch-track {\n      background-color: ",";\n    }\n  }\n"])),(function(e){return e.theme.colors.icon}),(function(e){return e.theme.colors.primary}),(function(e){var t=e.theme;return Object(u.g)("".concat(t.colors.primary,"03"))}),(function(e){return e.theme.colors.primaryLight})),v=function(e){var t=e.options,a=e.initialValue,n=e.groupName;return b.a.createElement(E.a,{name:n,initialValue:a},(function(e){var n=e.input,r=n.name,o=n.value,i=n.onChange;return b.a.createElement(O,{name:r,value:o||a,onRadioChange:i,options:t})}))},j=function(e){var t=e.label,a=e.name;return b.a.createElement(d.a,{label:t,control:b.a.createElement(E.a,{name:a,type:"checkbox",render:function(e){var t=e.input,a=t.checked,n=t.onChange,r=t.name,o=t.value;return b.a.createElement(x,{checked:a,onChange:n,name:r,value:o})}})})},w=p.default.div(o||(o=Object(l.a)(["\n  grid-area: resetTimeLabel;\n"]))),C=p.default.div(i||(i=Object(l.a)(["\n  grid-area: resetTimeToggle;\n"]))),S=p.default.div(c||(c=Object(l.a)(["\n  grid-area: resetTimeOption;\n"]))),y=[{label:"1 day",value:"1440"},{label:"1 week",value:"10080"},{label:"1 month",value:"43200"}],N=[{label:"5 minutes",value:"5"},{label:"30 minutes",value:"30"},{label:"1 hour",value:"60"}],T=function(){return"rinkeby"!==Object(h.j)().toLowerCase()?y:N};t.a=function(){var e=Object(g.c)("withResetTime",{subscription:{value:!0}}).input.value,t=T(),a=e?"choose reset time period":"one time";return b.a.createElement(b.a.Fragment,null,b.a.createElement(w,null,b.a.createElement(s.Text,{size:"xl"},"Set a reset time so the allowance automatically refills after the defined time period.")),b.a.createElement(C,null,b.a.createElement(j,{label:"Reset time (".concat(a,")"),name:"withResetTime"})),e&&b.a.createElement(S,null,b.a.createElement(v,{groupName:"resetTime",initialValue:t[0].value,options:t})))}},1489:function(e,t,a){"use strict";t.a=a.p+"static/media/info_red.2d444d88.svg"},1490:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o}));var n=function(e){return"ENABLED"===e||"ETH_HIDDEN"!==e&&"CANCEL_TRANSACTION"!==e},r=function(e){return"ENABLED"===e||"SAFE_DISABLED"!==e&&"CANCEL_TRANSACTION"!==e},o=function(e){return"Owner transaction ".concat(e?"(Execution)":"(On-chain approval)")}},1493:function(e,t,a){e.exports={heading:"Heading_heading__1kulm",h1:"Heading_h1__80Cwi",h2:"Heading_h2__2onFG",h3:"Heading_h3__Sh3ak",h4:"Heading_h4__20iR2",center:"Heading_center__1Nck5",right:"Heading_right__3RAhl",truncate:"Heading_truncate__32_2T",marginSm:"Heading_marginSm__2g6oz",marginMd:"Heading_marginMd__1R4ww",marginLg:"Heading_marginLg__3egwb",marginXl:"Heading_marginXl__3saYd",soft:"Heading_soft__U23-0",medium:"Heading_medium__T5cU-",dark:"Heading_dark__2HTrR",fancy:"Heading_fancy__1opTo",warning:"Heading_warning__3Bh_S",primary:"Heading_primary__3K9By",secondary:"Heading_secondary__IEaLO",disabled:"Heading_disabled__3Rs0p",error:"Heading_error__LFDiU",white:"Heading_white__j6Vyr"}},1507:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n,r,o,i=a(27),c=a(21),l=a(0),s=a.n(l),m=a(1336),u=a(38),d=a(25),f=a(1337),b=a(470),g=a(291),p=a(1445),h=Object(d.default)(f.a)(n||(n=Object(i.a)(["\n  margin: 8px 0;\n  width: 100%;\n"]))),E=d.default.div(r||(r=Object(i.a)(["\n  grid-area: amountInput;\n"]))),O=Object(d.default)(c.TextField)(o||(o=Object(i.a)(["\n  margin: 0;\n"])));t.b=function(){var e=Object(p.a)(),t=Object(m.c)("token",{subscription:{value:!0}}).input.value,a=Object(m.c)("amount",{subscription:{touched:!0,visited:!0}}).meta,n=a.touched,r=a.visited,o=Object(u.f)(g.a).find((function(e){return e.address===t})),i=(n||r)&&Object(b.c)(b.p,b.l,Object(b.h)(0,!1));return s.a.createElement(E,null,s.a.createElement(h,{component:O,label:"Amount*",name:"amount",type:"text","data-testid":"amount-input",endAdornment:null===o||void 0===o?void 0:o.symbol,className:e.amountInput,validate:i}))}},1509:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return p})),a.d(t,"c",(function(){return j}));var n,r,o=a(21),i=a(0),c=a.n(i),l=a(38),s=a(20),m=a(252),u=a(187),d=a(116),f=function(e){var t=e.title,a=e.children;return c.a.createElement(c.a.Fragment,null,t&&c.a.createElement(o.Text,{size:"md",color:"secondaryLight"},t),a)},b=function(e){var t=e.address,a=e.title,n=Object(l.f)((function(e){return Object(m.d)(e,{address:t})})),r=Object(s.c)(t);return c.a.createElement(f,{title:a},c.a.createElement(o.EthHashInfo,{hash:t,name:Object(d.a)(n,u.a)?void 0:n,showCopyBtn:!0,showAvatar:!0,textSize:"lg",explorerUrl:r}))},g=a(76),p=function(e){var t=e.title,a=e.label;return c.a.createElement(f,{title:t},a?c.a.createElement(g.a,{align:"center",margin:"md"},c.a.createElement(o.IconText,{iconSize:"md",iconType:"fuelIndicator",text:a,textSize:"lg"})):c.a.createElement(g.a,{align:"center",margin:"md"},c.a.createElement(o.Text,{size:"lg"},"One-time spending limit")))},h=a(27),E=a(25),O=a(1351),x=E.default.img(n||(n=Object(h.a)(["\n  width: 32px;\n  height: 32px;\n  object-fit: contain;\n  margin: 0 8px 0 0;\n"]))),v=E.default.div(r||(r=Object(h.a)(["\n  display: flex;\n  align-items: center;\n"]))),j=function(e){var t=e.amount,a=e.title,n=e.token;return c.a.createElement(f,{title:a},c.a.createElement(v,null,c.a.createElement(x,{alt:n.name,onError:O.a,src:n.logoUri}),c.a.createElement(o.Text,{size:"lg"},t," ",n.symbol)))}},1538:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(2),r=a.n(n),o=a(5),i=a(33),c=a(0),l=a(38),s=a(69),m=a(94),u=a(159),d=a(65),f=a(50),b=a(30),g=a(116),p=function(e){var t=Object(g.a)((null===e||void 0===e?void 0:e.parameterStatus)||"ENABLED","CANCEL_TRANSACTION"),a=Object(l.f)(m.f),n=(Object(l.f)(f.o)||{}).address,p=Object(c.useState)(null===e||void 0===e?void 0:e.initialSafeNonce),h=Object(i.a)(p,2),E=h[0],O=h[1],x=Object(c.useState)(t?"0":null===e||void 0===e?void 0:e.initialSafeTxGas),v=Object(i.a)(x,2),j=v[0],w=v[1],C=Object(c.useState)(),S=Object(i.a)(C,2),y=S[0],N=S[1],T=Object(c.useState)(null===e||void 0===e?void 0:e.initialEthGasLimit),k=Object(i.a)(T,2),I=k[0],G=k[1],R=Object(c.useState)(null===e||void 0===e?void 0:e.initialEthGasPrice),A=Object(i.a)(R,2),B=A[0],L=A[1],P=Object(c.useState)(),z=Object(i.a)(P,2),F=z[0],M=z[1];return Object(c.useEffect)((function(){a&&function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.e)(a);case 2:t=e.sent,N(t.toString());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[a]),Object(c.useEffect)((function(){B?t?L("0"):M(b.i.utils.toWei(B,"Gwei")):M(void 0)}),[B,t]),Object(c.useEffect)((function(){void 0===E&&function(){var e=Object(o.a)(r.a.mark((function e(){var t,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=9;break}return t=Object(d.f)(n),e.next=4,Object(u.c)(n);case 4:return a=e.sent,e.next=7,Object(u.d)(a,t);case 7:o=e.sent,O(o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n,E]),{safeNonce:E,setSafeNonce:O,safeTxGas:j,setSafeTxGas:w,ethNonce:y,setEthNonce:N,ethGasLimit:I,setEthGasLimit:G,ethGasPrice:B,setEthGasPrice:L,ethGasPriceInGWei:F}}},1565:function(e,t,a){"use strict";var n=a(38),r=a(31),o=a(291);t.a=function(e){var t=Object(n.f)(o.c);if(t)return t.find((function(t){return Object(r.f)(t.address,e)}))}},1713:function(e,t,a){"use strict";var n=a(21),r=a(1524),o=a(1330),i=a(523),c=a(0),l=a.n(c),s=a(1337),m=a(1385),u=a(470),d=a(93),f=a(214),b=a(1351),g=a(347),p=a(443),h=a(4),E=Object(g.a)(Object(p.a)({container:{minHeight:"55px",padding:0,width:"100%"},tokenData:{padding:0,margin:0,lineHeight:"14px"},tokenImage:{marginRight:h.sm}})),O=Object(g.a)(Object(p.a)({selectMenu:{paddingRight:0}})),x=function(e){var t,a,c=e.tokenAddress,s=e.tokens,m=E(),u=s.find((function(e){return e.address===c}));return l.a.createElement(i.a,{className:m.container},u?l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,{className:m.tokenImage},l.a.createElement(d.a,{alt:u.name,height:28,onError:b.a,src:u.logoUri})),l.a.createElement(o.a,{className:m.tokenData,primary:u.name,secondary:"".concat(Object(f.a)(null!==(t=null===(a=u.balance)||void 0===a?void 0:a.tokenBalance.toString())&&void 0!==t?t:"0")," ").concat(u.symbol)})):l.a.createElement(n.Text,{color:"placeHolder",size:"xl"},"Select an asset*"))};t.a=function(e){var t=e.initialValue,a=e.isValid,n=void 0===a||a,c=e.tokens,g=O();return l.a.createElement(s.a,{classes:{selectMenu:g.selectMenu},className:n?"isValid":"isInvalid",component:m.a,displayEmpty:!0,initialValue:t,name:"token",renderValue:function(e){return l.a.createElement(x,{tokenAddress:e,tokens:c})},validate:u.p},c.map((function(e){var t,a;return l.a.createElement(i.a,{key:e.address,value:e.address},l.a.createElement(r.a,null,l.a.createElement(d.a,{alt:e.name,height:28,onError:b.a,src:e.logoUri})),l.a.createElement(o.a,{primary:e.name,secondary:"".concat(Object(f.a)(null!==(t=null===(a=e.balance)||void 0===a?void 0:a.tokenBalance.toString())&&void 0!==t?t:"0")," ").concat(e.symbol),"data-testid":"select-token-".concat(e.name)}))})))}},3038:function(e,t,a){"use strict";a.r(t),a.d(t,"OWNERS_SETTINGS_TAB_TEST_ID",(function(){return wn}));var n,r,o,i=a(17),c=a(10),l=a(33),s=a(21),m=a(297),u=a(3057),d=a(347),f=a(87),b=a.n(f),g=a(0),p=a.n(g),h=a(38),E=a(27),O=a(25),x=a(58),v="address",j=a(443),w=a(4),C=Object(d.a)(Object(j.a)({container:{padding:w.lg},hide:{"&:hover":{backgroundColor:"#f7f5f5"},"&:hover $actions":{visibility:"initial"}},actions:{justifyContent:"flex-end",visibility:"hidden",minWidth:"100px"},noBorderBottom:{"& > td":{borderBottom:"none"}},modalHeading:{boxSizing:"border-box",justifyContent:"space-between",height:"74px",padding:"".concat(w.sm," ").concat(w.lg)},modalManage:{fontSize:w.lg},modalClose:{height:"35px",width:"35px"},modalOwner:{padding:w.md,alignItems:"center"},modalDescription:{padding:w.md},accordionContainer:{margin:"0 ".concat(w.md)},gasCostsContainer:{backgroundColor:w.background,padding:"0 ".concat(w.lg)}})),S=a(530),y=a(2),N=a.n(y),T=a(5),k=a(280),I=a(471),G=a.n(I),R=a(107),A=a(92),B=a(115),L=a(62),P=a(76),z=a(290),F=a(20),M=a(335),D=a(473),_=a(50),H=a(48),V=a(1350),W=a(1368),U=a(1364),q=a(1359),X=a(1363),Y=function(e){var t=e.onClose,a=e.selectedModulePair,n=C(),r=Object(h.f)(_.n),o=Object(g.useState)(""),i=Object(l.a)(o,2),c=i[0],m=i[1],u=Object(h.e)(),d=Object(g.useState)(0),f=Object(l.a)(d,2),E=f[0],O=f[1],x=Object(g.useState)(),v=Object(l.a)(x,2),j=v[0],w=v[1],S=Object(g.useState)(),y=Object(l.a)(S,2),I=y[0],Y=y[1],Q=Object(l.a)(a,2)[1],K=Object(V.b)({txData:c,txRecipient:r,txAmount:"0",safeTxGas:E,manualGasPrice:j,manualGasLimit:I}),$=K.gasCostFormatted,J=K.txEstimationExecutionStatus,Z=K.isExecution,ee=K.isOffChainSignature,te=K.isCreation,ae=K.gasLimit,ne=K.gasEstimation,re=K.gasPriceFormatted,oe=Object(W.a)(J),ie=Object(l.a)(oe,1)[0];Object(g.useEffect)((function(){var e=Object(M.c)(a,r);m(e)}),[a,r]);var ce=function(){var e=Object(T.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(Object(D.b)({safeAddress:r,to:r,valueInWei:"0",txData:c,txNonce:t.safeNonce,safeTxGas:t.safeTxGas?Number(t.safeTxGas):void 0,ethParameters:t,notifiedTransaction:H.c.SETTINGS_CHANGE_TX}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("failed to remove the module ".concat(a),e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),le="Remove";return z.a.LOADING===ie&&(le=J===V.a.LOADING?"Estimating":"Removing"),p.a.createElement(z.c,{description:"Remove the selected Module",handleClose:t,paperClassName:"modal",title:"Remove Module",open:!0},p.a.createElement(X.a,{isOffChainSignature:ee,isExecution:Z,ethGasLimit:ae,ethGasPrice:re,safeTxGas:ne.toString(),closeEditModalCallback:function(e){var t=Number(re),a=Number(e.ethGasPrice),n=Number(ne),r=Number(e.safeTxGas);a&&t!==a&&w(e.ethGasPrice),e.ethGasLimit&&ae!==e.ethGasLimit&&Y(e.ethGasLimit),r&&n!==r&&O(r)}},(function(e,a){return p.a.createElement(p.a.Fragment,null,p.a.createElement(P.a,{align:"center",className:n.modalHeading,grow:!0},p.a.createElement(L.a,{className:n.modalManage,noMargin:!0,weight:"bolder"},"Remove module"),p.a.createElement(k.a,{disableRipple:!0,onClick:t},p.a.createElement(G.a,{className:n.modalClose}))),p.a.createElement(B.a,null),p.a.createElement(R.a,null,p.a.createElement(P.a,{className:n.modalOwner},p.a.createElement(A.a,{align:"center",xs:1},p.a.createElement(s.EthHashInfo,{hash:Q,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(F.c)(Q)}))),p.a.createElement(P.a,{className:n.modalDescription},p.a.createElement(L.a,{noMargin:!0,size:"lg"},"After removing this module, any feature or app that uses this module might no longer work. If this Safe requires more then one signature, the module removal will have to be confirmed by other owners as well."))),p.a.createElement(R.a,{className:n.accordionContainer},p.a.createElement(q.a,{txParameters:e,onEdit:a,isTransactionCreation:te,isTransactionExecution:Z,isOffChainSignature:ee})),p.a.createElement(P.a,{className:b()(n.modalDescription,n.gasCostsContainer)},p.a.createElement(U.a,{gasCostFormatted:$,isExecution:Z,isCreation:te,isOffChainSignature:ee,txEstimationExecutionStatus:J})),p.a.createElement(z.b.Footer,{withoutBorder:ie!==z.a.LOADING},p.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:t},confirmButtonProps:{color:"error",onClick:function(){return ce(e)},status:ie,text:le}})))})))},Q=a(291),K=a(1446),$=(a(528),a(524)),J=a(525),Z=Object(O.default)(s.Button)(n||(n=Object(E.a)(["\n  background-color: transparent;\n\n  &:hover {\n    background-color: transparent;\n  }\n"]))),ee=function(e){var t=e.moduleData,a=C(),n=function(){var e={align:"left",custom:!1,disablePadding:!1,id:v,label:"Address",order:!1},t={custom:!0,disablePadding:!1,id:"actions",label:"",order:!1};return Object(x.a)([e,t])}(),r=n.filter((function(e){return!e.custom})),o=Object(h.f)(Q.b),i=p.a.useState(!1),c=Object(l.a)(i,2),m=c[0],u=c[1],d=p.a.useState(),f=Object(l.a)(d,2),g=f[0],E=f[1];return p.a.createElement(p.a.Fragment,null,p.a.createElement(S.a,null,p.a.createElement(K.a,{columns:n,data:t,defaultFixed:!0,defaultOrderBy:v,disablePagination:!0,label:"Modules",noBorder:!0,size:null===t||void 0===t?void 0:t.length},(function(e){return e.map((function(t,n){return p.a.createElement(J.a,{className:b()(a.hide,n>=3&&n===e.size-1&&a.noBorderBottom),"data-testid":"owners-row",key:n,tabIndex:-1},r.map((function(e,n){var r=e.id,i=t[r],c=Object(l.a)(i,2)[1];return p.a.createElement(p.a.Fragment,{key:"".concat(r,"-").concat(n)},p.a.createElement($.a,{align:e.align,component:"td",key:r},r===v?p.a.createElement(R.a,{justify:"left"},p.a.createElement(s.EthHashInfo,{hash:c,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(F.c)(c)})):i),p.a.createElement($.a,{component:"td"},p.a.createElement(P.a,{align:"end",className:a.actions},o&&p.a.createElement(Z,{size:"md",iconType:"delete",color:"error",variant:"outlined",onClick:function(){return E(i),void u(!0)},"data-testid":"remove-module-btn"},null))))})))}))}))),m&&g&&p.a.createElement(Y,{onClose:function(){return u(!1)},selectedModulePair:g}))},te=a(165),ae=Object(O.default)(s.Text)(r||(r=Object(E.a)(["\n  margin-top: 16px;\n"]))),ne=O.default.strong(o||(o=Object(E.a)(["\n  color: ",";\n"])),s.theme.colors.text),re=function(){return p.a.createElement(ae,{color:"secondaryLight",size:"xl"},"No modules enabled")},oe=function(){var e,t,a=C(),n=Object(h.f)(_.k),r=Object(h.f)(_.h),o=r&&null!==(e=null===(t=r)||void 0===t?void 0:t.map((function(e){return Object(i.a)({},v,e)})))&&void 0!==e?e:null,c=Object(te.d)().trackEvent;return Object(g.useEffect)((function(){c({category:te.a,action:"Settings",label:"Advanced"})}),[c]),p.a.createElement(p.a.Fragment,null,p.a.createElement(R.a,{className:a.container},p.a.createElement(s.Title,{size:"xs",withoutMargin:!0},"Safe Nonce"),p.a.createElement(ae,{size:"lg"},"For security reasons, transactions made with Gnosis Safe need to be executed in order. The nonce shows you which transaction will be executed next. You can find the nonce for a transaction in the transaction details."),p.a.createElement(ae,{color:"secondaryLight",size:"xl"},"Current Nonce: ",p.a.createElement(ne,null,n))),p.a.createElement(R.a,{className:a.container},p.a.createElement(s.Title,{size:"xs",withoutMargin:!0},"Safe Modules"),p.a.createElement(ae,{size:"lg"},"Modules allow you to customize the access-control logic of your Safe. Modules are potentially risky, so make sure to only use modules from trusted sources. Learn more about modules"," ",p.a.createElement("a",{href:"https://docs.gnosis.io/safe/docs/contracts_architecture/#3-module-management",rel:"noopener noreferrer",target:"_blank"},"here"),"."),o&&o.length?p.a.createElement(ee,{moduleData:o}):p.a.createElement(re,null)))},ie=a(1509),ce=a(1565),le=a(504),se=a(253),me=a(39),ue=a(1466),de=a(1445),fe=function(e){var t,a,n=e.onClose,r=e.spendingLimit,o=e.open,i=Object(de.a)(),c=Object(ce.a)(r.spent.tokenAddress),s=Object(h.f)(_.n),m=Object(g.useState)(""),u=Object(l.a)(m,2),d=u[0],f=u[1],E=Object(h.e)(),O=Object(g.useState)(0),x=Object(l.a)(O,2),v=x[0],j=x[1],w=Object(g.useState)(),C=Object(l.a)(w,2),S=C[0],y=C[1],N=Object(g.useState)(),T=Object(l.a)(N,2),k=T[0],I=T[1];Object(g.useEffect)((function(){var e=r.beneficiary,t=r.spent.tokenAddress,a=Object(le.d)({beneficiary:e,tokenAddress:t});f(a)}),[r]);var G=Object(V.b)({txData:d,txRecipient:me.q,txAmount:"0",safeTxGas:v,manualGasPrice:S,manualGasLimit:k}),R=G.gasCostFormatted,B=G.txEstimationExecutionStatus,L=G.isExecution,F=G.isOffChainSignature,M=G.isCreation,Y=G.gasLimit,Q=G.gasEstimation,K=G.gasPriceFormatted,$=Object(W.a)(B),J=Object(l.a)($,1)[0],Z=null!==(t=null===(a=Object(ue.b)().find((function(e){return+e.value===+r.resetTime.resetTimeMin})))||void 0===a?void 0:a.label)&&void 0!==t?t:"",ee="Remove";return z.a.LOADING===J&&(ee=B===V.a.LOADING?"Estimating":"Removing"),p.a.createElement(z.b,{handleClose:n,open:o,title:"Remove spending limit",description:"Remove the selected spending limit"},p.a.createElement(X.a,{isOffChainSignature:F,isExecution:L,ethGasLimit:Y,ethGasPrice:K,safeTxGas:Q.toString(),closeEditModalCallback:function(e){var t=Number(K),a=Number(e.ethGasPrice),n=Number(Q),r=Number(e.safeTxGas);a&&t!==a&&y(e.ethGasPrice),e.ethGasLimit&&Y!==e.ethGasLimit&&I(e.ethGasLimit),r&&n!==r&&j(r)}},(function(e,t){return p.a.createElement(p.a.Fragment,null,p.a.createElement(z.b.Header,{onClose:n},p.a.createElement(z.b.Header.Title,{size:"xs",withoutMargin:!0},"Remove spending limit")),p.a.createElement(z.b.Body,null,p.a.createElement(A.a,{margin:"lg"},p.a.createElement(ie.a,{title:"Beneficiary",address:r.beneficiary})),p.a.createElement(A.a,{margin:"lg"},c&&p.a.createElement(ie.c,{amount:Object(se.a)(r.spent.amount,c.decimals),title:"Amount",token:c})),p.a.createElement(A.a,{margin:"lg"},p.a.createElement(ie.b,{title:"Reset Time",label:Z})),p.a.createElement(q.a,{txParameters:e,onEdit:t,isTransactionCreation:M,isTransactionExecution:L,isOffChainSignature:F})),p.a.createElement(P.a,{className:b()(i.modalDescription,i.gasCostsContainer)},p.a.createElement(U.a,{gasCostFormatted:R,isExecution:L,isCreation:M,isOffChainSignature:F,txEstimationExecutionStatus:B})),p.a.createElement(z.b.Footer,{withoutBorder:J!==z.a.LOADING},p.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:n},confirmButtonProps:{color:"error",onClick:function(){return function(e){try{E(Object(D.b)({safeAddress:s,to:me.q,valueInWei:"0",txData:d,txNonce:e.safeNonce,safeTxGas:e.safeTxGas?Number(e.safeTxGas):void 0,ethParameters:e,notifiedTransaction:H.c.REMOVE_SPENDING_LIMIT_TX}))}catch(t){console.error("failed to remove spending limit ".concat(r.beneficiary," -> ").concat(r.spent.tokenAddress),t.message)}}(e)},status:J,text:ee}})))})))},be=a(490),ge="beneficiary",pe="spent",he="resetTime",Ee=a(214),Oe=a(1351);function xe(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var ve,je,we,Ce,Se,ye,Ne,Te,ke,Ie,Ge,Re,Ae=O.default.img(ve||(ve=Object(E.a)(["\n  width: 32px;\n  height: 32px;\n  object-fit: contain;\n  margin: 0 8px 0 0;\n"]))),Be=O.default.div(je||(je=Object(E.a)(["\n  display: flex;\n  align-items: center;\n"]))),Le=function(e){var t=e.amount,a=e.spent,n=e.tokenAddress,r=function(){var e=Object(g.useState)(xe()),t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(g.useEffect)((function(){function e(){n(xe())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}().width,o=Object(g.useMemo)((function(){return r>1024}),[r]),i=Object(ce.a)(n),c=function(e){var t=e.amount,a=e.spent,n=e.tokenInfo;return Object(g.useMemo)((function(){if(n){var e=Object(Ee.a)(Object(se.a)(a,n.decimals)).toString();return{amount:Object(Ee.a)(Object(se.a)(t,n.decimals)).toString(),spent:e}}}),[t,a,n])}({amount:t,spent:a,tokenInfo:i});return c&&i?p.a.createElement(Be,null,o&&p.a.createElement(Ae,{alt:i.name,onError:Oe.a,src:i.logoUri}),p.a.createElement(s.Text,{size:"lg"},"".concat(c.spent," of ").concat(c.amount," ").concat(i.symbol))):null},Pe=Object(O.default)(s.Button)(we||(we=Object(E.a)(["\n  background-color: transparent;\n  padding: 0;\n\n  &:hover {\n    background-color: transparent;\n  }\n"]))),ze=function(e){var t=e.data,a=Object(de.a)(),n=Object(h.f)(Q.b),r=function(){var e={align:"left",custom:!1,disablePadding:!1,id:ge,label:"Beneficiary",order:!1},t={align:"left",custom:!1,disablePadding:!1,id:pe,label:"Spent",order:!1,static:!0},a={align:"left",custom:!1,disablePadding:!1,id:he,label:"Reset Time",order:!1,static:!0},n={custom:!0,disablePadding:!1,id:"action",label:"",order:!1};return Object(x.a)([e,t,a,n])}(),o=r.filter((function(e){return!e.custom})),i=Object(g.useState)(),c=Object(l.a)(i,2),m=c[0],u=c[1];return p.a.createElement(p.a.Fragment,null,p.a.createElement(S.a,{style:{minHeight:"420px"}},p.a.createElement(K.a,{columns:r,data:t,defaultFixed:!0,defaultOrderBy:ge,defaultRowsPerPage:5,label:"Spending limits",noBorder:!0,size:null===t||void 0===t?void 0:t.length},(function(e){return e.map((function(t,r){return p.a.createElement(J.a,{className:b()(a.hide,r>=3&&r===e.size-1&&a.noBorderBottom),"data-testid":"spending-limit-table-row",key:r,tabIndex:-1},o.map((function(e,a){var n=e.id,r=t[n];return p.a.createElement($.a,{align:e.align,component:"td",key:"".concat(n,"-").concat(a)},n===ge&&p.a.createElement(ie.a,{address:r}),n===pe&&p.a.createElement(Le,r),n===he&&p.a.createElement(s.Text,{size:"lg"},r.relativeTime))})),p.a.createElement($.a,{component:"td"},p.a.createElement(P.a,{align:"end",className:a.actions},n&&p.a.createElement(Pe,{size:"md",iconType:"delete",color:"error",variant:"outlined",onClick:function(){return u(t)},"data-testid":"remove-action"},null))))}))}))),m&&p.a.createElement(fe,{onClose:function(){return u(void 0)},spendingLimit:m,open:!0}))},Fe=a(215),Me=a(31),De=a(1342),_e=a(1507),He=a(1336),Ve=a(1375),We=a(252),Ue=a(102),qe=a(1402),Xe=a(116),Ye=O.default.div(Ce||(Ce=Object(E.a)(["\n  grid-area: beneficiaryInput;\n"]))),Qe=O.default.div(Se||(Se=Object(E.a)(["\n  grid-area: beneficiaryScan;\n"]))),Ke=function(){var e=Object(He.e)().initialValues,t=Object(He.d)().mutators,a=Object(g.useState)({address:(null===e||void 0===e?void 0:e.beneficiary)||"",name:""}),n=Object(l.a)(a,2),r=n[0],o=n[1],i=Object(g.useState)(!(null===e||void 0===e?void 0:e.beneficiary)),c=Object(l.a)(i,2),m=c[0],u=c[1];Object(g.useEffect)((function(){var e;null===r&&(null===t||void 0===t||null===(e=t.setBeneficiary)||void 0===e||e.call(t,""),m&&u(!1))}),[t,m,r]);var d=Object(h.f)(We.c);return(null===r||void 0===r?void 0:r.address)?p.a.createElement(Ye,{role:"button","aria-pressed":"false",tabIndex:0,onKeyDown:function(e){Object(Xe.a)(e.key,"Tab")||o(null)},onClick:function(){o(null)}},p.a.createElement(s.EthHashInfo,{hash:r.address,name:r.name,showCopyBtn:!0,showAvatar:!0,textSize:"lg",explorerUrl:Object(F.c)(r.address)})):p.a.createElement(p.a.Fragment,null,p.a.createElement(Ye,null,p.a.createElement(qe.a,{fieldMutator:null===t||void 0===t?void 0:t.setBeneficiary,pristine:m,setSelectedEntry:o,setIsValidAddress:function(){},label:"Beneficiary"})),p.a.createElement(Qe,null,p.a.createElement(Ve.a,{handleScan:function(e,a){var n,r,i=e.startsWith("ethereum:")?e.replace("ethereum:",""):e,c=d&&null!==(n=Object(Ue.f)(d,i,{filterOnlyValidName:!0}))&&void 0!==n?n:"";null===t||void 0===t||null===(r=t.setBeneficiary)||void 0===r||r.call(t,i),o({name:c,address:i}),a()}})))},$e=a(1713),Je=O.default.div(ye||(ye=Object(E.a)(["\n  grid-area: tokenInput;\n"]))),Ze=function(){var e=Object(h.f)(Q.a);return p.a.createElement(Je,null,p.a.createElement($e.a,{tokens:e}))},et=O.default.div(Ne||(Ne=Object(E.a)(["\n  padding: 24px 8px 24px 24px;\n  align-items: center;\n  display: grid;\n  grid-template-columns: 4fr 1fr;\n  grid-template-rows: 6fr;\n  gap: 16px 8px;\n  grid-template-areas:\n    'beneficiaryInput beneficiaryScan'\n    'tokenInput .'\n    'amountInput .'\n    'resetTimeLabel resetTimeLabel'\n    'resetTimeToggle resetTimeToggle'\n    'resetTimeOption resetTimeOption';\n"]))),tt={setBeneficiary:function(e,t,a){a.changeValue(t,"beneficiary",(function(){return e[0]}))}},at=function(e){var t=e.invalid,a=e.submitting,n=e.dirtyFieldsSinceLastSubmit,r=e.values,o=r.beneficiary,i=r.token,c=r.amount;return!(a||t||!o||!i||!c||!n)},nt=function(e){var t=e.initialValues,a=e.onCancel,n=e.onReview;return p.a.createElement(p.a.Fragment,null,p.a.createElement(z.b.Header,{onClose:a},p.a.createElement(z.b.Header.Title,null,"New spending limit",p.a.createElement(s.Text,{size:"lg",color:"secondaryLight",as:"span"},"1 of 2"))),p.a.createElement(De.a,{formMutators:tt,onSubmit:n,initialValues:t},(function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement(et,null,p.a.createElement(Ke,null),p.a.createElement(Ze,null),p.a.createElement(_e.b,null),p.a.createElement(ue.a,null)),p.a.createElement(z.b.Footer,null,p.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:a},confirmButtonProps:{disabled:!at(arguments.length<=2?void 0:arguments[2]),text:"Review"}})))})))},rt=function(e,t,a,n,r,o){var i,c=[];!!!(null===t||void 0===t?void 0:t.length)&&e&&c.push(Object(le.c)(e)),!(null!==(i=null===t||void 0===t?void 0:t.some((function(e){var t=e.delegate;return Object(Me.f)(t,null===r||void 0===r?void 0:r.beneficiary)})))&&void 0!==i&&i)&&(null===r||void 0===r?void 0:r.beneficiary)&&c.push(Object(le.a)(r.beneficiary)),a&&"0"!==a.spent&&c.push(Object(le.e)(a.delegate,n.address));var l,s=Object(le.b)()-30,m={beneficiary:r.beneficiary,token:r.token,spendingLimitInWei:Object(se.c)(r.amount,n.decimals),resetTimeMin:r.withResetTime?+r.resetTime:0,resetBaseMin:r.withResetTime?s:0};if(e){if(0===c.length)l=Object(le.i)({spendingLimitArgs:m,safeAddress:e});else{var u=Object(le.h)({spendingLimitArgs:m,safeAddress:e});c.push(u),l=Object(le.k)({transactions:c,safeAddress:e})}o&&(l.txNonce=o.safeNonce,l.safeTxGas=o.safeTxGas?Number(o.safeTxGas):void 0,l.ethParameters=o)}return{spendingLimitTxData:l,transactions:c,spendingLimitArgs:m}},ot=function(e){var t=e.onBack,a=e.onClose,n=e.txToken,r=e.values,o=Object(de.a)(),i=Object(h.e)(),m=Object(h.f)(_.n),u=Object(h.f)(_.p),d=function(e){var t=e.spendingLimits,a=e.txToken,n=e.values;return Object(g.useMemo)((function(){var e=null===t||void 0===t?void 0:t.find((function(e){var t=e.delegate,a=e.token;return Object(Me.f)(t,n.beneficiary)&&Object(Me.f)(a,n.token)}));return void 0!==e?Object(c.a)(Object(c.a)({},e),{},{amount:Object(se.a)(e.amount,a.decimals)}):null}),[t,a.decimals,n.beneficiary,n.token])}({spendingLimits:u,txToken:n,values:r}),f=Object(g.useState)({to:"",txData:""}),b=Object(l.a)(f,2),E=b[0],O=b[1],x=Object(g.useState)(0),v=Object(l.a)(x,2),j=v[0],w=v[1],C=Object(g.useState)(),S=Object(l.a)(C,2),y=S[0],N=S[1],T=Object(g.useState)(),k=Object(l.a)(T,2),I=k[0],G=k[1],R=Object(V.b)({txData:E.txData,txRecipient:E.to,operation:E.operation,safeTxGas:j,manualGasPrice:y,manualGasLimit:I}),B=R.gasCostFormatted,L=R.txEstimationExecutionStatus,F=R.isExecution,M=R.isCreation,H=R.isOffChainSignature,Y=R.gasPrice,Q=R.gasPriceFormatted,K=R.gasLimit,$=R.gasEstimation,J=Object(W.a)(L),Z=Object(l.a)(J,1)[0];Object(g.useEffect)((function(){var e=rt(m,u,d,n,r).spendingLimitTxData;O(e)}),[m,u,d,n,r]);var ee=Object(g.useMemo)((function(){var e;return r.withResetTime?null===(e=Object(ue.b)().find((function(e){return e.value===r.resetTime})))||void 0===e?void 0:e.label:""}),[r.resetTime,r.withResetTime]),te="Submit";return z.a.LOADING===Z&&(te=L===V.a.LOADING?"Estimating":"Submitting"),p.a.createElement(X.a,{isOffChainSignature:H,isExecution:F,ethGasLimit:K,ethGasPrice:Q,safeTxGas:$.toString(),closeEditModalCallback:function(e){var t=Number(Q),a=Number(e.ethGasPrice),n=Number($),r=Number(e.safeTxGas);a&&t!==a&&N(e.ethGasPrice),e.ethGasLimit&&K!==e.ethGasLimit&&G(e.ethGasLimit),r&&n!==r&&w(r)}},(function(e,l){return p.a.createElement(p.a.Fragment,null,p.a.createElement(z.b.Header,{onClose:a},p.a.createElement(z.b.Header.Title,null,"New spending limit",p.a.createElement(s.Text,{size:"lg",color:"secondaryLight",as:"span"},"2 of 2"))),p.a.createElement(z.b.Body,null,p.a.createElement(A.a,{margin:"lg"},p.a.createElement(ie.a,{address:r.beneficiary,title:"Beneficiary"})),p.a.createElement(A.a,{margin:"lg"},p.a.createElement(ie.c,{amount:Object(se.a)(Object(se.c)(r.amount,n.decimals),n.decimals),title:"Amount",token:n}),d&&p.a.createElement(s.Text,{size:"lg",color:"error"},"Previous Amount: ",d.amount)),p.a.createElement(A.a,{margin:"lg"},p.a.createElement(ie.b,{title:"Reset Time",label:ee}),d&&p.a.createElement(P.a,{align:"center",margin:"md"},p.a.createElement(s.Text,{size:"lg",color:"error"},"Previous Reset Time: ",function(e){var t,a;return null!==(t=null===(a=Object(ue.b)().find((function(t){return t.value===(+e.resetTimeMin).toString()})))||void 0===a?void 0:a.label)&&void 0!==t?t:"One-time spending limit"}(d)))),d&&p.a.createElement(A.a,{margin:"md"},p.a.createElement(s.Text,{size:"xl",color:"error",center:!0,strong:!0},"You are about to replace an existent spending limit")),p.a.createElement(q.a,{txParameters:e,onEdit:l,isTransactionCreation:M,isTransactionExecution:F,isOffChainSignature:H})),p.a.createElement("div",{className:o.gasCostsContainer},p.a.createElement(U.a,{gasCostFormatted:B,isExecution:F,isCreation:M,isOffChainSignature:H,txEstimationExecutionStatus:L})),p.a.createElement(z.b.Footer,{withoutBorder:Z!==z.a.LOADING},p.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:function(){return t({values:{},txToken:Object(Fe.a)(),step:it})},text:"Back"},confirmButtonProps:{onClick:function(){return function(e){var t=e.ethGasPrice,a=e.ethGasLimit,o=e.ethGasPriceInGWei,l=Object(c.a)(Object(c.a)({},e),{},{ethGasPrice:t||Y,ethGasPriceInGWei:o||Q,ethGasLimit:a||K});if(m){var s=rt(m,u,d,n,r,l).spendingLimitTxData;i(Object(D.b)(s))}}(e)},disabled:void 0===d,status:Z,text:te}})))}))},it="CREATE",ct="REVIEW",lt=function(e,t){var a=t.type,n=t.newState,r=t.tokens;switch(a){case it:return Object(c.a)(Object(c.a)({},e),{},{step:it});case ct:var o;return Object(c.a)(Object(c.a)(Object(c.a)({},e),n),{},{txToken:null!==(o=r.find((function(e){return Object(Me.f)(e.address,n.values.token)})))&&void 0!==o?o:e.txToken,step:ct})}},st=function(e){var t=e.close,a=e.open,n=function(e){var t=Object(h.f)(Q.a),a=Object(g.useReducer)(lt,{step:e,txToken:Object(Fe.a)(),values:{}},(function(e){return e})),n=Object(l.a)(a,2),r=n[0],o=n[1];return[r,{create:Object(g.useCallback)((function(e){return o({type:it,newState:e,tokens:t})}),[t]),review:Object(g.useCallback)((function(e){return o({type:ct,newState:e,tokens:t})}),[t])}]}(it),r=Object(l.a)(n,2),o=r[0],i=o.step,c=o.txToken,s=o.values,m=r[1],u=m.create,d=m.review,f=function(){var e=Object(T.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d({step:i,txToken:c,values:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return p.a.createElement(z.b,{handleClose:t,open:a,title:"New spending limit",description:"set rules for specific beneficiaries to access funds from this Safe without having to collect all signatures"},i===it&&p.a.createElement(nt,{initialValues:s,onCancel:t,onReview:f}),i===ct&&p.a.createElement(ot,{onBack:u,onClose:t,txToken:c,values:s}))},mt=a(93),ut=a.p+"static/media/asset-amount.7abaa1ae.svg",dt=a.p+"static/media/beneficiary.12f838b7.svg",ft=a.p+"static/media/time.70bc4994.svg",bt=O.default.div(Te||(Te=Object(E.a)(["\n  display: flex;\n  justify-content: space-around;\n  margin-top: 20px;\n  max-width: 720px;\n  text-align: center;\n"]))),gt=O.default.div(ke||(ke=Object(E.a)(["\n  width: 24%;\n  min-width: 120px;\n  max-width: 164px;\n"]))),pt=O.default.div(Ie||(Ie=Object(E.a)(["\n  height: 2px;\n  flex: 1;\n  background: #d4d5d3;\n  margin: 46px 0;\n"]))),ht=function(){return p.a.createElement(bt,null,p.a.createElement(gt,null,p.a.createElement(mt.a,{alt:"Select Beneficiary",title:"Beneficiary",height:96,src:dt}),p.a.createElement(s.Text,{size:"lg",color:"placeHolder",strong:!0,center:!0},"Select Beneficiary"),p.a.createElement(s.Text,{size:"lg",color:"placeHolder",center:!0},"Define beneficiary that will be able to use the allowance."),p.a.createElement(s.Text,{size:"lg",color:"placeHolder",center:!0},"The beneficiary does not have to be an owner of this Safe")),p.a.createElement(pt,null),p.a.createElement(gt,null,p.a.createElement(mt.a,{alt:"Select asset and amount",title:"Asset and Amount",height:96,src:ut}),p.a.createElement(s.Text,{size:"lg",color:"placeHolder",strong:!0,center:!0},"Select asset and amount"),p.a.createElement(s.Text,{size:"lg",color:"placeHolder",center:!0},"You can set a spending limit for any asset stored in your Safe")),p.a.createElement(pt,null),p.a.createElement(gt,null,p.a.createElement(mt.a,{alt:"Select time",title:"Time",height:96,src:ft}),p.a.createElement(s.Text,{size:"lg",color:"placeHolder",strong:!0,center:!0},"Select time"),p.a.createElement(s.Text,{size:"lg",color:"placeHolder",center:!0},"You can choose to set a one-time spending limit or to have it automatically refill after a defined time-period")))},Et=Object(O.default)(s.Text)(Ge||(Ge=Object(E.a)(["\n  margin-top: 16px;\n"]))),Ot=function(){var e,t=Object(de.a)(),a=Object(h.f)(Q.b),n=Object(h.f)(_.p),r=null===(e=n)||void 0===e?void 0:e.map((function(e){var t;return t={},Object(i.a)(t,ge,e.delegate),Object(i.a)(t,pe,{spent:e.spent,amount:e.amount,tokenAddress:e.token}),Object(i.a)(t,he,{relativeTime:Object(be.f)(e.lastResetMin,e.resetTimeMin),lastResetMin:e.lastResetMin,resetTimeMin:e.resetTimeMin}),t})),o=Object(g.useState)(!1),c=Object(l.a)(o,2),m=c[0],u=c[1];return p.a.createElement(p.a.Fragment,null,p.a.createElement(R.a,{className:t.container,grow:"grow"},p.a.createElement(s.Title,{size:"xs",withoutMargin:!0},"Spending limit"),p.a.createElement(Et,{size:"lg"},"You can set rules for specific beneficiaries to access funds from this Safe without having to collect all signatures."),(null===r||void 0===r?void 0:r.length)?p.a.createElement(ze,{data:r}):p.a.createElement(ht,null)),a&&p.a.createElement(p.a.Fragment,null,p.a.createElement(P.a,{align:"end",className:t.buttonRow,grow:!0},p.a.createElement(A.a,{end:"xs"},p.a.createElement(s.Button,{className:t.actionButton,color:"primary",size:"md","data-testid":"new-spending-limit-button",onClick:function(){u(!0)},variant:"contained"},"New spending limit"))),m&&p.a.createElement(st,{close:function(){u(!1)},open:!0})))},xt=a.p+"static/media/bin.a31af619.svg",vt=a(143),jt=a(65),wt=a(52),Ct=a(187),St=a(1386),yt=Object(j.a)({heading:{padding:"".concat(w.sm," ").concat(w.lg),justifyContent:"flex-start",boxSizing:"border-box",height:"74px"},annotation:{color:w.secondaryText,marginRight:"auto",marginLeft:"20px",lineHeight:"normal"},manage:{fontSize:w.lg},closeIcon:{height:"35px",width:"35px"},formContainer:{padding:"".concat(w.md," ").concat(w.lg),minHeight:"340px"},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"}}),Nt=a(1410),Tt=a(1337),kt=a(1341),It=a(470),Gt=a(30),Rt="add-owner-name-input",At="add-owner-address-testid",Bt="add-owner-next-btn",Lt={setOwnerAddress:function(e,t,a){a.changeValue(t,"ownerAddress",(function(){return e[0]}))},setOwnerName:function(e,t,a){a.changeValue(t,"ownerName",(function(){return e[0]}))}},Pt=Object(d.a)(yt),zt=Object(F.h)(),Ft=function(e){var t=e.onClose,a=e.onSubmit,n=e.initialValues,r=Pt(),o=Object(h.f)(We.b),i=Object(h.f)(_.l),c=Object(h.f)(_.n),l=Object(It.q)(i),s=Object(It.b)(c);return p.a.createElement(p.a.Fragment,null,p.a.createElement(P.a,{align:"center",className:r.heading,grow:!0},p.a.createElement(L.a,{className:r.manage,noMargin:!0,weight:"bolder"},"Add new owner"),p.a.createElement(L.a,{className:r.annotation},"1 of 3"),p.a.createElement(k.a,{disableRipple:!0,onClick:t},p.a.createElement(G.a,{className:r.closeIcon}))),p.a.createElement(B.a,null),p.a.createElement(De.a,{formMutators:Lt,initialValues:{ownerName:null===n||void 0===n?void 0:n.ownerName,ownerAddress:null===n||void 0===n?void 0:n.ownerAddress},onSubmit:function(e){a(e)}},(function(){var e=arguments.length<=3?void 0:arguments[3],a=function(t,a){var n=t;n.startsWith("ethereum:")&&(n=n.replace("ethereum:","")),e.setOwnerAddress(n),a()};return p.a.createElement(p.a.Fragment,null,p.a.createElement(R.a,{className:r.formContainer},p.a.createElement(P.a,{margin:"md"},p.a.createElement(L.a,null,"Add a new owner to the active Safe")),p.a.createElement(P.a,{margin:"md"},p.a.createElement(A.a,{xs:8},p.a.createElement(Tt.a,{component:kt.a,name:"ownerName",placeholder:"Owner name*",testId:Rt,text:"Owner name*",type:"text",validate:Object(It.c)(It.p,It.r)}),p.a.createElement(St.a,{name:"ownerAddress"},function(){var t=Object(T.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Gt.i.utils.isAddress(a)&&(n=o[zt][a].name)&&e.setOwnerName(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))),p.a.createElement(P.a,{margin:"md"},p.a.createElement(A.a,{xs:8},p.a.createElement(Nt.a,{fieldMutator:e.setOwnerAddress,name:"ownerAddress",placeholder:"Owner address*",testId:At,text:"Owner address*",validators:[l,s]})),p.a.createElement(A.a,{center:"xs",className:r,middle:"xs",xs:1},p.a.createElement(Ve.a,{handleScan:a})))),p.a.createElement(B.a,null),p.a.createElement(P.a,{align:"center",className:r.buttonRow},p.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:t,text:"Cancel"},confirmButtonProps:{type:"submit",text:"Next",testId:Bt}})))})))},Mt=a(483),Dt=Object(j.a)({root:{height:"372px"},heading:{padding:"".concat(w.sm," ").concat(w.lg),justifyContent:"flex-start",boxSizing:"border-box",height:"74px"},annotation:{color:w.secondaryText,marginRight:"auto",marginLeft:"20px",lineHeight:"normal"},manage:{fontSize:w.lg},closeIcon:{height:"35px",width:"35px"},info:{backgroundColor:w.background,padding:w.sm,justifyContent:"center",textAlign:"center",flexDirection:"column"},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"},details:{padding:w.lg,borderRight:"solid 2px ".concat(w.border),height:"100%"},owners:{overflow:"auto",height:"100%"},ownersTitle:{padding:w.lg},owner:{padding:w.sm,alignItems:"center"},name:{textOverflow:"ellipsis",overflow:"hidden"},selectedOwner:{padding:w.sm,alignItems:"center",backgroundColor:"#f7f5f5"},open:{paddingLeft:w.sm,width:"auto","&:hover":{cursor:"pointer"}},gasCostsContainer:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",width:"100%",backgroundColor:w.background}}),_t=Object(d.a)(Dt),Ht=Object(F.h)(),Vt=function(e){var t=e.onClickBack,a=e.onClose,n=e.onSubmit,r=e.values,o=_t(),i=Object(g.useState)(""),c=Object(l.a)(i,2),m=c[0],u=c[1],d=Object(h.f)(_.n),f=Object(Mt.a)(d),b=Object(h.f)((function(e){return Object(_.m)(e,Ht)})),E=Object(g.useState)(0),O=Object(l.a)(E,2),x=O[0],v=O[1],j=Object(g.useState)(),w=Object(l.a)(j,2),C=w[0],S=w[1],y=Object(g.useState)(),N=Object(l.a)(y,2),T=N[0],I=N[1],M=Object(V.b)({txData:m,txRecipient:d,safeTxGas:x,manualGasPrice:C,manualGasLimit:T}),D=M.gasLimit,H=M.gasEstimation,Y=M.gasCostFormatted,Q=M.gasPriceFormatted,K=M.txEstimationExecutionStatus,$=M.isExecution,J=M.isOffChainSignature,Z=M.isCreation,ee=Object(W.a)(K),te=Object(l.a)(ee,1)[0];Object(g.useEffect)((function(){var e=!0;return function(){try{var t=Object(jt.f)(d).methods.addOwnerWithThreshold(r.ownerAddress,r.threshold).encodeABI();e&&u(t)}catch(a){console.error("Error calculating ERC721 transfer data:",a.message)}}(),function(){e=!1}}),[d,r.ownerAddress,r.threshold]);return p.a.createElement(X.a,{isOffChainSignature:J,isExecution:$,ethGasLimit:D,ethGasPrice:Q,safeTxGas:H.toString(),closeEditModalCallback:function(e){var t=Number(Q),a=Number(e.ethGasPrice),n=Number(H),r=Number(e.safeTxGas);a&&t!==a&&S(e.ethGasPrice),e.ethGasLimit&&D!==e.ethGasLimit&&I(e.ethGasLimit),r&&n!==r&&v(r)}},(function(e,i){return p.a.createElement(p.a.Fragment,null,p.a.createElement(P.a,{align:"center",className:o.heading,grow:!0},p.a.createElement(L.a,{className:o.manage,noMargin:!0,weight:"bolder"},"Add new owner"),p.a.createElement(L.a,{className:o.annotation},"3 of 3"),p.a.createElement(k.a,{disableRipple:!0,onClick:a},p.a.createElement(G.a,{className:o.closeIcon}))),p.a.createElement(B.a,null),p.a.createElement(R.a,null,p.a.createElement(P.a,{className:o.root},p.a.createElement(A.a,{layout:"column",xs:4},p.a.createElement(R.a,{className:o.details},p.a.createElement(R.a,{margin:"lg"},p.a.createElement(L.a,{color:"primary",noMargin:!0,size:"lg"},"Details")),p.a.createElement(R.a,{margin:"lg"},p.a.createElement(L.a,{color:"disabled",noMargin:!0,size:"sm"},"Safe name"),p.a.createElement(L.a,{className:o.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder"},f)),p.a.createElement(R.a,{margin:"lg"},p.a.createElement(L.a,{color:"disabled",noMargin:!0,size:"sm"},"Any transaction requires the confirmation of:"),p.a.createElement(L.a,{className:o.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder"},"".concat(r.threshold," out of ").concat(((null===b||void 0===b?void 0:b.length)||0)+1," owner(s)"))))),p.a.createElement(A.a,{className:o.owners,layout:"column",xs:8},p.a.createElement(P.a,{className:o.ownersTitle},p.a.createElement(L.a,{color:"primary",noMargin:!0,size:"lg"},"".concat(((null===b||void 0===b?void 0:b.length)||0)+1," Safe owner(s)"))),p.a.createElement(B.a,null),null===b||void 0===b?void 0:b.map((function(e){return p.a.createElement(p.a.Fragment,{key:e.address},p.a.createElement(P.a,{className:o.owner},p.a.createElement(A.a,{align:"center",xs:12},p.a.createElement(s.EthHashInfo,{hash:e.address,name:e.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(F.c)(e.address)}))),p.a.createElement(B.a,null))})),p.a.createElement(P.a,{align:"center",className:o.info},p.a.createElement(L.a,{color:"primary",noMargin:!0,size:"md",weight:"bolder"},"ADDING NEW OWNER \u2193")),p.a.createElement(B.a,null),p.a.createElement(P.a,{className:o.selectedOwner},p.a.createElement(A.a,{align:"center",xs:12},p.a.createElement(s.EthHashInfo,{hash:r.ownerAddress,name:r.ownerName,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(F.c)(r.ownerAddress)}))),p.a.createElement(B.a,null)))),p.a.createElement(B.a,null),p.a.createElement(q.a,{txParameters:e,onEdit:i,compact:!1,isTransactionCreation:Z,isTransactionExecution:$,isOffChainSignature:J}),p.a.createElement(R.a,{className:o.gasCostsContainer},p.a.createElement(U.a,{gasCostFormatted:Y,isExecution:$,isCreation:Z,isOffChainSignature:J,txEstimationExecutionStatus:K})),p.a.createElement(B.a,null),p.a.createElement(P.a,{align:"center",className:o.buttonRow},p.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:t,text:"Back"},confirmButtonProps:{onClick:function(){return n(e)},status:te,text:K===V.a.LOADING?"Estimating":void 0,testId:"add-owner-submit-btn"}})))}))},Wt=a(86),Ut=a(523),qt=Object(j.a)({heading:{padding:"".concat(w.sm," ").concat(w.lg),justifyContent:"flex-start",boxSizing:"border-box",height:"74px"},annotation:{color:w.secondaryText,marginRight:"auto",marginLeft:"20px",lineHeight:"normal"},manage:{fontSize:w.lg},closeIcon:{height:"35px",width:"35px"},headingText:{fontSize:w.md},formContainer:{padding:"".concat(w.md," ").concat(w.lg),minHeight:"340px"},ownersText:{marginLeft:w.sm},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"},inputRow:{position:"relative"},errorText:{position:"absolute",bottom:"-25px"}}),Xt=a(1385),Yt=Object(d.a)(qt),Qt=function(e){var t=e.onClickBack,a=e.onClose,n=e.onSubmit,r=e.initialValues,o=Yt(),i=Object(h.f)(_.q),c=Object(h.f)(_.l),l=c?c.length+1:0;return p.a.createElement(p.a.Fragment,null,p.a.createElement(P.a,{align:"center",className:o.heading,grow:!0},p.a.createElement(L.a,{className:o.manage,noMargin:!0,weight:"bolder"},"Add new owner"),p.a.createElement(L.a,{className:o.annotation},"2 of 3"),p.a.createElement(k.a,{disableRipple:!0,onClick:a},p.a.createElement(G.a,{className:o.closeIcon}))),p.a.createElement(B.a,null),p.a.createElement(De.a,{initialValues:{threshold:r.threshold||i.toString()},onSubmit:function(e){n(e)}},(function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement(R.a,{className:o.formContainer},p.a.createElement(P.a,null,p.a.createElement(L.a,{className:o.headingText,weight:"bolder"},"Set the required owner confirmations:")),p.a.createElement(P.a,null,p.a.createElement(L.a,{weight:"bolder"},"Any transaction requires the confirmation of:")),p.a.createElement(P.a,{align:"center",className:o.inputRow,margin:"xl"},p.a.createElement(A.a,{xs:2},p.a.createElement(Tt.a,{"data-testid":"threshold-select-input",name:"threshold",render:function(e){return p.a.createElement(p.a.Fragment,null,p.a.createElement(Xt.a,Object.assign({},e,{disableError:!0}),Object(Wt.a)(Array(Number(l))).map((function(e,t){return p.a.createElement(Ut.a,{key:t,value:"".concat(t+1)},t+1)}))),e.meta.error&&e.meta.touched&&p.a.createElement(L.a,{className:o.errorText,color:"error",noMargin:!0},e.meta.error))},validate:Object(It.c)(It.p,It.n,Object(It.h)(1),Object(It.e)(l))})),p.a.createElement(A.a,{xs:10},p.a.createElement(L.a,{className:o.ownersText,color:"primary",noMargin:!0,size:"lg"},"out of ",l," owner(s)")))),p.a.createElement(B.a,null),p.a.createElement(P.a,{align:"center",className:o.buttonRow},p.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:t,text:"Back"},confirmButtonProps:{type:"submit",text:"Review",testId:"add-owner-threshold-next-btn"}})))})))},Kt=function(){var e=Object(T.a)(N.a.mark((function e(t,a,n,r){var o,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(jt.f)(a),i=o.methods.addOwnerWithThreshold(t.ownerAddress,t.threshold).encodeABI(),e.next=4,r(Object(D.b)({safeAddress:a,to:a,valueInWei:"0",txData:i,txNonce:n.safeNonce,safeTxGas:n.safeTxGas?Number(n.safeTxGas):void 0,ethParameters:n,notifiedTransaction:H.c.SETTINGS_CHANGE_TX}));case 4:e.sent&&r(Object(vt.b)(Object(Ct.b)({address:t.ownerAddress,name:t.ownerName})));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),$t=function(e){var t=e.isOpen,a=e.onClose,n=Object(g.useState)("selectOwner"),r=Object(l.a)(n,2),o=r[0],i=r[1],s=Object(g.useState)({ownerName:"",ownerAddress:"",threshold:""}),m=Object(l.a)(s,2),u=m[0],d=m[1],f=Object(h.e)(),b=Object(h.f)(_.n);Object(g.useEffect)((function(){return function(){i("selectOwner"),d({ownerName:"",ownerAddress:"",threshold:""})}}),[t]);var E=function(){"reviewAddOwner"===o?i("selectThreshold"):"selectThreshold"===o&&i("selectOwner")},O=function(){var e=Object(T.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),e.prev=1,e.next=4,Kt(u,b,t,f);case 4:f(Object(vt.b)(Object(Ct.b)({name:u.ownerName,address:u.ownerAddress}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Error while removing an owner",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return p.a.createElement(z.c,{description:"Add owner to Safe",handleClose:a,open:t,paperClassName:"bigger-modal-window",title:"Add owner to Safe"},p.a.createElement(p.a.Fragment,null,"selectOwner"===o&&p.a.createElement(Ft,{initialValues:u,onClose:a,onSubmit:function(e){d((function(t){return Object(c.a)(Object(c.a)({},t),{},{ownerName:e.ownerName,ownerAddress:Object(wt.a)(e.ownerAddress)})})),i("selectThreshold")}}),"selectThreshold"===o&&p.a.createElement(Qt,{onClickBack:E,initialValues:{threshold:u.threshold},onClose:a,onSubmit:function(e){d((function(t){return Object(c.a)(Object(c.a)({},t),{},{threshold:e.threshold})})),i("reviewAddOwner")}}),"reviewAddOwner"===o&&p.a.createElement(Vt,{onClickBack:E,onClose:a,onSubmit:O,values:u})))},Jt=a(66),Zt=a(78),ea=Object(d.a)(Object(j.a)({heading:{padding:w.lg,justifyContent:"space-between",boxSizing:"border-box",height:"74px"},manage:{fontSize:w.lg},container:{padding:"".concat(w.md," ").concat(w.lg),minHeight:"200px"},close:{height:"35px",width:"35px"}})),ta="rename-owner-input",aa="save-owner-changes-btn",na=function(e){var t=e.isOpen,a=e.onClose,n=e.owner,r=ea(),o=Object(h.e)();return p.a.createElement(z.c,{description:"Edit owner from Safe",handleClose:a,open:t,paperClassName:"smaller-modal-window",title:"Edit owner from Safe"},p.a.createElement(P.a,{align:"center",className:r.heading,grow:!0},p.a.createElement(L.a,{className:r.manage,noMargin:!0,weight:"bolder"},"Edit owner name"),p.a.createElement(k.a,{disableRipple:!0,onClick:a},p.a.createElement(G.a,{className:r.close}))),p.a.createElement(B.a,null),p.a.createElement(De.a,{onSubmit:function(e){var t=e.ownerName;t!==n.name&&(o(Object(vt.b)(Object(Ct.b)({address:n.address,name:t}))),o(Object(Zt.b)(Jt.a.OWNER_NAME_CHANGE_EXECUTED_MSG))),a()},subscription:{pristine:!0}},(function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var i=t[2].pristine;return p.a.createElement(p.a.Fragment,null,p.a.createElement(R.a,{className:r.container},p.a.createElement(P.a,{margin:"md"},p.a.createElement(Tt.a,{component:kt.a,initialValue:n.name,name:"ownerName",placeholder:"Owner name*",testId:ta,text:"Owner name*",type:"text",validate:Object(It.c)(It.p,It.r)})),p.a.createElement(P.a,null,p.a.createElement(R.a,{justify:"center"},p.a.createElement(s.EthHashInfo,{hash:n.address,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(F.c)(n.address)})))),p.a.createElement(z.b.Footer,null,p.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:a},confirmButtonProps:{disabled:i,testId:aa,text:"Save"}})))})))},ra=Object(d.a)(Object(j.a)({heading:{padding:"".concat(w.sm," ").concat(w.lg),justifyContent:"flex-start",boxSizing:"border-box",height:"74px"},annotation:{lineHeight:"normal",color:w.secondaryText,marginRight:"auto",marginLeft:"20px"},manage:{fontSize:w.lg},closeIcon:{height:"35px",width:"35px"},formContainer:{padding:"".concat(w.md," ").concat(w.lg),minHeight:"340px"}})),oa=function(e){var t=e.onClose,a=e.onSubmit,n=e.owner,r=ra();return p.a.createElement(p.a.Fragment,null,p.a.createElement(P.a,{align:"center",className:r.heading,grow:!0},p.a.createElement(L.a,{className:r.manage,noMargin:!0,weight:"bolder"},"Remove owner"),p.a.createElement(L.a,{className:r.annotation},"1 of 3"),p.a.createElement(k.a,{disableRipple:!0,onClick:t},p.a.createElement(G.a,{className:r.closeIcon}))),p.a.createElement(B.a,null),p.a.createElement(R.a,{className:r.formContainer},p.a.createElement(P.a,{margin:"md"},p.a.createElement(L.a,{size:"lg"},"Review the owner you want to remove from the active Safe:")),p.a.createElement(P.a,null,p.a.createElement(A.a,{align:"center",xs:12},p.a.createElement(s.EthHashInfo,{hash:n.address,name:n.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(F.c)(n.address)})))),p.a.createElement(z.b.Footer,null,p.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:t},confirmButtonProps:{onClick:a,testId:"remove-owner-next-btn",text:"Next"}})))},ia=Object(d.a)(Object(j.a)({root:{height:"372px"},heading:{padding:"".concat(w.sm," ").concat(w.lg),justifyContent:"flex-start",boxSizing:"border-box",height:"74px"},annotation:{lineHeight:"normal",color:w.secondaryText,marginRight:"auto",marginLeft:"20px"},manage:{fontSize:w.lg},closeIcon:{height:"35px",width:"35px"},info:{backgroundColor:w.background,padding:w.sm,justifyContent:"center",textAlign:"center",flexDirection:"column"},details:{padding:w.lg,borderRight:"solid 1px ".concat(w.border),height:"100%"},owners:{overflow:"auto",height:"100%"},ownersTitle:{padding:w.lg},owner:{padding:w.sm,alignItems:"center"},name:{textOverflow:"ellipsis",overflow:"hidden"},selectedOwner:{padding:w.sm,alignItems:"center",backgroundColor:"#ffe6ea"},gasCostsContainer:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",width:"100%",backgroundColor:w.background}})),ca=Object(F.h)(),la=function(e){var t=e.onClickBack,a=e.onClose,n=e.onSubmit,r=e.owner,o=e.threshold,i=void 0===o?1:o,c=ia(),m=Object(g.useState)(""),u=Object(l.a)(m,2),d=u[0],f=u[1],b=Object(h.f)(_.n),E=Object(Mt.a)(b),O=Object(h.f)((function(e){return Object(_.m)(e,ca)})),x=O?O.length-1:0,v=Object(g.useState)(0),j=Object(l.a)(v,2),w=j[0],C=j[1],S=Object(g.useState)(),y=Object(l.a)(S,2),I=y[0],M=y[1],D=Object(g.useState)(),H=Object(l.a)(D,2),Y=H[0],Q=H[1],K=Object(V.b)({txData:d,txRecipient:b,safeTxGas:w,manualGasPrice:I,manualGasLimit:Y}),$=K.gasLimit,J=K.gasEstimation,Z=K.gasPriceFormatted,ee=K.gasCostFormatted,te=K.txEstimationExecutionStatus,ae=K.isExecution,ne=K.isCreation,re=K.isOffChainSignature,oe=Object(W.a)(te),ie=Object(l.a)(oe,1)[0];Object(g.useEffect)((function(){var e=!0;if(i)return function(){var t=Object(T.a)(N.a.mark((function t(){var a,n,o,c,l;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=Object(jt.f)(b),t.next=4,a.methods.getOwners().call();case 4:n=t.sent,o=n.findIndex((function(e){return Object(Me.f)(e,r.address)})),c=0===o?jt.d:n[o-1],l=a.methods.removeOwner(c,r.address,i).encodeABI(),e&&f(l),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("Error calculating ERC721 transfer data:",t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1};console.error("Threshold value was not define, tx can't be executed")}),[b,r.address,i]);return p.a.createElement(X.a,{isOffChainSignature:re,isExecution:ae,ethGasLimit:$,ethGasPrice:Z,safeTxGas:J.toString(),closeEditModalCallback:function(e){var t=Number(Z),a=Number(e.ethGasPrice),n=Number(J),r=Number(e.safeTxGas);a&&t!==a&&M(e.ethGasPrice),e.ethGasLimit&&$!==e.ethGasLimit&&Q(e.ethGasLimit),r&&n!==r&&C(r)}},(function(e,o){return p.a.createElement(p.a.Fragment,null,p.a.createElement(P.a,{align:"center",className:c.heading,grow:!0},p.a.createElement(L.a,{className:c.manage,noMargin:!0,weight:"bolder"},"Remove owner"),p.a.createElement(L.a,{className:c.annotation},"3 of 3"),p.a.createElement(k.a,{disableRipple:!0,onClick:a},p.a.createElement(G.a,{className:c.closeIcon}))),p.a.createElement(B.a,null),p.a.createElement(R.a,null,p.a.createElement(P.a,{className:c.root},p.a.createElement(A.a,{layout:"column",xs:4},p.a.createElement(R.a,{className:c.details},p.a.createElement(R.a,{margin:"lg"},p.a.createElement(L.a,{color:"primary",noMargin:!0,size:"lg"},"Details")),p.a.createElement(R.a,{margin:"lg"},p.a.createElement(L.a,{color:"disabled",noMargin:!0,size:"sm"},"Safe name"),p.a.createElement(L.a,{className:c.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder"},E)),p.a.createElement(R.a,{margin:"lg"},p.a.createElement(L.a,{color:"disabled",noMargin:!0,size:"sm"},"Any transaction requires the confirmation of:"),p.a.createElement(L.a,{className:c.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder"},"".concat(i," out of ").concat(x," owner(s)"))))),p.a.createElement(A.a,{className:c.owners,layout:"column",xs:8},p.a.createElement(P.a,{className:c.ownersTitle},p.a.createElement(L.a,{color:"primary",noMargin:!0,size:"lg"},"".concat(x," Safe owner(s)"))),p.a.createElement(B.a,null),null===O||void 0===O?void 0:O.map((function(e){return!Object(Me.f)(e.address,r.address)&&p.a.createElement(p.a.Fragment,{key:e.address},p.a.createElement(P.a,{className:c.owner},p.a.createElement(A.a,{align:"center",xs:12},p.a.createElement(s.EthHashInfo,{hash:e.address,name:e.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(F.c)(e.address)}))),p.a.createElement(B.a,null))})),p.a.createElement(P.a,{align:"center",className:c.info},p.a.createElement(L.a,{color:"primary",noMargin:!0,size:"md",weight:"bolder"},"REMOVING OWNER \u2193")),p.a.createElement(B.a,null),p.a.createElement(P.a,{className:c.selectedOwner},p.a.createElement(A.a,{align:"center",xs:12},p.a.createElement(s.EthHashInfo,{hash:r.address,name:r.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(F.c)(r.address)}))),p.a.createElement(B.a,null)))),p.a.createElement(B.a,null),p.a.createElement(q.a,{txParameters:e,onEdit:o,compact:!1,isTransactionCreation:ne,isTransactionExecution:ae,isOffChainSignature:re}),te===V.a.LOADING?null:p.a.createElement(R.a,{className:c.gasCostsContainer},p.a.createElement(U.a,{gasCostFormatted:ee,isExecution:ae,isCreation:ne,isOffChainSignature:re,txEstimationExecutionStatus:te})),p.a.createElement(z.b.Footer,{withoutBorder:!0},p.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:t,text:"Back"},confirmButtonProps:{onClick:function(){return n(e)},status:ie,text:te===V.a.LOADING?"Estimating":void 0,type:"submit",testId:"remove-owner-review-btn"}})))}))},sa=Object(d.a)(Object(j.a)({heading:{padding:"".concat(w.sm," ").concat(w.lg),justifyContent:"flex-start",boxSizing:"border-box",height:"74px"},manage:{fontSize:w.lg},annotation:{lineHeight:"normal",color:w.secondaryText,marginRight:"auto",marginLeft:"20px"},closeIcon:{height:"35px",width:"35px"},headingText:{fontSize:w.md},formContainer:{padding:"".concat(w.md," ").concat(w.lg),minHeight:"340px"},ownersText:{marginLeft:w.sm},inputRow:{position:"relative"},errorText:{position:"absolute",bottom:"-25px"}})),ma=function(e){var t,a=e.onClickBack,n=e.onClose,r=e.onSubmit,o=e.initialValues,i=sa(),c=Object(h.f)(_.l),l=null!==(t=null===c||void 0===c?void 0:c.length)&&void 0!==t?t:0,s=Object(h.f)(_.q),m=s>1&&s===l?s-1:s;return p.a.createElement(p.a.Fragment,null,p.a.createElement(P.a,{align:"center",className:i.heading,grow:!0},p.a.createElement(L.a,{className:i.manage,noMargin:!0,weight:"bolder"},"Remove owner"),p.a.createElement(L.a,{className:i.annotation},"2 of 3"),p.a.createElement(k.a,{disableRipple:!0,onClick:n},p.a.createElement(G.a,{className:i.closeIcon}))),p.a.createElement(B.a,null),p.a.createElement(De.a,{initialValues:{threshold:o.threshold||m.toString()},onSubmit:function(e){r(e)}},(function(){var e=l>1?l-1:1;return p.a.createElement(p.a.Fragment,null,p.a.createElement(R.a,{className:i.formContainer},p.a.createElement(P.a,null,p.a.createElement(L.a,{className:i.headingText,weight:"bolder"},"Set the required owner confirmations:")),p.a.createElement(P.a,null,p.a.createElement(L.a,{weight:"bolder"},"Any transaction requires the confirmation of:")),p.a.createElement(P.a,{align:"center",className:i.inputRow,margin:"xl"},p.a.createElement(A.a,{xs:2},p.a.createElement(Tt.a,{"data-testid":"threshold-select-input",name:"threshold",render:function(t){return p.a.createElement(p.a.Fragment,null,p.a.createElement(Xt.a,Object.assign({},t,{disableError:!0}),Object(Wt.a)(Array(Number(e))).map((function(e,t){return p.a.createElement(Ut.a,{key:t,value:"".concat(t+1)},t+1)}))),t.meta.error&&t.meta.touched&&p.a.createElement(L.a,{className:i.errorText,color:"error",noMargin:!0},t.meta.error))},validate:Object(It.c)(It.p,It.n,Object(It.h)(1),Object(It.e)(e))})),p.a.createElement(A.a,{xs:10},p.a.createElement(L.a,{className:i.ownersText,color:"primary",noMargin:!0,size:"lg"},"out of ",l?l-1:0," owner(s)")))),p.a.createElement(z.b.Footer,null,p.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:a,text:"Back"},confirmButtonProps:{testId:"remove-owner-threshold-next-btn",text:"Review"}})))})))},ua=function(){var e=Object(T.a)(N.a.mark((function e(t,a,n,r,o,i){var c,l,s,m,u;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(jt.f)(a),e.next=3,c.methods.getOwners().call();case 3:l=e.sent,s=l.findIndex((function(e){return e.toLowerCase()===n.toLowerCase()})),m=0===s?jt.d:l[s-1],u=c.methods.removeOwner(m,n,t.threshold).encodeABI(),o(Object(D.b)({safeAddress:a,to:a,valueInWei:"0",txData:u,txNonce:i.safeNonce,safeTxGas:i.safeTxGas?Number(i.safeTxGas):void 0,ethParameters:i,notifiedTransaction:H.c.SETTINGS_CHANGE_TX}));case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,r,o,i){return e.apply(this,arguments)}}(),da=function(e){var t=e.isOpen,a=e.onClose,n=e.owner,r=Object(g.useState)("checkOwner"),o=Object(l.a)(r,2),i=o[0],s=o[1],m=Object(g.useState)(Object(c.a)(Object(c.a)({},n),{},{threshold:""})),u=Object(l.a)(m,2),d=u[0],f=u[1],b=Object(h.e)(),E=Object(h.f)(_.n);Object(g.useEffect)((function(){return function(){s("checkOwner")}}),[t]);var O=function(){"reviewRemoveOwner"===i?s("selectThreshold"):"selectThreshold"===i&&s("checkOwner")};return p.a.createElement(z.c,{description:"Remove owner from Safe",handleClose:a,open:t,paperClassName:"bigger-modal-window",title:"Remove owner from Safe"},p.a.createElement(p.a.Fragment,null,"checkOwner"===i&&p.a.createElement(oa,{onClose:a,onSubmit:function(){s("selectThreshold")},owner:n}),"selectThreshold"===i&&p.a.createElement(ma,{onClickBack:O,initialValues:{threshold:d.threshold},onClose:a,onSubmit:function(e){var t=Object(c.a)(Object(c.a)({},d),{},{threshold:e.threshold});f(t),s("reviewRemoveOwner")}}),"reviewRemoveOwner"===i&&p.a.createElement(la,{onClickBack:O,onClose:a,onSubmit:function(e){a(),ua(d,E,n.address,n.name,b,e)},owner:n,threshold:Number(d.threshold)})))},fa=Object(d.a)(Object(j.a)({heading:{padding:"".concat(w.sm," ").concat(w.lg),justifyContent:"flex-start",boxSizing:"border-box",height:"74px"},annotation:{color:w.secondaryText,marginRight:"auto",marginLeft:"20px",lineHeight:"normal"},manage:{fontSize:w.lg},closeIcon:{height:"35px",width:"35px"},formContainer:{padding:"".concat(w.md," ").concat(w.lg),minHeight:"340px"},owner:{alignItems:"center"},address:{marginRight:w.sm}})),ba="replace-owner-name-input",ga="replace-owner-address-testid",pa="replace-owner-next-btn",ha={setOwnerAddress:function(e,t,a){a.changeValue(t,"ownerAddress",(function(){return e[0]}))},setOwnerName:function(e,t,a){a.changeValue(t,"ownerName",(function(){return e[0]}))}},Ea=Object(F.h)(),Oa=function(e){var t=e.onClose,a=e.onSubmit,n=e.owner,r=e.initialValues,o=fa(),i=Object(h.f)(We.b),c=Object(h.f)(_.l),l=Object(It.q)(c),m=Object(h.f)(_.n),u=Object(It.b)(m);return p.a.createElement(p.a.Fragment,null,p.a.createElement(P.a,{align:"center",className:o.heading,grow:!0},p.a.createElement(L.a,{className:o.manage,noMargin:!0,weight:"bolder"},"Replace owner"),p.a.createElement(L.a,{className:o.annotation},"1 of 2"),p.a.createElement(k.a,{disableRipple:!0,onClick:t},p.a.createElement(G.a,{className:o.closeIcon}))),p.a.createElement(B.a,null),p.a.createElement(De.a,{formMutators:ha,onSubmit:function(e){a(e)},initialValues:{ownerName:null===r||void 0===r?void 0:r.name,ownerAddress:null===r||void 0===r?void 0:r.address}},(function(){var e=arguments.length<=3?void 0:arguments[3],a=function(t,a){var n=t;n.startsWith("ethereum:")&&(n=n.replace("ethereum:","")),e.setOwnerAddress(n),a()};return p.a.createElement(p.a.Fragment,null,p.a.createElement(R.a,{className:o.formContainer},p.a.createElement(P.a,null,p.a.createElement(L.a,null,"Review the owner you want to replace from the active Safe. Then specify the new owner you want to replace it with:")),p.a.createElement(P.a,null,p.a.createElement(L.a,null,"Current owner")),p.a.createElement(P.a,{className:o.owner},p.a.createElement(A.a,{align:"center",xs:12},p.a.createElement(s.EthHashInfo,{hash:n.address,name:n.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(F.c)(n.address)}))),p.a.createElement(P.a,null,p.a.createElement(L.a,null,"New owner")),p.a.createElement(P.a,{margin:"md"},p.a.createElement(A.a,{xs:8},p.a.createElement(Tt.a,{component:kt.a,name:"ownerName",placeholder:"Owner name*",testId:ba,text:"Owner name*",type:"text",validate:Object(It.c)(It.p,It.r)}),p.a.createElement(St.a,{name:"ownerAddress"},function(){var t=Object(T.a)(N.a.mark((function t(a){var n,r,o;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Gt.i.utils.isAddress(a)&&(o=null===i||void 0===i||null===(n=i[Ea])||void 0===n||null===(r=n[a])||void 0===r?void 0:r.name)&&e.setOwnerName(o);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))),p.a.createElement(P.a,{margin:"md"},p.a.createElement(A.a,{xs:8},p.a.createElement(Nt.a,{fieldMutator:e.setOwnerAddress,name:"ownerAddress",placeholder:"Owner address*",testId:ga,text:"Owner address*",validators:[l,u]})),p.a.createElement(A.a,{center:"xs",className:o,middle:"xs",xs:1},p.a.createElement(Ve.a,{handleScan:a})))),p.a.createElement(z.b.Footer,null,p.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:t},confirmButtonProps:{testId:pa,text:"Next"}})))})))},xa=Object(d.a)(Object(j.a)({root:{height:"372px"},heading:{padding:"".concat(w.sm," ").concat(w.lg),justifyContent:"flex-start",boxSizing:"border-box",height:"74px"},annotation:{color:w.secondaryText,marginRight:"auto",marginLeft:"20px",lineHeight:"normal"},manage:{fontSize:w.lg},closeIcon:{height:"35px",width:"35px"},info:{backgroundColor:w.background,padding:w.sm,justifyContent:"center",textAlign:"center",flexDirection:"column"},details:{padding:w.lg,borderRight:"solid 1px ".concat(w.border),height:"100%"},owners:{overflow:"auto",height:"100%"},ownersTitle:{padding:w.lg},owner:{padding:w.sm,alignItems:"center"},name:{textOverflow:"ellipsis",overflow:"hidden"},selectedOwnerRemoved:{padding:w.sm,alignItems:"center",backgroundColor:"#ffe6ea"},selectedOwnerAdded:{padding:w.sm,alignItems:"center",backgroundColor:"#f7f5f5"},gasCostsContainer:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",width:"100%",backgroundColor:w.background}})),va=Object(F.h)(),ja=function(e){var t=e.onClickBack,a=e.onClose,n=e.onSubmit,r=e.owner,o=e.newOwner,i=xa(),c=Object(g.useState)(""),m=Object(l.a)(c,2),u=m[0],d=m[1],f=Object(h.f)(_.n),b=Object(Mt.a)(f),E=Object(h.f)((function(e){return Object(_.m)(e,va)})),O=Object(h.f)(_.q)||1,x=Object(g.useState)(0),v=Object(l.a)(x,2),j=v[0],w=v[1],C=Object(g.useState)(),S=Object(l.a)(C,2),y=S[0],I=S[1],M=Object(g.useState)(),D=Object(l.a)(M,2),H=D[0],Y=D[1],Q=Object(V.b)({txData:u,txRecipient:f,safeTxGas:j,manualGasPrice:y,manualGasLimit:H}),K=Q.gasLimit,$=Q.gasEstimation,J=Q.gasPriceFormatted,Z=Q.gasCostFormatted,ee=Q.txEstimationExecutionStatus,te=Q.isExecution,ae=Q.isCreation,ne=Q.isOffChainSignature,re=Object(W.a)(ee),oe=Object(l.a)(re,1)[0];Object(g.useEffect)((function(){var e=!0;return function(){var t=Object(T.a)(N.a.mark((function t(){var a,n,i,c,l;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(jt.f)(f),t.next=3,a.methods.getOwners().call();case 3:n=t.sent,i=n.findIndex((function(e){return Object(Me.f)(e,r.address)})),c=0===i?jt.d:n[i-1],l=a.methods.swapOwner(c,r.address,o.address).encodeABI(),e&&d(l);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[r.address,f,o.address]);return p.a.createElement(X.a,{isOffChainSignature:ne,isExecution:te,ethGasLimit:K,ethGasPrice:J,safeTxGas:$.toString(),closeEditModalCallback:function(e){var t=Number(J),a=Number(e.ethGasPrice),n=Number($),r=Number(e.safeTxGas);a&&t!==a&&I(e.ethGasPrice),e.ethGasLimit&&K!==e.ethGasLimit&&Y(e.ethGasLimit),r&&n!==r&&w(r)}},(function(e,c){return p.a.createElement(p.a.Fragment,null,p.a.createElement(P.a,{align:"center",className:i.heading,grow:!0},p.a.createElement(L.a,{className:i.manage,noMargin:!0,weight:"bolder"},"Replace owner"),p.a.createElement(L.a,{className:i.annotation},"2 of 2"),p.a.createElement(k.a,{disableRipple:!0,onClick:a},p.a.createElement(G.a,{className:i.closeIcon}))),p.a.createElement(B.a,null),p.a.createElement(R.a,null,p.a.createElement(P.a,{className:i.root},p.a.createElement(A.a,{layout:"column",xs:4},p.a.createElement(R.a,{className:i.details},p.a.createElement(R.a,{margin:"lg"},p.a.createElement(L.a,{color:"primary",noMargin:!0,size:"lg"},"Details")),p.a.createElement(R.a,{margin:"lg"},p.a.createElement(L.a,{color:"disabled",noMargin:!0,size:"sm"},"Safe name"),p.a.createElement(L.a,{className:i.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder"},b)),p.a.createElement(R.a,{margin:"lg"},p.a.createElement(L.a,{color:"disabled",noMargin:!0,size:"sm"},"Any transaction requires the confirmation of:"),p.a.createElement(L.a,{className:i.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder"},"".concat(O," out of ").concat((null===E||void 0===E?void 0:E.length)||0," owner(s)"))))),p.a.createElement(A.a,{className:i.owners,layout:"column",xs:8},p.a.createElement(P.a,{className:i.ownersTitle},p.a.createElement(L.a,{color:"primary",noMargin:!0,size:"lg"},"".concat((null===E||void 0===E?void 0:E.length)||0," Safe owner(s)"))),p.a.createElement(B.a,null),null===E||void 0===E?void 0:E.map((function(e){return!Object(Me.f)(e.address,r.address)&&p.a.createElement(p.a.Fragment,{key:e.address},p.a.createElement(P.a,{className:i.owner},p.a.createElement(A.a,{align:"center",xs:12},p.a.createElement(s.EthHashInfo,{hash:e.address,name:e.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(F.c)(e.address)}))),p.a.createElement(B.a,null))})),p.a.createElement(P.a,{align:"center",className:i.info},p.a.createElement(L.a,{color:"primary",noMargin:!0,size:"md",weight:"bolder"},"REMOVING OWNER \u2193")),p.a.createElement(B.a,null),p.a.createElement(P.a,{className:i.selectedOwnerRemoved},p.a.createElement(A.a,{align:"center",xs:12},p.a.createElement(s.EthHashInfo,{hash:r.address,name:r.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(F.c)(r.address)}))),p.a.createElement(P.a,{align:"center",className:i.info},p.a.createElement(L.a,{color:"primary",noMargin:!0,size:"md",weight:"bolder"},"ADDING NEW OWNER \u2193")),p.a.createElement(B.a,null),p.a.createElement(P.a,{className:i.selectedOwnerAdded},p.a.createElement(A.a,{align:"center",xs:12},p.a.createElement(s.EthHashInfo,{hash:o.address,name:o.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(F.c)(o.address)}))),p.a.createElement(B.a,null)))),p.a.createElement(B.a,null),p.a.createElement(q.a,{txParameters:e,onEdit:c,compact:!1,isTransactionCreation:ae,isTransactionExecution:te,isOffChainSignature:ne}),p.a.createElement(R.a,{className:i.gasCostsContainer},p.a.createElement(U.a,{gasCostFormatted:Z,isExecution:te,isCreation:ae,isOffChainSignature:ne,txEstimationExecutionStatus:ee})),p.a.createElement(z.b.Footer,{withoutBorder:!0},p.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:t,text:"Back"},confirmButtonProps:{onClick:function(){return n(e)},status:oe,text:ee===V.a.LOADING?"Estimating":void 0,type:"submit",testId:"replace-owner-submit-btn"}})))}))},wa=a(502),Ca=function(){var e=Object(T.a)(N.a.mark((function e(t,a,n,r,o){var i,c,l,s,m;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(jt.f)(a),e.next=3,i.methods.getOwners().call();case 3:return c=e.sent,l=c.findIndex((function(e){return Object(Me.f)(e,n)})),s=0===l?jt.d:c[l-1],m=i.methods.swapOwner(s,n,t.address).encodeABI(),e.next=9,r(Object(D.b)({safeAddress:a,to:a,valueInWei:"0",txData:m,txNonce:o.safeNonce,safeTxGas:o.safeTxGas?Number(o.safeTxGas):void 0,ethParameters:o,notifiedTransaction:H.c.SETTINGS_CHANGE_TX}));case 9:e.sent&&r(Object(vt.b)(Object(Ct.b)(t)));case 11:case"end":return e.stop()}}),e)})));return function(t,a,n,r,o){return e.apply(this,arguments)}}(),Sa=function(e){var t=e.isOpen,a=e.onClose,n=e.owner,r=Object(g.useState)("checkOwner"),o=Object(l.a)(r,2),i=o[0],c=o[1],s=Object(g.useState)({address:"",name:""}),m=Object(l.a)(s,2),u=m[0],d=m[1],f=Object(h.e)(),b=Object(h.f)(_.n);Object(g.useEffect)((function(){return function(){c("checkOwner"),d({address:"",name:""})}}),[t]);var E=function(){var e=Object(T.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),e.prev=1,e.next=4,Ca(u,b,n.address,f,t);case 4:f(Object(vt.b)(Object(Ct.b)(u))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Error while removing an owner",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return p.a.createElement(z.c,{description:"Replace owner from Safe",handleClose:a,open:t,paperClassName:"bigger-modal-window",title:"Replace owner from Safe"},p.a.createElement(p.a.Fragment,null,"checkOwner"===i&&p.a.createElement(Oa,{onClose:a,onSubmit:function(e){var t=e.ownerAddress,a=e.ownerName;if(Object(wa.a)(t)){var n=Object(wt.a)(t);d({address:n,name:a}),c("reviewReplaceOwner")}},initialValues:u,owner:n}),"reviewReplaceOwner"===i&&p.a.createElement(ja,{onClickBack:function(){return c("checkOwner")},onClose:a,onSubmit:E,owner:n,newOwner:u})))},ya=a.p+"static/media/rename-owner.ef6f1a0a.svg",Na=a.p+"static/media/replace-owner.9b722463.svg",Ta="name",ka="address",Ia=Object(d.a)(Object(j.a)({formContainer:{minHeight:"420px"},title:{padding:w.lg,paddingBottom:0},annotation:{paddingLeft:w.lg},hide:{"&:hover":{backgroundColor:"#f7f5f5"},"&:hover $actions":{visibility:"initial"}},actions:{justifyContent:"flex-end",visibility:"hidden",minWidth:"100px"},noBorderBottom:{"& > td":{borderBottom:"none"}},editOwnerIcon:{cursor:"pointer"},replaceOwnerIcon:{marginLeft:w.lg,cursor:"pointer"},controlsRow:{backgroundColor:"white",padding:w.lg,borderRadius:w.sm},removeOwnerIcon:{marginLeft:w.lg,cursor:"pointer"}})),Ga=a(1413),Ra=a(139),Aa=a(1409),Ba=function(e){var t=e.granted,a=e.owners,n=Object(te.d)().trackEvent,r=Ia(),o=Object(g.useState)(),m=Object(l.a)(o,2),u=m[0],d=m[1],f=Object(g.useState)({showAddOwner:!1,showRemoveOwner:!1,showReplaceOwner:!1,showEditOwner:!1}),h=Object(l.a)(f,2),E=h[0],O=h[1],v=function(e,t){return function(){O((function(t){return Object(c.a)(Object(c.a)({},t),{},Object(i.a)({},"show".concat(e),!t["show".concat(e)]))})),t&&d(t)}},j=function(e){return function(){O((function(t){return Object(c.a)(Object(c.a)({},t),{},Object(i.a)({},"show".concat(e),!Boolean(t["show".concat(e)])))})),d(void 0)}};Object(g.useEffect)((function(){n({category:te.a,action:"Settings",label:"Owners"})}),[n]);var w=function(){var e={id:Ta,order:!1,formatTypeSort:function(e){return e.toLowerCase()},disablePadding:!1,label:"Name",width:150,custom:!1,align:"left"},t={id:ka,order:!1,disablePadding:!1,label:"Address",custom:!1,align:"left"},a={id:"actions",order:!1,disablePadding:!1,label:"",custom:!0};return Object(x.a)([e,t,a])}(),C=w.filter((function(e){return!e.custom})),y=function(e){return e.map((function(e){var t;return t={},Object(i.a)(t,Ta,e.name),Object(i.a)(t,ka,e.address),t}))}(a);return p.a.createElement(p.a.Fragment,null,p.a.createElement(R.a,{className:r.formContainer},p.a.createElement(Aa.a,{className:r.title,tag:"h2"},"Manage Safe Owners"),p.a.createElement(L.a,{className:r.annotation},"Add, remove and replace owners or rename existing owners. Owner names are only stored locally and never shared with Gnosis or any third parties."),p.a.createElement(S.a,null,p.a.createElement(K.a,{columns:w,data:y,defaultFixed:!0,defaultOrderBy:ka,disablePagination:!0,label:"Owners",noBorder:!0,size:y.length},(function(e){return e.map((function(a,n){return p.a.createElement(J.a,{className:b()(r.hide,n>=3&&n===e.size-1&&r.noBorderBottom),"data-testid":"owners-row",key:n},C.map((function(e){return p.a.createElement($.a,{align:e.align,component:"td",key:e.id,style:Object(Ga.a)(e.width)},e.id===ka?p.a.createElement(R.a,{justify:"left"},p.a.createElement(s.EthHashInfo,{hash:a[e.id],showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(F.c)(a[e.id])})):a[e.id])})),p.a.createElement($.a,{component:"td"},p.a.createElement(P.a,{align:"end",className:r.actions},p.a.createElement(mt.a,{alt:"Edit owner",className:r.editOwnerIcon,onClick:v("EditOwner",a),src:ya,testId:"rename-owner-btn"}),t&&p.a.createElement(p.a.Fragment,null,p.a.createElement(mt.a,{alt:"Replace owner",className:r.replaceOwnerIcon,onClick:v("ReplaceOwner",a),src:Na,testId:"replace-owner-btn"}),y.length>1&&p.a.createElement(mt.a,{alt:"Remove owner",className:r.removeOwnerIcon,onClick:v("RemoveOwner",a),src:xt,testId:"remove-owner-btn"})))))}))})))),t&&p.a.createElement(p.a.Fragment,null,p.a.createElement(B.a,null),p.a.createElement(P.a,{align:"end",className:r.controlsRow,grow:!0},p.a.createElement(A.a,{end:"xs"},p.a.createElement(Ra.a,{color:"primary",onClick:v("AddOwner"),size:"small",testId:"add-owner-btn",variant:"contained"},"Add new owner")))),p.a.createElement($t,{isOpen:E.showAddOwner,onClose:j("AddOwner")}),u&&p.a.createElement(p.a.Fragment,null,p.a.createElement(da,{isOpen:E.showRemoveOwner,onClose:j("RemoveOwner"),owner:u}),p.a.createElement(Sa,{isOpen:E.showReplaceOwner,onClose:j("ReplaceOwner"),owner:u}),p.a.createElement(na,{isOpen:E.showEditOwner,onClose:j("EditOwner"),owner:u})))},La=Object(d.a)(Object(j.a)({heading:{boxSizing:"border-box",justifyContent:"space-between",minHeight:"74px",padding:"".concat(w.sm," ").concat(w.lg)},container:{minHeight:"369px",padding:"".concat(w.sm)},manage:{fontSize:w.lg},close:{height:"35px",width:"35px"},owner:{padding:w.md,alignItems:"center"},description:{padding:w.md}})),Pa=a(55),za=a(131),Fa=a(337),Ma=function(e){return function(){var t=Object(T.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(za.d)();case 2:(n=t.sent)&&delete n[e],a(Object(Fa.b)(e));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Da=Object(F.h)(),_a=function(e){var t,a=e.isOpen,n=e.onClose,r=La(),o=Object(h.f)(_.n),i=null===(t=Object(h.f)(We.b)[Da])||void 0===t?void 0:t[o],c=null===i||void 0===i?void 0:i.name,l=Object(h.f)(_.b),m=Object(h.e)(),u=function(){var e=Object(T.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(Ma(o));case 2:if(!Object(Me.f)(o,l)){e.next=5;break}return e.next=5,Object(za.e)("");case 5:n(),t=window.location.href.split("/#/")[0],window.location.href="".concat(t,"/#/").concat(Pa.e);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return p.a.createElement(z.c,{description:"Remove the selected Safe",handleClose:n,open:a,paperClassName:"modal",title:"Remove Safe"},p.a.createElement(P.a,{align:"center",className:r.heading,grow:!0},p.a.createElement(L.a,{className:r.manage,noMargin:!0,weight:"bolder"},"Remove Safe"),p.a.createElement(k.a,{disableRipple:!0,onClick:n},p.a.createElement(G.a,{className:r.close}))),p.a.createElement(B.a,null),p.a.createElement(R.a,{className:r.container},p.a.createElement(P.a,{className:r.owner},p.a.createElement(A.a,{align:"center",xs:12},p.a.createElement(s.EthHashInfo,{hash:o,name:c,showAvatar:!0,showCopyBtn:!0,explorerUrl:Object(F.c)(o)}))),p.a.createElement(P.a,{className:r.description},p.a.createElement(L.a,{noMargin:!0,size:"lg"},"Removing a Safe only removes it from your interface. ",p.a.createElement("b",null,"It does not delete the Safe"),". You can always add it back using the Safe's address."))),p.a.createElement(z.b.Footer,null,p.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:n},confirmButtonProps:{onClick:u,color:"error",text:"Remove"}})))},Ha=Object(j.a)({formContainer:{padding:w.lg},root:{display:"flex",maxWidth:"460px"},saveBtn:{fontWeight:w.boldFont,marginRight:w.sm},controlsRow:{borderTop:"2px solid ".concat(w.border),bottom:0,boxSizing:"border-box",padding:w.lg,position:"absolute",width:"100%"}}),Va=Object(j.a)({heading:{padding:"".concat(w.sm," ").concat(w.lg),justifyContent:"space-between",boxSizing:"border-box",maxHeight:"75px"},annotation:{letterSpacing:"-1px",color:w.secondaryText,marginRight:"auto",marginLeft:"20px"},headingText:{fontSize:"20px"},close:{height:"35px",width:"35px"},modalContent:{padding:"".concat(w.md," ").concat(w.lg)},ownersText:{marginLeft:w.sm},buttonRow:{height:"84px",justifyContent:"center"},inputRow:{position:"relative"},errorText:{position:"absolute",bottom:"-25px"},gasCostsContainer:{backgroundColor:w.background,padding:"0 ".concat(w.lg)}}),Wa=a(656),Ua=a(69),qa=Object(d.a)(Va),Xa=function(e){var t=e.onClose,a=e.safeAddress,n=qa(),r=Object(h.e)(),o=Object(g.useState)(Ua.a),i=Object(l.a)(o,2),c=i[0],s=i[1],m=Object(V.b)({txData:c,txRecipient:a}),u=m.gasCostFormatted,d=m.txEstimationExecutionStatus,f=m.isExecution,b=m.isCreation,E=m.isOffChainSignature,O=m.gasPriceFormatted,x=m.gasLimit,v=m.gasEstimation,j=Object(W.a)(d),w=Object(l.a)(j,1)[0];Object(g.useEffect)((function(){(function(){var e=Object(T.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wa.b)(a);case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]);var C="Update Safe";return z.a.LOADING===w&&(C=d===V.a.LOADING?"Estimating":"Updating"),p.a.createElement(X.a,{isOffChainSignature:E,isExecution:f,ethGasLimit:x,ethGasPrice:O,safeTxGas:v.toString()},(function(e,o){return p.a.createElement(p.a.Fragment,null,p.a.createElement(P.a,{align:"center",className:n.heading,grow:!0},p.a.createElement(L.a,{className:n.headingText,noMargin:!0,weight:"bolder"},"Update to new Safe version"),p.a.createElement(k.a,{disableRipple:!0,onClick:t},p.a.createElement(G.a,{className:n.close}))),p.a.createElement(B.a,null),p.a.createElement(De.a,{onSubmit:function(){return function(e){r(Object(D.b)({safeAddress:a,to:jt.b,valueInWei:"0",txData:c,txNonce:e.safeNonce,safeTxGas:e.safeTxGas?Number(e.safeTxGas):void 0,ethParameters:e,notifiedTransaction:"STANDARD_TX",operation:H.b})),t()}(e)}},(function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement(R.a,{className:n.modalContent},p.a.createElement(P.a,null,p.a.createElement(L.a,null,"Update now to take advantage of new features and the highest security standards available."),p.a.createElement(R.a,null,"This update includes:",p.a.createElement("ul",null,p.a.createElement("li",null,"Compatibility with new asset types (ERC-721 / ERC-1155)"),p.a.createElement("li",null,"Improved interoperability with modules"),p.a.createElement("li",null,"Minor security improvements"))),p.a.createElement(L.a,null,"You will need to confirm this update just like any other transaction. This means other owners will have to confirm the update in case more than one confirmation is required for this Safe.")),p.a.createElement(q.a,{txParameters:e,onEdit:o,compact:!1,isTransactionCreation:b,isTransactionExecution:f,isOffChainSignature:E})),d===V.a.LOADING?null:p.a.createElement(R.a,{className:n.gasCostsContainer},p.a.createElement(U.a,{gasCostFormatted:u,isExecution:f,isCreation:b,isOffChainSignature:E,txEstimationExecutionStatus:d})),p.a.createElement(P.a,{align:"center",className:n.buttonRow},p.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:t,text:"Back"},confirmButtonProps:{status:w,text:C}})))})))}))},Ya=a(174),Qa=a(53),Ka=a.n(Qa),$a=a(123),Ja=a.n($a);!function(e){e.GNOSIS="Gnosis",e.CIRCLES="Circles"}(Re||(Re={}));var Za,en,tn,an=function(e){var t=e.version.toLowerCase().includes(Re.CIRCLES.toLowerCase()),a=e.version.indexOf("-");return{address:e.address,version:t?e.version.substring(0,a):e.version,deployer:t?Re.CIRCLES:Re.GNOSIS,deployerRepoUrl:t?"https://github.com/CirclesUBI/safe-contracts/releases":"https://github.com/gnosis/safe-contracts/releases"}},nn=Ja()(Object(T.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(Object(F.p)(),"/about/master-copies/"),e.prev=1,e.next=4,Ka.a.get(t);case 4:return a=e.sent,e.abrupt("return",a.data.map(an));case 8:e.prev=8,e.t0=e.catch(1),console.error("Fetching data from master-copies errored",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))),rn=Object(d.a)(Ha),on=Object(O.default)(s.Link)(Za||(Za=Object(E.a)(["\n  margin: 12px 0 0 0;\n"]))),cn=Object(O.default)(s.Icon)(en||(en=Object(E.a)(["\n  position: relative;\n  top: 3px;\n  left: 6px;\n"]))),ln=function(){var e=rn(),t=Object(h.f)(Q.b),a=Object(h.f)(_.c),n=Object(h.e)(),r=Object(h.f)(_.n),o=Object(Mt.a)(r),i=Object(h.f)(_.j),c=Object(h.f)(_.e),m=Object(te.d)().trackEvent,u=Object(g.useState)(!1),d=Object(l.a)(u,2),f=d[0],b=d[1],E=Object(g.useState)(),O=Object(l.a)(E,2),x=O[0],v=O[1],j=function(){b((function(e){return!e}))},w=function(){b(!0)};return Object(g.useEffect)((function(){m({category:te.a,action:"Settings",label:"Details"})}),[m]),Object(g.useEffect)((function(){r&&function(){var e=Object(T.a)(N.a.mark((function e(){var t,a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nn();case 2:return t=e.sent,e.next=5,Object(jt.g)(r);case 5:a=e.sent,n=null===t||void 0===t?void 0:t.find((function(e){return Object(Me.f)(e.address,a)})),v(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[r]),p.a.createElement(De.a,{onSubmit:function(e){n(Object(vt.b)(Object(Ct.b)({address:r,name:e.safeName}))),n(Object(Ya.b)({address:r,loadedViaUrl:!1}));var t=Object(Jt.c)(H.c.SAFE_NAME_CHANGE_TX);n(Object(Zt.b)(Object(Jt.b)(t.afterExecution.noMoreConfirmationsNeeded)))}},(function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement(R.a,{className:e.formContainer},p.a.createElement(Aa.a,{tag:"h2"},"Contract Version"),p.a.createElement(P.a,{align:"end",grow:!0},p.a.createElement(on,{rel:"noreferrer noopener",target:"_blank",href:null===x||void 0===x?void 0:x.deployerRepoUrl},p.a.createElement(s.Text,{size:"xl",as:"span",color:"primary"},x?x.deployer===Re.GNOSIS?c:"".concat(c,"-").concat(x.deployer):"",x&&x.deployer===Re.GNOSIS&&i?" (there's a newer version: ".concat(a,")"):""),p.a.createElement(cn,{size:"sm",type:"externalLink",color:"primary"}))),i&&t?p.a.createElement(P.a,{align:"end",grow:!0},p.a.createElement(L.a,null,p.a.createElement(Ra.a,{className:e.saveBtn,color:"primary",onClick:w,size:"small",testId:"update-safe-name-btn",variant:"contained"},"Update Safe"))):null),p.a.createElement(R.a,{className:e.formContainer},p.a.createElement(Aa.a,{tag:"h2"},"Modify Safe name"),p.a.createElement(L.a,{size:"lg"},"You can change the name of this Safe. This name is only stored locally ",p.a.createElement("br",null),"and never shared with Gnosis or any third parties."),p.a.createElement(R.a,{className:e.root},p.a.createElement(Tt.a,{component:kt.a,defaultValue:o,name:"safeName",placeholder:"Safe name*",testId:"safe-name-input",text:"Safe name*",type:"text",validate:Object(It.c)(It.p,It.r)}))),p.a.createElement(P.a,{align:"end",className:e.controlsRow,grow:!0},p.a.createElement(A.a,{end:"xs"},p.a.createElement(Ra.a,{className:e.saveBtn,color:"primary",size:"small",testId:"change-safe-name-btn",type:"submit",variant:"contained"},"Save"))),p.a.createElement(z.c,{description:"Update Safe",handleClose:j,open:f,title:"Update Safe"},p.a.createElement(Xa,{onClose:j,safeAddress:r})))}))},sn=a(1354),mn=Object(d.a)(Object(j.a)({heading:{padding:"".concat(w.sm," ").concat(w.lg),justifyContent:"space-between",boxSizing:"border-box",height:"74px"},headingText:{fontSize:"20px"},close:{height:"35px",width:"35px"},modalContent:{padding:"".concat(w.md," ").concat(w.lg)},ownersText:{marginLeft:w.sm},inputRow:{position:"relative"},gasCostsContainer:{backgroundColor:w.background,padding:"".concat(w.sm," ").concat(w.lg)}})),un=function(e){var t=e.onClose,a=e.ownersCount,n=void 0===a?0:a,r=e.safeAddress,o=e.threshold,i=void 0===o?1:o,c=mn(),s=Object(h.e)(),m=Object(g.useState)(""),u=Object(l.a)(m,2),d=u[0],f=u[1],b=Object(g.useState)(0),E=Object(l.a)(b,2),O=E[0],x=E[1],v=Object(g.useState)(),j=Object(l.a)(v,2),w=j[0],C=j[1],S=Object(g.useState)(),y=Object(l.a)(S,2),N=y[0],T=y[1],I=Object(g.useState)(i),F=Object(l.a)(I,2),M=F[0],_=F[1],Y=Object(g.useState)(!0),Q=Object(l.a)(Y,2),K=Q[0],$=Q[1],J=Object(V.b)({txData:d,txRecipient:r,safeTxGas:O,manualGasPrice:w,manualGasLimit:N}),Z=J.gasCostFormatted,ee=J.txEstimationExecutionStatus,te=J.isCreation,ae=J.isExecution,ne=J.isOffChainSignature,re=J.gasLimit,oe=J.gasPriceFormatted,ie=J.gasEstimation,ce=Object(W.a)(ee),le=Object(l.a)(ce,1)[0];Object(g.useEffect)((function(){var e=!0;return function(){var t=Object(jt.f)(r).methods.changeThreshold(M).encodeABI();e&&f(t)}(),function(){e=!1}}),[r,M]);var se=function(e){var t=e.target,a=parseInt(t.value);$(a===M||a===i),_(a)},me=function(e){var a=e.txParameters;s(Object(D.b)({safeAddress:r,to:r,valueInWei:"0",txData:d,txNonce:a.safeNonce,safeTxGas:a.safeTxGas?Number(a.safeTxGas):void 0,ethParameters:a,notifiedTransaction:H.c.SETTINGS_CHANGE_TX})),t()};return p.a.createElement(X.a,{isOffChainSignature:ne,isExecution:ae,ethGasLimit:re,ethGasPrice:oe,safeTxGas:ie.toString(),closeEditModalCallback:function(e){var t=Number(oe),a=Number(e.ethGasPrice),n=Number(ie),r=Number(e.safeTxGas);a&&t!==a&&C(e.ethGasPrice),e.ethGasLimit&&re!==e.ethGasLimit&&T(e.ethGasLimit),r&&n!==r&&x(r)}},(function(e,a){return p.a.createElement(p.a.Fragment,null,p.a.createElement(P.a,{align:"center",className:c.heading,grow:!0},p.a.createElement(L.a,{className:c.headingText,noMargin:!0,weight:"bolder"},"Change required confirmations"),p.a.createElement(k.a,{disableRipple:!0,onClick:t},p.a.createElement(G.a,{className:c.close}))),p.a.createElement(B.a,null),p.a.createElement(De.a,{initialValues:{threshold:M.toString(),txParameters:e},onSubmit:me},(function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement(R.a,{className:c.modalContent},p.a.createElement(P.a,null,p.a.createElement(L.a,{weight:"bolder"},"Any transaction requires the confirmation of:")),p.a.createElement(P.a,{align:"center",className:c.inputRow,margin:"xl"},p.a.createElement(A.a,{xs:2},p.a.createElement(Tt.a,{"data-testid":"threshold-select-input",name:"threshold",onChange:se,render:function(e){return p.a.createElement(p.a.Fragment,null,p.a.createElement(Xt.a,Object.assign({},e,{disableError:!0}),Object(Wt.a)(Array(Number(n))).map((function(e,t){return p.a.createElement(Ut.a,{key:t,value:"".concat(t+1)},t+1)}))))},validate:Object(It.c)(It.p,It.n,Object(It.h)(1),Object(It.d)(i))})),p.a.createElement(A.a,{xs:10},p.a.createElement(L.a,{className:c.ownersText,color:"primary",noMargin:!0,size:"lg"},"out of ".concat(n," owner(s)")))),p.a.createElement(q.a,{txParameters:e,onEdit:a,isTransactionCreation:te,isTransactionExecution:ae,isOffChainSignature:ne})),ee!==V.a.LOADING&&p.a.createElement("div",{className:c.gasCostsContainer},p.a.createElement(U.a,{gasCostFormatted:Z,isExecution:ae,isCreation:te,isOffChainSignature:ne,txEstimationExecutionStatus:ee})),p.a.createElement(z.b.Footer,{withoutBorder:le!==z.a.LOADING},p.a.createElement(z.b.Footer.Buttons,{cancelButtonProps:{onClick:t},confirmButtonProps:{disabled:K,status:le,text:ee===V.a.LOADING?"Estimating":void 0}})))})))}))},dn=Object(j.a)({ownersText:{color:w.secondaryText,"& b":{color:w.fontColor}},container:{padding:w.lg},buttonRow:{padding:w.lg,position:"absolute",left:0,bottom:0,boxSizing:"border-box",width:"100%",justifyContent:"flex-end",borderTop:"2px solid ".concat(w.border)},modifyBtn:{height:w.xl,fontSize:w.smallFontSize}}),fn=Object(d.a)(dn),bn=function(){var e=fn(),t=Object(g.useState)(!1),a=Object(l.a)(t,2),n=a[0],r=a[1],o=Object(h.f)(_.q)||1,i=Object(h.f)(_.n),c=Object(h.f)(_.l),s=Object(h.f)(Q.b),m=function(){r((function(e){return!e}))},u=Object(te.d)().trackEvent;return Object(g.useEffect)((function(){u({category:te.a,action:"Settings",label:"Owners"})}),[u]),p.a.createElement(p.a.Fragment,null,p.a.createElement(R.a,{className:e.container},p.a.createElement(Aa.a,{tag:"h2"},"Required confirmations"),p.a.createElement(L.a,null,"Any transaction requires the confirmation of:"),p.a.createElement(L.a,{className:e.ownersText,size:"lg"},p.a.createElement(sn.a,null,o)," out of ",p.a.createElement(sn.a,null,(null===c||void 0===c?void 0:c.length)||0)," owners"),c&&c.length>1&&s&&p.a.createElement(P.a,{className:e.buttonRow},p.a.createElement(Ra.a,{className:e.modifyBtn,color:"primary",minWidth:120,onClick:m,variant:"contained"},"Change"))),p.a.createElement(z.c,{description:"Change Required Confirmations Form",handleClose:m,open:n,title:"Change Required Confirmations"},p.a.createElement(un,{onClose:m,ownersCount:null===c||void 0===c?void 0:c.length,safeAddress:i,threshold:o})))},gn=Object(j.a)({root:Object(i.a)({backgroundColor:"white",borderRadius:w.sm,boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)",display:"flex",flexDirection:"column",marginBottom:"54px",minHeight:"505px"},"@media (min-width: ".concat(w.screenSm,"px)"),{flexDirection:"row"}),settings:{letterSpacing:"-0.5px"},menuWrapper:Object(i.a)({display:"flex",flexDirection:"row",flexGrow:0,maxWidth:"100%"},"@media (min-width: ".concat(w.screenSm,"px)"),{flexDirection:"row",maxWidth:"unset"}),menu:Object(i.a)({borderBottom:"solid 2px ".concat(w.border),display:"flex",flexDirection:"row",flexGrow:1,height:"100%",width:"100%"},"@media (min-width: ".concat(w.screenSm,"px)"),{borderBottom:"none",borderRight:"solid 2px ".concat(w.border),flexDirection:"column",width:"250px"}),menuOption:(tn={alignItems:"center",borderRight:"solid 1px ".concat(w.border),boxSizing:"border-box",cursor:"pointer",flexGrow:1,flexShrink:1,fontSize:"13px",justifyContent:"center",lineHeight:"1.2",minWidth:"0",padding:"".concat(w.md," ").concat(w.sm),width:"100%"},Object(i.a)(tn,"@media (min-width: ".concat(w.screenSm,"px)"),{borderRight:"none",flexGrow:"0",fontSize:w.largeFontSize,justifyContent:"flex-start",padding:"".concat(w.md," 0 ").concat(w.md," ").concat(w.md)}),Object(i.a)(tn,"&:last-of-type",{borderRight:"none"}),Object(i.a)(tn,"&:first-child",{borderTopLeftRadius:w.sm}),Object(i.a)(tn,"& svg",Object(i.a)({display:"block",marginRight:w.xs,maxWidth:"16px"},"@media (min-width: ".concat(w.screenSm,"px)"),{marginRight:w.sm})),Object(i.a)(tn,"& .fill",{fill:w.fontColor}),tn),active:{backgroundColor:w.background,color:w.secondary,fontWeight:w.bolderFont,"& .fill":{fill:w.secondary}},contents:{width:"100%"},hairline:Object(i.a)({display:"none"},"@media (min-width: ".concat(w.screenSm,"px)"),{display:"block"}),container:{flexGrow:1,height:"100%",position:"relative"},message:{padding:"".concat(w.md," 0"),maxHeight:"54px",boxSizing:"border-box",justifyContent:"flex-end"},links:{textDecoration:"underline","&:hover":{cursor:"pointer"}},removeSafeBtn:{display:"flex",alignItems:"center",marginTop:"-1px"},removeSafeIcon:{marginLeft:w.sm,height:w.md,cursor:"pointer"},counter:{background:w.border,borderRadius:"3px",color:w.fontColor,lineHeight:"normal",margin:"-2px 0 -2px ".concat(w.sm),padding:w.xs,fontSize:"11px"}}),pn=a(496),hn=a(45),En=a(6),On=a(8),xn=a(12),vn=a(13),jn=function(e){Object(xn.a)(a,e);var t=Object(vn.a)(a);function a(){return Object(En.a)(this,a),t.apply(this,arguments)}return Object(On.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=Object(hn.a)(e,["children"]);return g.createElement("span",a,t)}}]),a}(g.PureComponent),wn="owner-settings-tab",Cn=Object(F.h)(),Sn={showRemoveSafe:!1,menuOptionIndex:1},yn=Object(d.a)(gn);t.default=function(){var e,t=yn(),a=Object(g.useState)(Sn),n=Object(l.a)(a,2),r=n[0],o=n[1],d=Object(h.f)((function(e){return Object(_.m)(e,Cn)})),f=Object(h.f)(_.j),p=Object(h.f)(Q.b),E=Object(h.f)(_.o),O=function(e){return function(){o((function(t){return Object(c.a)(Object(c.a)({},t),{},{menuOptionIndex:e})}))}},x=r.menuOptionIndex,v=r.showRemoveSafe;return d?g.createElement(g.Fragment,null,g.createElement(P.a,{className:t.message},!(null===E||void 0===E?void 0:E.loadedViaUrl)&&g.createElement(g.Fragment,null,g.createElement(pn.a,{className:t.removeSafeBtn,color:"error",onClick:(e="RemoveSafe",function(){o((function(t){return Object(c.a)(Object(c.a)({},t),{},Object(i.a)({},"show".concat(e),!0))}))}),size:"lg"},g.createElement(jn,{className:t.links},"Remove Safe"),g.createElement(mt.a,{alt:"Trash Icon",className:t.removeSafeIcon,src:xt})),g.createElement(_a,{isOpen:v,onClose:function(e){return function(){o((function(t){return Object(c.a)(Object(c.a)({},t),{},Object(i.a)({},"show".concat(e),!1))}))}}("RemoveSafe")}))),g.createElement(R.a,{className:t.root},g.createElement(A.a,{className:t.menuWrapper,layout:"column"},g.createElement(R.a,{className:t.menu},g.createElement(P.a,{className:b()(t.menuOption,1===x&&t.active),onClick:O(1)},g.createElement(u.a,{badgeContent:" ",color:"error",invisible:!f||!p,style:{paddingRight:"10px"},variant:"dot"},g.createElement(s.IconText,{iconSize:"sm",textSize:"xl",iconType:"info",text:"Safe Details",color:1===x?"primary":"secondary"}))),g.createElement(B.a,{className:t.hairline}),g.createElement(P.a,{className:b()(t.menuOption,2===x&&t.active),onClick:O(2),testId:wn},g.createElement(s.IconText,{iconSize:"sm",textSize:"xl",iconType:"owners",text:"Owners",color:2===x?"primary":"secondary"}),g.createElement(L.a,{className:t.counter,size:"xs"},d.length)),g.createElement(B.a,{className:t.hairline}),g.createElement(P.a,{className:b()(t.menuOption,3===x&&t.active),onClick:O(3)},g.createElement(s.IconText,{iconSize:"sm",textSize:"xl",iconType:"requiredConfirmations",text:"Policies",color:3===x?"primary":"secondary"})),g.createElement(B.a,{className:t.hairline}),g.createElement(P.a,{className:b()(t.menuOption,4===x&&t.active),onClick:O(4)},g.createElement(s.IconText,{iconSize:"sm",textSize:"xl",iconType:"fuelIndicator",text:"Spending limit",color:4===x?"primary":"secondary"})),g.createElement(B.a,{className:t.hairline}),g.createElement(P.a,{className:b()(t.menuOption,5===x&&t.active),onClick:O(5)},g.createElement(s.IconText,{iconSize:"sm",textSize:"xl",iconType:"settingsTool",text:"Advanced",color:5===x?"primary":"secondary"})),g.createElement(B.a,{className:t.hairline}))),g.createElement(A.a,{className:t.contents,layout:"column"},g.createElement(R.a,{className:t.container},1===x&&g.createElement(ln,null),2===x&&g.createElement(Ba,{granted:p,owners:d}),3===x&&g.createElement(bn,null),4===x&&g.createElement(Ot,null),5===x&&g.createElement(oe,null))))):g.createElement(m.a,null,g.createElement(s.Loader,{size:"md"}))}}}]);
//# sourceMappingURL=26.1081f948.chunk.js.map