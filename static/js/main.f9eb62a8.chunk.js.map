{"version":3,"sources":["logic/addressBook/utils/index.ts","components/layout/Block/index.tsx","theme/size.ts","components/layout/Hairline/index.tsx","utils/strings.ts","logic/addressBook/store/middleware/index.ts","logic/addressBook/store/reducer/index.ts","logic/currentSession/store/reducer/currentSession.ts","logic/safe/transactions/awaitingTransactions.ts","logic/safe/store/middleware/notificationsMiddleware.ts","logic/safe/store/middleware/safeStorage.ts","logic/addressBook/utils/v2-migration.ts","logic/currencyValues/store/middleware/currencyValuesStorageMiddleware.ts","store/index.ts","assets/icons/alert.svg","assets/icons/check.svg","assets/icons/error.svg","assets/icons/info.svg","components/AppLayout/Header/components/Provider.tsx","components/Spacer/index.tsx","components/AppLayout/Header/assets/gnosis-safe-multisig-logo.svg","components/AppLayout/Header/components/Layout.tsx","logic/hooks/useStateHandler.tsx","components/AppLayout/Header/assets/key.svg","components/AppLayout/Header/assets/triangle.svg","components/AppLayout/Header/components/KeyRing.tsx","components/AppLayout/Header/components/ProviderDetails/ConnectDetails.tsx","components/AppLayout/Header/components/CircleDot.tsx","components/AppLayout/Header/assets/wallet.svg","components/AppLayout/Header/components/ProviderDetails/UserDetails.tsx","components/AppLayout/Header/components/NetworkLabel.tsx","components/AppLayout/Header/components/WalletIcon/icons/icon-wallet-connect.svg","components/AppLayout/Header/components/WalletIcon/icons/icon-trezor.svg","components/AppLayout/Header/components/WalletIcon/icons/icon-ledger.svg","components/AppLayout/Header/components/WalletIcon/icons/icon-lattice.svg","components/AppLayout/Header/components/WalletIcon/icons/icon-fortmatic.svg","components/AppLayout/Header/components/WalletIcon/icons/icon-portis.svg","components/AppLayout/Header/components/WalletIcon/icons/icon-torus.svg","components/AppLayout/Header/components/WalletIcon/icons/icon-coinbase.svg","components/AppLayout/Header/components/WalletIcon/icons/index.ts","components/AppLayout/Header/components/WalletIcon/icons/icon-metamask.png","components/AppLayout/Header/components/WalletIcon/icons/icon-authereum.png","components/AppLayout/Header/components/WalletIcon/icons/icon-opera.png","components/AppLayout/Header/components/WalletIcon/index.tsx","components/AppLayout/Header/components/ProviderInfo/ProviderAccessible.tsx","components/AppLayout/Header/components/ProviderInfo/ProviderDisconnected.tsx","components/AppLayout/Header/index.tsx","components/AppLayout/Footer/index.tsx","components/List/index.tsx","components/FlexSpacer/index.tsx","components/AppLayout/Sidebar/SafeHeader/index.tsx","components/AppLayout/Sidebar/index.tsx","components/AppLayout/MobileStart/assets/phone@2x.png","components/AppLayout/MobileNotSupported/index.tsx","components/AppLayout/index.tsx","assets/icons/shape.svg","components/SafeListSidebar/SafeList/DefaultBadge.tsx","components/SafeListSidebar/SafeList/AddressWrapper.tsx","components/SafeListSidebar/SafeList/index.tsx","components/SafeListSidebar/selectors.ts","components/SafeListSidebar/style.ts","components/SafeListSidebar/index.tsx","logic/cookies/store/selectors/index.ts","utils/intercom.ts","components/CookiesBanner/assets/alert-red.svg","components/CookiesBanner/assets/intercom.png","components/CookiesBanner/index.tsx","components/Notifier/actions.ts","logic/notifications/store/selectors/index.ts","components/Notifier/selector.ts","components/Notifier/index.ts","components/layout/Backdrop/index.tsx","logic/currentSession/store/actions/addViewedSafe.ts","logic/safe/store/actions/fetchLatestMasterContractVersion.ts","logic/currencyValues/api/fetchAvailableCurrencies.ts","logic/safe/hooks/useSafeActions.tsx","components/List/ListIcon.tsx","components/App/index.tsx","components/AppLayout/Sidebar/useSidebarItems.tsx","logic/safe/hooks/useSafeScheduledUpdates.tsx","logic/safe/hooks/useLoadSafe.tsx","logic/currencyValues/store/actions/updateAvailableCurrencies.ts","components/GlobalErrorBoundary/index.tsx","routes/index.tsx","components/Root/index.tsx","logic/currentSession/store/actions/loadCurrentSessionFromStorage.ts","logic/safe/store/actions/loadDefaultSafe.ts","logic/safe/store/actions/loadSafesFromStorage.ts","utils/mm_warnings.ts","index.tsx","logic/safe/utils/safeStorage.ts","logic/wallets/store/actions/addProvider.ts","logic/safe/store/actions/transactions/gatewayTransactions.ts","components/layout/Button/index.tsx","config/networks/network.d.ts","logic/addressBook/store/actions/index.ts","logic/wallets/transactionDataCheck/images/contractData.png","logic/wallets/transactionDataCheck/index.ts","components/ConnectButton/index.tsx","logic/wallets/utils/walletList.ts","logic/exceptions/registry.ts","logic/exceptions/CodedException.ts","logic/wallets/store/actions/removeProvider.ts","logic/safe/utils/safeVersion.ts","logic/safe/store/actions/utils.ts","logic/safe/store/actions/setDefaultSafe.ts","logic/safe/utils/shouldSafeStoreBeUpdated.ts","logic/safe/store/reducer/safe.ts","logic/cookies/store/actions/openCookieBanner.ts","utils/googleAnalytics.ts","logic/safe/store/actions/updateSafe.ts","logic/safe/store/actions/transactions/fetchTransactions/index.ts","logic/cookies/utils/index.ts","logic/addressBook/model/addressBook.ts","logic/safe/store/actions/addOrUpdateSafe.ts","config/assets/token_eth.svg","config/networks/local.ts","config/networks/mainnet.ts","config/networks/rinkeby.ts","config/assets/token_xdai.svg","config/networks/xdai.ts","config/assets/token_ewc.svg","config/networks/energy_web_chain.ts","config/networks/volta.ts","config/networks/index.ts","config/index.ts","logic/wallets/store/actions/fetchProvider.ts","logic/currencyValues/store/reducer/currencyValues.ts","logic/cookies/model/cookie.ts","logic/tokens/utils/formatAmount.ts","logic/tokens/store/model/token.ts","logic/safe/safeTxSigner.ts","logic/wallets/store/model/provider.ts","logic/collectibles/store/actions/addCollectibles.ts","logic/safe/store/models/safe.ts","logic/addressBook/store/selectors/index.ts","logic/tokens/utils/humanReadableValue.ts","logic/collectibles/store/reducer/collectibles.ts","logic/currencyValues/store/actions/setSelectedCurrency.ts","logic/safe/utils/safeInformation.ts","logic/safe/utils/buildSafeInformationUrl.ts","components/layout/Divider/index.tsx","logic/wallets/store/reducer/provider.ts","logic/cookies/store/reducer/cookies.ts","logic/notifications/store/reducer/notifications.ts","utils/objects.ts","logic/safe/store/reducer/gatewayTransactions.ts","logic/tokens/store/actions/addToken.ts","logic/tokens/store/reducer/tokens.ts","components/Modal/index.tsx","routes/safe/container/selector.ts","components/LoaderContainer/index.tsx","logic/tokens/utils/tokenHelpers.ts","logic/tokens/store/actions/addTokens.ts","logic/wallets/utils/unstoppableDomains.ts","logic/wallets/getWeb3.ts","logic/currencyValues/store/selectors/index.ts","logic/safe/utils/allSettled.ts","logic/safe/store/actions/fetchSafe.ts","logic/wallets/ethAddresses.ts","logic/safe/transactions/offchainSigner/EIP712Signer.ts","logic/safe/transactions/offchainSigner/ethSigner.ts","logic/safe/transactions/offchainSigner/index.ts","logic/safe/utils/aboutToExecuteTx.ts","logic/safe/transactions/txHistory.ts","logic/safe/utils/modules.ts","routes/safe/components/Apps/types.ts","logic/safe/store/actions/removeSafe.ts","logic/tokens/store/actions/fetchSafeTokens.ts","logic/currentSession/store/actions/loadCurrentSession.ts","logic/currentSession/store/actions/updateViewedSafes.ts","logic/currentSession/utils/index.ts","logic/notifications/store/actions/removeSnackbar.ts","logic/safe/store/actions/setLatestMasterContractVersion.ts","logic/wallets/store/middlewares/providerWatcher.ts","logic/currencyValues/store/actions/setAvailableCurrencies.ts","routes/safe/components/Balances/assets/nft_icon.png","utils/constants.ts","logic/tokens/store/selectors/index.ts","theme/variables.js","logic/safe/store/actions/transactions/fetchTransactions/loadGatewayTransactions.ts","components/layout/Img/index.module.scss","components/layout/Row/index.module.scss","components/layout/Paragraph/index.module.scss","components/layout/ButtonLink/index.module.scss","components/layout/Link/index.module.scss","components/forms/validator.ts","logic/safe/store/actions/transactions/utils/transactionHelpers.ts","logic/safe/store/actions/createTransaction.ts","routes/safe/components/Transactions/TxList/utils.ts","logic/safe/transactions/send.ts","logic/safe/transactions/notifiedTransactions.ts","logic/addressBook/hooks/useSafeName.tsx","utils/date.ts","logic/safe/store/selectors/utils.ts","logic/safe/store/selectors/gatewayTransactions.ts","routes/safe/components/Apps/api/fetchSafeAppsList.ts","routes/safe/components/Apps/utils.ts","components/layout/ButtonLink/index.tsx","routes/safe/components/Balances/SendModal/index.tsx","logic/safe/store/selectors/index.ts","utils/singleton.ts","utils/isValidAddress.ts","logic/tokens/api/fetchErc20AndErc721AssetsList.ts","logic/tokens/api/fetchSafeCollectibles.ts","logic/contracts/generateBatchRequests.ts","logic/safe/utils/spendingLimits.ts","logic/safe/store/actions/fetchTransactionDetails.ts","theme/mui.ts","utils/wrapInSuspense.tsx","logic/safe/api/fetchSafeTxGasEstimation.ts","logic/safe/transactions/gas.ts","utils/checksumAddress.ts","routes/routes.ts","utils/css.ts","components/layout/Paragraph/index.tsx","logic/contracts/safeContracts.ts","logic/safe/utils/upgradeSafe.ts","test/utils/ethereumErrors.ts","assets/icons/apps.svg","logic/safe/store/actions/updateTransactionStatus.ts","logic/notifications/notificationTypes.ts","logic/notifications/notificationBuilder.tsx","logic/safe/transactions/api/fetchSafeTransaction.ts","logic/safe/utils/currencyValuesStorage.ts","logic/safe/api/fetchTokenCurrenciesBalances.ts","components/App/ReceiveModal.tsx","logic/collectibles/sources/Gnosis.ts","logic/collectibles/sources/index.ts","logic/collectibles/store/actions/fetchCollectibles.ts","utils/storage/index.ts","components/layout/Col/index.module.scss","logic/wallets/ethTransactions.ts","components/layout/Block/index.module.scss","components/layout/Row/index.tsx","logic/notifications/store/actions/enqueueSnackbar.tsx","logic/safe/store/models/types/gateway.d.ts","components/layout/Col/index.tsx","components/layout/Img/index.tsx","logic/wallets/store/selectors/index.ts","logic/notifications/store/actions/closeSnackbar.ts","components/layout/Link/index.tsx"],"names":["ADDRESS_BOOK_INVALID_NAMES","getNameFromAddressBook","addressBook","userAddress","options","entry","find","addressBookItem","address","filterOnlyValidName","getValidAddressBookName","name","isValidAddressBookName","addressBookName","invalidName","toUpperCase","includes","formatAddressListToAddressBookNames","addresses","length","map","chainId","ETHEREUM_NETWORK","UNKNOWN","filterContractAddressBookEntries","a","Promise","all","mustBeEthereumContractAddress","undefined","abFlags","filter","_","index","filterAddressEntries","addressBookEntries","inputValue","inputLowerCase","toLowerCase","foundName","foundAddress","getEntryIndex","state","addressBookEntry","findIndex","sameAddress","cx","classNames","bind","styles","Block","this","props","children","className","justify","margin","padding","paddingStyle","capitalize","React","getSize","size","xs","sm","md","lg","xl","Hairline","color","style","calculatedStyles","width","minHeight","height","backgroundColor","border","calculateStyleFrom","mergedStyles","textShortener","charsEnd","charsStart","ellipsis","text","amountOfCharsToKeep","finalStringLength","r","RegExp","matchResult","exec","textStart","textEnd","trimSpaces","value","trim","sameString","str1","str2","watchedActions","Object","values","ADDRESS_BOOK_ACTIONS","ADDRESS_BOOK_REDUCER_ID","batchLoadEntries","action","newState","payload","forEach","entryIndex","push","handleActions","ADD_OR_UPDATE","REMOVE","splice","SAFE_LOAD","IMPORT","initialState","viewedSafes","LOAD_CURRENT_SESSION","UPDATE_VIEWED_SAFES","safeAddress","saveCurrentSessionToStorage","getAwaitingGatewayTransactions","allTransactions","userAccount","tx","isStatusAwaitingConfirmation","txStatus","addressInList","executionInfo","missingSigners","ADD_OR_UPDATE_SAFE","ADD_QUEUED_TRANSACTIONS","ADD_HISTORY_TRANSACTIONS","LAST_TIME_USED_LOGGED_IN_ID","sendAwaitingTransactionNotification","dispatch","awaitingTxsSubmissionDateList","notificationKey","notificationClickedCb","loadFromStorage","lastTimeUserLoggedInForSafes","lastTimeUserLoggedIn","submissionDate","Date","enqueueSnackbar","enhanceSnackbarForAction","NOTIFICATIONS","TX_WAITING_MSG","saveToStorage","onNotificationClicked","closeSnackbarAction","key","notificationsMiddleware","store","next","handledAction","type","getState","userAccountSelector","safes","safesMapSelector","executedTxNotification","aboutToExecuteTx","transactions","isTransactionSummary","item","transaction","awaitingTransactions","timestamp","currentSafe","get","isUserAnOwner","safe","currentSafeAddress","safeParamAddressFromStateSelector","isUserOwner","grantedSelector","getSafeVersionInfo","needUpdate","SAFE_NEW_VERSION_AVAILABLE","REMOVE_SAFE","SET_DEFAULT_SAFE","UPDATE_SAFE","migrate","storageConfig","states","namespace","namespaceSeparator","prefix","getNetworkName","newKey","oldKey","storageKey","localStorage","getItem","storedAddressBook","migratedAddressBook","JSON","parse","getWeb3","utils","isAddress","makeAddressBookEntry","setItem","stringify","removeItem","removeFromStorage","then","console","info","migrateAddressBook","safesKey","storedSafes","parsedStoredSafes","entries","every","safeAbEntries","owners","owner","loadedViaUrl","migratedSafes","addressBookKey","addressBookToStore","safeIndex","saveSafes","migrateSafeNames","e","trackError","Errors","_200","message","SET_CURRENT_CURRENCY","history","createHashHistory","localStorageConfig","finalCreateStore","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","save","routerMiddleware","toJSON","saveDefaultSafe","providerWatcher","shouldAvoidUpdatesNotifications","notification","getNotificationsFromTxType","TX_NOTIFICATION_TYPES","ADDRESS_BOOK_NEW_ENTRY","afterExecution","noMoreConfirmationsNeeded","ADDRESS_BOOK_DELETE_ENTRY","ADDRESS_BOOK_IMPORT_ENTRIES","selectedCurrency","saveSelectedCurrency","reducers","combineReducers","router","connectRouter","PROVIDER_REDUCER_ID","provider","SAFE_REDUCER_ID","NFT_ASSETS_REDUCER_ID","nftAssetReducer","NFT_TOKENS_REDUCER_ID","nftTokensReducer","TOKEN_REDUCER_ID","tokens","GATEWAY_TRANSACTIONS_ID","gatewayTransactions","NOTIFICATIONS_REDUCER_ID","notifications","CURRENCY_VALUES_KEY","currencyValues","COOKIES_REDUCER_ID","cookies","currentSession","createStore","load","Provider","myRef","render","classes","open","toggle","root","ref","Divider","Col","end","middle","onClick","IconButton","expand","disableRipple","withStyles","alignItems","display","screenSm","flexBasis","marginRight","cursor","flex","paddingLeft","paddingRight","flexGrow","borderRadius","boxShadow","marginTop","minWidth","summary","flexWrap","headerHeight","position","zIndex","logo","flexShrink","maxWidth","popper","providerDetails","providerInfo","openInitialValue","useState","setOpen","clickAway","useStateHandler","Row","start","to","Img","alt","src","SafeLogo","testId","Spacer","providerRef","Popper","anchorEl","current","placement","popperOptions","positionFixed","TransitionProps","Grow","ClickAwayListener","mouseEvent","onClickAway","touchEvent","component","createStyles","dot","fancy","justifyContent","warning","top","useStyles","makeStyles","KeyRing","center","circleSize","dotRight","dotSize","dotTop","hideDot","keySize","mode","keyStyle","marginLeft","buildKeyStyleFrom","dotStyle","right","buildDotStyleFrom","isWarning","img","TriangleIcon","KeyIcon","StyledCard","styled","Card","letterSpacing","textAlign","connect","connectText","align","Paragraph","noMargin","weight","ConnectButton","data-testid","CircleDot","networkInfo","getNetworkInfo","xmlns","viewBox","cy","fill","fillRule","stroke","strokeWidth","transform","container","flexDirection","identicon","user","background","lineHeight","details","labels","fontSize","textTransform","disconnect","dashboard","dashboardText","disconnectText","connected","connectedBg","UserDetails","network","onDisconnect","openDashboard","status","explorerUrl","getExplorerInfo","hash","showCopyBtn","shortenHash","WalletIcon","upperFirst","Button","fullWidth","variant","textColor","fontColor","NetworkLabel","label","WALLET_ICONS","WALLET_PROVIDER","METAMASK","WALLETCONNECT","walletConnectIcon","TREZOR","trezorIcon","LEDGER","ledgerIcon","LATTICE","latticeIcon","FORTMATIC","fortmaticIcon","PORTIS","portisIcon","AUTHEREUM","TORUS","torusIcon","OPERA","COINBASE_WALLET","coinbaseIcon","icon","layout","fontFamily","networkLabel","providerContainer","account","ProviderInfo","addressColor","showAvatar","avatarSize","textSize","whiteSpace","HeaderComponent","useSelector","providerNameSelector","networkSelector","loaded","loadedSelector","available","availableSelector","useDispatch","useEffect","loadLastUsedProvider","lastUsedProvider","onboard","walletSelect","walletCheck","tryToConnectToLastUsedProvider","wallet","removeProvider","ProviderAccessible","footer","boxSizing","link","secondary","textDecoration","sep","buttonLink","appVersion","process","Footer","date","getFullYear","Link","cn","target","openCookieBanner","cookieBannerOpen","StyledListItem","ListItem","theme","colors","primary","StyledListSubItem","StyledListItemText","ListItemText","fonts","placeHolder","StyledListSubItemText","palette","paper","overflowX","webkitBoxShadow","outline","nested","spacing","List","items","groupCollapseStatus","setGroupCollapseStatus","onItemClick","subItems","cp","isSubItemSelected","subItem","selected","getListItem","isSubItem","ListItemAux","ListItemTextAux","button","href","keys","i","aria-labelledby","Collapse","in","timeout","unmountOnExit","disablePadding","FlexSpacer","TOGGLE_SIDEBAR_BTN_TESTID","Container","div","IdenticonContainer","IconContainer","StyledButton","StyledTextLabel","Text","StyledEthHashInfo","EthHashInfo","StyledLabel","StyledText","UnStyledButton","separator","SafeHeader","safeName","balance","granted","onToggleSafeList","onReceiveClick","onNewTransactionClick","tooltip","textToCopy","disabled","StyledDivider","HelpContainer","HelpCenterLink","Sidebar","title","iconSize","iconType","Overlay","fade","overlay","ModalApp","StyledImg","StyledCloseIcon","Icon","StyledLink","MobileNotSupported","onClose","rel","Phone","HeaderWrapper","nav","BodyWrapper","SidebarWrapper","aside","white","ContentWrapper","Layout","sidebarItems","mobileNotSupportedClosed","setMobileNotSupportedClosed","Header","secondaryBackground","defaultText","DefaultBadge","HomeIcon","StyledButtonLink","ButtonLink","wrapper","addressDetails","nativeCoin","AddressWrapper","defaultSafe","safeNameSelector","formatAmount","ethBalance","setDefaultSafe","StyledIcon","list","overflowY","listItemRoot","paddingTop","paddingBottom","visibility","noIcon","SafeList","onSafeClick","SAFELIST_ADDRESS","sortedSafeListSelector","createSelector","safesListWithAddressBookNameSelector","sort","b","sidebarWidth","sidebarMarginLeft","sidebarMarginTop","useSidebarStyles","sidebar","sidebarPaper","maxHeight","topComponents","flexFlow","searchWrapper","divider","spacer","headerPlaceholder","addSafeBtn","mediumFontSize","searchIcon","secondaryText","searchInput","searchContainer","searchRoot","searchIconInput","SafeListSidebarContext","createContext","isOpen","toggleSidebar","SafeListSidebar","setIsOpen","setFilter","defaultSafeSelector","trackEvent","useAnalytics","searchClasses","input","iconButton","category","SAFE_NAVIGATION_EVENT","prevIsOpen","filteredSafes","useMemo","filterBy","setTimeout","Drawer","ModalProps","onBackdropClick","onKeyDown","keyCode","onCancelSearch","onChange","placeholder","WELCOME_ADDRESS","intercomLoaded","isIntercomLoaded","isDesktop","REACT_APP_BUILD_FOR_DESKTOP","bottom","left","content","mainFontFamily","fontWeight","form","columnGap","gridTemplateColumns","rowGap","formItem","intercomAlert","svg","intercomImage","CookiesBanner","useRef","showAnalytics","setShowAnalytics","showIntercom","setShowIntercom","localNecessary","setLocalNecessary","localAnalytics","setLocalAnalytics","localIntercom","setLocalIntercom","showBanner","loadFromCookie","COOKIES_KEY","cookiesState","acceptedIntercom","acceptedAnalytics","acceptedNecessary","expDays","saveCookie","loadGoogleAnalytics","fetchCookiesFromStorage","acceptCookiesHandler","closeCookiesBannerHandler","removeCookies","Intercom","APP_ID","INTERCOM_ID","d","document","s","createElement","async","x","getElementsByTagName","parentNode","insertBefore","onload","app_id","consent","error","loadIntercom","CookiesBannerForm","alertMessage","AlertRedIcon","FormControlLabel","checked","control","Checkbox","prev","IntercomIcon","intercomAlertDisplayed","removeSnackbar","notificationsListSelector","toList","createStructuredSelector","Notifier","displayed","storeDisplayed","id","newSnacks","closeSnackbar","currentSnacks","notExists","newSnack","dismissed","event","reason","Component","withSnackbar","selector","actions","BackdropLayout","ReactDOM","createPortal","Backdrop","body","addViewedSafe","updateViewedSafes","fetchLatestMasterContractVersion","getCurrentMasterContractLastVersion","latestVersion","setLatestMasterContractVersion","fetchAvailableCurrencies","url","getClientGatewayUrl","axios","data","INITIAL_STATE","sendFunds","selectedToken","showReceive","useSafeActions","safeActionsState","setSafeActionsState","onShow","prevState","onHide","showSendFunds","token","hideSendFunds","ListItemIcon","Frame","desiredNetwork","getNetworkId","success","App","currentNetwork","isWrongNetwork","useContext","matchSafe","useRouteMatch","path","strict","useHistory","useSafeName","currentSafeBalance","safeTotalFiatBalanceSelector","currentCurrency","currentCurrencySelector","featuresEnabled","safeFeaturesEnabledSelector","safeAppsEnabled","Boolean","FEATURES","SAFE_APPS","matchSafeWithAddress","matchSafeWithAction","settingsItem","ListIcon","params","safeAction","safeSidebar","useSidebarItems","safeLoaded","timer","mounted","fetchSafeData","batch","fetchSafeTokens","fetchTransactions","fetchCollectibles","fetchSafe","TIMEOUT","clearTimeout","useSafeScheduledUpdates","isSafeLoaded","setIsSafeLoaded","availableCurrencies","setAvailableCurrencies","resolve","fetchData","useLoadSafe","formattedTotalBalance","formatAmountInUsFormat","toString","isExact","onReceiveHide","anchorOrigin","vertical","horizontal","variantSuccess","variantError","variantWarning","variantInfo","iconVariant","ErrorIcon","InfoIcon","CheckIcon","AlertIcon","maxSnack","AppLayout","SendModal","activeScreenType","Modal","description","handleClose","paperClassName","ReceiveModal","WrapperAppWithSidebar","Wrapper","Content","LinkWrapper","LinkContent","GlobalErrorBoundaryFallback","componentStack","IS_PRODUCTION","as","Welcome","lazy","Open","Safe","Load","SAFE_ADDRESS","SAFE_PARAM_ADDRESS","Routes","isInitialLoad","setInitialLoad","location","useLocation","trackPage","pathname","safePage","page","search","exact","DEFAULT_SAFE_INITIAL_STATE","OPEN_ADDRESS","LOAD_ADDRESS","Root","styledTheme","fallback","GlobalErrorBoundary","wrapInSuspense","loadCurrentSessionFromStorage","getCurrentSessionFromStorage","loadCurrentSession","loadDefaultSafe","getDefaultSafe","checksumed","checksumAddress","loadSafesFromStorage","getLocalSafes","safeProps","addOrUpdateSafe","buildSafe","ethereum","isMetaMask","autoRefreshOnNetworkChange","BigNumber","set","EXPONENTIAL_AT","Sentry","dsn","SENTRY_DSN","release","integrations","Integrations","BrowserTracing","sampleRate","getElementById","SAFES_KEY","DEFAULT_SAFE_KEY","loadStoredSafes","getLocalSafe","ADD_PROVIDER","addProvider","createAction","addHistoryTransactions","addQueuedTransactions","GnoButton","calculatedStyle","calculateStyleBased","WALLETS","addressBookAddOrUpdate","addressBookRemove","addressBookSafeLoad","addressBookImport","USER_ENABLED_LEDGER_TX_DATA","transactionDataCheck","providerName","stateAndHelpers","isTransactionDataEnabled","heading","contractDataImage","eventCode","onclick","networkId","disabledWallets","getNetworkConfigDisabledWallets","rpcUrl","getRpcServiceUrl","wallets","walletName","preferred","desktop","WALLET_CONNECT","rpc","bridge","appUrl","email","LedgerTransport","TransportNodeHid","TRUST","appName","apiKey","FORTMATIC_KEY","PORTIS_ID","COINBASE","WALLET_LINK","OPERA_TOUCH","networkName","lastUsedAddress","w","Onboard","subscriptions","setWeb3","fetchProvider","checkName","onboardUser","walletSelected","onConnectButtonClick","ErrorCodes","CodedException","extraMessage","context","code","codePrefix","split","Number","isNaN","___0","extraInfo","stack","newStack","line","logError","join","Error","args","log","track","REMOVE_PROVIDER","walletReset","resetWeb3","FEATURES_BY_VERSION","ERC721","ERC1155","validVersion","CONTRACT_INTERACTION","safeNeedsUpdate","currentVersion","semverValid","latest","semverLessThan","getCurrentSafeVersion","gnosisSafeInstance","methods","VERSION","call","enabledFeatures","version","reduce","acc","feature","isFeatureEnabled","featureConfig","semverSatisfies","checkFeatureEnabledByVersion","checkIfSafeNeedsUpdate","lastSafeVersion","safeMasterVersion","getSafeMasterContract","safeMaster","LATEST_SAFE_VERSION","getGnosisSafeInstanceAt","getLastTx","buildTxServiceUrl","limit","response","results","getNewTxNonce","lastTx","safeInstance","nonce","shouldExecuteTransaction","safeNonce","getThreshold","thresholdAsString","isExecuted","extractRemoteSafeInfo","remoteSafeInfo","safeInfo","modules","spendingLimits","safeInfoModules","buildModulesLinkedList","getSpendingLimits","threshold","needsUpdate","buildSafeOwners","remoteSafeOwners","localSafeOwners","isStateSubset","superObj","subObj","isEqual","shouldSafeStoreBeUpdated","newSafeProps","oldSafeProps","storedSafe","updateSafeProps","prevSafe","withMutations","record","Map","isMap","update","isList","merge","getIn","updateIn","makeSafe","hasIn","setIn","currentDefaultSafe","deleteIn","SET_LATEST_MASTER_CONTRACT_VERSION","latestMasterContractVersion","OPEN_COOKIE_BANNER","COOKIES_LIST","analyticsLoaded","trackingID","getGoogleAnalyticsTrackingID","ReactGA","initialize","anonymizeIp","appId","analyticsAllowed","setAnalyticsAllowed","useCallback","pageview","subDomain","host","slice","cookie","removeCookie","updateSafe","allSettled","loadHistoryTransactions","loadQueuedTransactions","queued","PREFIX","withoutPrefix","Cookies","stringifiedValue","expirationDays","expiration","expires","domain","remove","ADDRESS_BOOK_DEFAULT_NAME","local","environment","production","clientGatewayUrl","txServiceUrl","relayApiUrl","safeAppsUrl","gasPriceOracle","gasParameter","rpcServiceUrl","networkExplorerName","networkExplorerUrl","networkExplorerApiUrl","LOCAL","isTestNet","symbol","decimals","logoUri","EtherLogo","baseConfig","mainnet","dev","staging","MAINNET","ETHGASSTATION_API_KEY","rinkeby","RINKEBY","gasPrice","xDai","XDAI","xDaiLogo","disabledFeatures","DOMAIN_LOOKUP","xdai","energy_web_chain","ENERGY_WEB_CHAIN","EwcLogo","volta","VOLTA","NETWORK","usesInfuraRPC","getConfig","ensureOnce","currentEnvironment","NODE_ENV","APP_ENV","getCurrentEnvironment","configFile","networks","networkBaseConfig","getTxServiceUrl","getGasPrice","getGasPriceOracle","INFURA_TOKEN","getSafeClientGatewayBaseUrl","getTxDetailsUrl","clientGatewayTxId","getSafeServiceBaseUrl","getTokensServiceBaseUrl","getNetworkExplorerInfo","apiUrl","memoize","some","disabledFeature","GOOGLE_ANALYTICS_ID","fetchContractABI","contractAddress","module","fetch","URLSearchParams","ok","result","json","getNetworkExplorerApiKey","ETHERSCAN_API_KEY","getContractABI","processProviderResponse","walletRecord","makeProvider","handleProviderNotification","TESTNET_VERSION_MSG","UNLOCK_WALLET_MSG","WRONG_NETWORK_MSG","CONNECT_WALLET_ERROR_MSG","web3","getProviderInfo","SET_AVAILABLE_CURRENCIES","lt1kFormatter","Intl","NumberFormat","maximumFractionDigits","lt10kFormatter","lt100kFormatter","lt1mFormatter","lt10mFormatter","lt100mFormatter","lt1000tFormatter","notation","number","numberFloat","parseFloat","format","usNumberFormatter","currency","minimumFractionDigits","amount","replace","makeToken","Record","fiatBalance","tokenBalance","checkIfOffChainSignatureIsPossible","isExecution","isSmartContractWallet","safeVersion","SAFE_VERSION_FOR_OFF_CHAIN_SIGNATURES","getPreValidatedSignatures","from","initialString","EMPTY_DATA","generateSignaturesFromTxConfirmations","confirmations","preApprovingOwner","confirmationsMap","signature","ownerA","ownerB","localeCompare","sigs","smartContractWallet","hardwareWallet","ADD_NFT_ASSETS","ADD_NFT_TOKENS","addNftAssets","nftAssets","addNftTokens","nftTokens","totalFiatBalance","balances","recurringUser","addressBookSelector","addressBookMapSelector","addressBookMap","addressBookAddressesListSelector","getNameFromAddressBookSelector","humanReadableValue","times","toFixed","fromTokenUnit","toTokenUnit","ROUND_DOWN","setSelectedCurrency","getSafeInfo","safeInfoUrl","buildSafeInformationUrl","borderRight","ENQUEUE_SNACKBAR","CLOSE_SNACKBAR","dismissAll","REMOVE_SNACKBAR","delete","sortObject","obj","order","isTail","assign","isDateLabel","startOfDate","getLocalStartOfDate","isLabel","isConflictHeader","txNonce","warn","txIndex","storedTransaction","updateFromService","confirmationsSubmitted","UPDATE_TRANSACTION_DETAILS","transactionId","txLocation","storedTransactions","txGroup","transactionsGroup","findTransactionLocation","UPDATE_TRANSACTION_STATUS","historyLocation","txToUpdate","ADD_TOKEN","ADD_TOKENS","tokenAddress","ModalStyled","ModalMUI","GnoModal","BackdropProps","aria-describedby","HeaderSection","TitleStyled","TitleSRC","Title","withoutMargin","ButtonStatus","BodySection","withoutPadding","FooterSection","withoutBorder","LoaderText","span","Buttons","cancelButtonProps","confirmButtonProps","cancelDisabled","cancelStatus","READY","cancelText","LOADING","cancelTestId","cancelProps","confirmDisabled","confirmStatus","confirmText","confirmTestId","confirmProps","DISABLED","Body","safeSelector","safeEthAsTokenSelector","getEthAsToken","extendedSafeTokensSelector","safeBalancesSelector","tokensSelector","safeBalances","tokensList","ethAsToken","extendedTokens","Array","isArray","safeBalance","baseToken","safeKnownCoins","safeTokens","nativeCoinAsToken","LoadingContainer","getBalanceAndDecimalsFromToken","addTokens","unstoppableResolver","SAFE","REMOTE","SQUARELINK","web3ReadOnly","Web3","providers","HttpProvider","getAccountFrom","web3Provider","eth","getAccounts","accounts","testAccountIndex","getNetworkIdFrom","net","getId","isHardwareWallet","getCode","contractCode","web3Instance","getAddressFromDomain","isValidCryptoDomainName","UnstoppableResolution","blockchain","cns","addr","getAddressFromUnstoppableDomain","ens","getAddress","getContentFromENS","getContenthash","availableCurrenciesSelector","promise","remote","localSafeInfo","ZERO_ADDRESS","firstAddress","secondAddress","isUserAnOwnerOfAnySafe","isValidEnsName","test","generateTypedDataFrom","baseGas","gasToken","operation","refundReceiver","safeTxGas","valueInWei","typedData","types","EIP712Domain","SafeTx","verifyingContract","primaryType","getEIP712Signer","txArgs","method","jsonTypedData","signedTypedData","jsonrpc","sender","getTime","reject","currentProvider","sendAsync","err","ethSigner","safeTxHash","sig","sigV","parseInt","SIGNERS","EIP712_V3","EIP712_V4","EIP712","ETH_SIGN","getSupportedSigners","isHW","safeSupportsEthSigner","signers","tryOffChainSigning","signerByWallet","signingFunc","METAMASK_REJECT_CONFIRM_TX_ERROR_CODE","setNonce","newNonce","getNotification","executedTx","notificationsQueue","STANDARD_TX","isStatusFailed","afterExecutionError","calculateBodyFrom","transactionHash","origin","getTransactionHash","contractTransactionHash","saveTxToHistory","txHash","post","moduleAddress","SENTINEL_ADDRESS","getDisableModuleTxData","modulePair","previousModule","disableModule","encodeABI","enableModuleTx","CALL","txData","enableModule","notifiedTransaction","SETTINGS_CHANGE_TX","SAFE_APP_FETCH_STATUS","removeSafe","extractDataFromResult","tokenInfo","currencySelected","fetchTokenCurrenciesBalances","tokenCurrenciesBalances","_601","fiatTotal","CURRENT_SESSION_STORAGE_KEY","watcherInterval","LAST_USED_PROVIDER_KEY","providerWatcherMware","currentProviderProps","toJS","clearInterval","setInterval","networkChanged","REACT_APP_ENV","REACT_APP_NETWORK","REACT_APP_INTERCOM_ID","REACT_APP_GOOGLE_ANALYTICS","REACT_APP_SENTRY_DSN","REACT_APP_PORTIS_ID","REACT_APP_FORTMATIC_KEY","REACT_APP_INFURA_TOKEN","REACT_APP_LATEST_SAFE_VERSION","COLLECTIBLES_SOURCE","REACT_APP_OPENSEA_API_KEY","REACT_APP_COLLECTIBLES_SOURCE","REACT_APP_ETHERSCAN_API_KEY","REACT_APP_ETHGASSTATION_API_KEY","SAFE_APPS_LIST_URL","REACT_APP_SAFE_APPS_LIST_URL","SPENDING_LIMIT_MODULE_ADDRESS","REACT_APP_IPFS_GATEWAY","REACT_APP_SPENDING_LIMIT_MODULE_ADDRESS","KNOWN_MODULES","tokenListSelector","sortBy","exports","boldFont","bolderFont","buttonLargeFontSize","extraBoldFont","extraLargeFontSize","extraSmallFontSize","fontSizeHeadingLg","fontSizeHeadingMd","fontSizeHeadingSm","fontSizeHeadingXs","largeFontSize","lightFont","marginButtonImg","regularFont","screenLg","screenMd","screenMdMax","screenSmMax","screenXs","screenXsMax","secondaryFontFamily","smallFontSize","xxl","xxlFontSize","getHistoryTransactionsUrl","historyPointers","loadPagedHistoryTransactions","pointers","historyTransactionsUrl","getQueuedTransactionsUrl","queuedPointers","loadPagedQueuedTransactions","queuedTransactionsUrl","required","mustBeInteger","isInteger","mustBeFloat","minValue","min","inclusive","maxValue","max","mustBeHexData","isHexStrict","mustBeAddressHash","isValidAddress","mustBeEthereumAddress","minMaxLength","minLen","maxLen","testValue","minMaxDecimalsLength","ADDRESS_REPEATED_ERROR","uniqueAddress","addressFromList","addressIsNotCurrentSafe","composeValidators","validators","validator","differentFrom","diffValue","noErrorsOn","errors","validAddressBookName","lengthError","generateSafeTxHash","TypedDataUtils","sign","createTransaction","onUserConfirm","onError","navigateToTransactionsTab","safeTxGasArg","ethParameters","providerSelector","nextNonce","estimateSafeTxGas","txRecipient","txAmount","beforeExecutionKey","beforeExecution","getExecutionTransaction","getApprovalTransaction","sendParams","gas","ethGasLimit","ethGasPriceInGWei","ethNonce","send","once","on","receipt","errorMsg","persist","executeDataUsedSignatures","execTransaction","getErrorMessage","errMsg","NOT_AVAILABLE","getAmountWithSymbol","formatted","nonFormattedValue","finalValue","getTxAmount","txInfo","isTransferTxInfo","transferInfo","tokenSymbol","getTxTokenData","isCancelTxDetails","isCustomTxInfo","isCancellation","ownerAddress","getTxTo","recipient","factory","DELEGATE_CALL","approveHash","CONFIRMATION_TX","CANCELLATION_TX","WAITING_TX","NEW_SPENDING_LIMIT_TX","REMOVE_SPENDING_LIMIT_TX","SAFE_NAME_CHANGE_TX","OWNER_NAME_CHANGE_TX","ADDRESS_BOOK_EDIT_ENTRY","ADDRESS_BOOK_EXPORT_ENTRIES","relativeTime","baseTimeMin","resetTimeMin","nextResetTimeMilliseconds","formatRelative","now","setHours","formatWithSchema","schema","formatTime","formatDateTime","formatTimeInWords","formatDistanceToNow","addSuffix","createHashBasedSelector","createSelectorCreator","defaultMemoize","historyTransactions","pendingTransactions","nextTransactions","queuedTransactions","getTransactionsByLocation","rest","attributeName","attributeValue","getTransactionByAttribute","fn","foundTx","getTransactionDetails","txDetails","getQueuedTransactionsByNonce","fetchSafeAppsList","APPS_STORAGE_KEY","staticAppsList","getAppsList","apps","getAppInfoFromOrigin","isAppManifestValid","appInfo","getEmptySafeApp","Math","random","iconUrl","appsIconSvg","fetchStatus","getAppInfoFromUrl","res","loadingStatus","ERROR","noTrailingSlashUrl","substr","remainingSpace","appInfoData","iconPath","providedBy","substring","SUCCESS","iconInfo","headers","_900","contexts","safeApp","getIpfsLinkFromEns","protocolType","decoded","uniqueApp","appList","newUrl","URL","GnoButtonLink","btnLink","ChooseTxType","SendFunds","SendCollectible","ReviewCollectible","ReviewSendFundsTx","ContractInteraction","ContractInteractionReview","SendCustomTx","ReviewCustomTx","loaderStyle","recipientAddress","recipientName","tokenAmount","activeScreen","setActiveScreen","setTx","isABI","setIsABI","setRecipient","handleSwitchMethod","handleOnPrev","screen","initialValues","onReview","onPrev","switchMethod","onNext","contractInteractionInfo","submit","customTxInfo","safesStateSelector","safesListSelector","safesList","safeRecord","toObject","safeState","latestMasterContractVersionSelector","match","matchPath","addressBookQueryParamsSelector","query","entryAddress","baseSafe","safeFieldSelector","field","safeEthBalanceSelector","safeNeedsUpdateSelector","safeCurrentVersionSelector","safeThresholdSelector","safeNonceSelector","safeOwnersSelector","safeModulesSelector","safeSpendingLimitsSelector","safeOwnersWithAddressBookDataSelector","ownerInAddressBook","executed","apply","fetchErc20AndErc721AssetsList","fetchSafeCollectibles","generateBatchRequests","abi","contractInstance","Contract","localBatch","BatchRequest","methodObject","resolver","request","add","execute","currentMinutes","floor","requestTokensByDelegate","delegates","whenRequestValues","delegateAddress","SpendingLimitModule","ZERO_VALUE","discardZeroAllowance","requestAllowancesByDelegatesAndTokens","tokensByDelegate","delegate","allowances","spent","lastResetMin","isSpendingLimitEnabled","getSpendingLimitContract","getDelegates","getDeleteAllowanceTxData","beneficiary","deleteAllowance","enableSpendingLimitModuleMultiSendTx","multiSendTx","addSpendingLimitBeneficiaryMultiSendTx","spendingLimitContract","addDelegate","getResetSpendingLimitTx","resetAllowance","setSpendingLimitTx","spendingLimitArgs","spendingLimitInWei","resetBaseMin","setAllowance","setSpendingLimitMultiSendTx","spendingLimitMultiSendTx","MULTI_SEND_ADDRESS","getEncodedMultiSendCallData","spendingLimitAllowedBalance","tokenSpendingLimit","diff","minus","diffInFPNotation","gt","getSpendingLimitByTokenAddress","updateTransactionDetails","fetchTransactionDetails","fetchSafeTransaction","transactionDetails","main","contrastThreshold","tonalOffset","createMuiTheme","typography","useNextVariants","overrides","MuiButton","contained","containedPrimary","containedSecondary","outlinedPrimary","sizeLarge","sizeSmall","textSecondary","MuiPaper","rounded","MuiStepper","MuiIconButton","MuiChip","MuiStepIcon","completed","active","MuiStepContent","borderLeft","MuiTypography","body1","body2","MuiFormHelperText","MuiInput","borderBottomLeftRadius","borderBottomRightRadius","textOverflow","underline","borderBottomColor","borderBottomStyle","borderBottomWidth","formControl","MuiFilledInput","MuiStepLabel","MuiSvgIcon","colorSecondary","MuiSnackbar","MuiSnackbarContent","wordBreak","MuiTab","MuiTableContainer","MuiTablePagination","toolbar","selectIcon","caption","select","MuiTableSortLabel","MuiTableCell","head","overflow","MuiBackdrop","backdropFilter","MuiMenuItem","MuiListItemIcon","MuiListItemText","MuiCheckbox","MuiFormControlLabel","DropdownListTheme","elevation0","MuiList","MuiListItem","borderBottom","Suspense","fetchSafeTxGasEstimation","safeTxGasEstimation","estimateTransactionGasLimit","txConfirmations","isOffChainSignature","approvalAndExecution","estimateGasForTransactionExecution","estimateGasForTransactionApproval","estimationData","calculateGasOf","checkTransactionExecution","gasLimit","catch","approveTransactionTxData","toChecksumAddress","charAt","capitalized","restProps","paragraph","proxyFactoryMaster","SAFE_MASTER_COPY_ADDRESS","DEFAULT_FALLBACK_HANDLER_ADDRESS","getGnosisSafeContract","GnosisSafeSol","getProxyFactoryContract","ProxyFactorySol","getMasterCopyAddressFromProxyAddress","proxyAddress","masterCopyAddress","implementation","instantiateSafeContracts","getSafeDeploymentTransaction","safeAccounts","numConfirmations","safeCreationSalt","gnosisSafeData","setup","createProxyWithNonce","estimateGasForDeployingSafe","proxyFactoryData","txs","constant","payable","stateMutability","inputs","outputs","multiSend","encodeParameter","hexToBytes","getUpgradeSafeTransactionHash","fallbackHandlerTxData","setFallbackHandler","updateSafeTxData","changeMasterCopy","returnData","returnBuffer","Buffer","rawDecode","updateTransactionStatus","WARNING","INFO","shortDuration","longDuration","preventDuplicate","SIGN_TX_MSG","TX_REJECTED_MSG","autoHideDuration","TX_EXECUTED_MSG","TX_CANCELLATION_EXECUTED_MSG","TX_FAILED_MSG","TX_CONFIRMATION_EXECUTED_MSG","TX_CONFIRMATION_FAILED_MSG","TX_FETCH_SIGNATURES_ERROR_MSG","SAFE_NAME_CHANGED_MSG","OWNER_NAME_CHANGE_EXECUTED_MSG","SIGN_SETTINGS_CHANGE_MSG","SETTINGS_CHANGE_REJECTED_MSG","SETTINGS_CHANGE_EXECUTED_MSG","SETTINGS_CHANGE_EXECUTED_MORE_CONFIRMATIONS_MSG","SETTINGS_CHANGE_FAILED_MSG","SIGN_NEW_SPENDING_LIMIT_MSG","NEW_SPENDING_LIMIT_REJECTED_MSG","NEW_SPENDING_LIMIT_EXECUTED_MSG","NEW_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG","NEW_SPENDING_LIMIT_FAILED_MSG","SIGN_REMOVE_SPENDING_LIMIT_MSG","REMOVE_SPENDING_LIMIT_REJECTED_MSG","REMOVE_SPENDING_LIMIT_EXECUTED_MSG","REMOVE_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG","REMOVE_SPENDING_LIMIT_FAILED_MSG","ADDRESS_BOOK_NEW_ENTRY_SUCCESS","ADDRESS_BOOK_EDIT_ENTRY_SUCCESS","ADDRESS_BOOK_IMPORT_ENTRIES_SUCCESS","ADDRESS_BOOK_DELETE_ENTRY_SUCCESS","ADDRESS_BOOK_EXPORT_ENTRIES_SUCCESS","ADDRESS_BOOK_EXPORT_ENTRIES_ERROR","setNotificationOrigin","waitingTransactionNotificationsQueue","afterRejection","waitingConfirmation","safeNameChangeNotificationsQueue","moreConfirmationsNeeded","ownerNameChangeNotificationsQueue","settingsChangeTxNotificationsQueue","newSpendingLimitTxNotificationsQueue","removeSpendingLimitTxNotificationsQueue","defaultNotificationsQueue","addressBookNewEntry","addressBookEditEntry","addressBookImportEntries","addressBookDeleteEntry","addressBookExportEntries","txType","getStandardTxNotificationsQueue","getConfirmationTxNotificationsQueue","getCancellationTxNotificationsQueue","actionKey","SELECTED_CURRENCY_STORAGE_KEY","loadSelectedCurrency","excludeSpamTokens","trustedTokens","close","qrContainer","marginBottom","annotation","buttonRow","addressContainer","grow","Gnosis","_getAssetsFromTokens","tokenName","_fetch","collectibles","erc721Assets","erc721Tokens","extractTokens","extractAssets","assets","extractedAssets","asset","extractNFTAsset","assetAddress","image","imageUri","NFTIcon","tokenId","mainAssetAddress","numberOfTokens","slug","SOURCES","gnosis","source","stores","IndexedDbStore","LocalStorageStore","storage","ImmortalStorage","checkReceiptStatus","getTransactionReceipt","txReceipt","calculateGasPrice","multipliedBy","txConfig","estimateGas","getUserNonce","getTransactionCount","rowClassNames","row","addSnackbar","newNotification","Operation","isSettingsChangeTxInfo","isMultiSendTxInfo","methodName","isCreationTxInfo","isStatusSuccess","isStatusCancelled","isStatusWillBeReplaced","isMultiSigExecutionDetails","isModuleExecutionDetails","around","between","lgOffset","mdOffset","smOffset","xsOffset","colClassNames","bordered","fullwidth","GnosisLink","innerRef","internal","LinkElement","refs","LinkWithRef"],"mappings":"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","file":"static/js/main.f9eb62a8.chunk.js","sourcesContent":["import { mustBeEthereumContractAddress } from 'src/components/forms/validator'\r\nimport { ETHEREUM_NETWORK } from 'src/config/networks/network.d'\r\nimport { AddressBookEntry, AddressBookState } from 'src/logic/addressBook/model/addressBook'\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\nimport { AppReduxState } from 'src/store'\r\nimport { Overwrite } from 'src/types/helpers'\r\n\r\nexport type OldAddressBookEntry = {\r\n  address: string\r\n  name: string\r\n  isOwner: boolean\r\n}\r\n\r\nexport type OldAddressBookType = {\r\n  [safeAddress: string]: [OldAddressBookEntry]\r\n}\r\n\r\nexport const ADDRESS_BOOK_INVALID_NAMES = ['UNKNOWN', 'OWNER #', 'MY WALLET']\r\n\r\ntype GetNameFromAddressBookOptions = {\r\n  filterOnlyValidName: boolean\r\n}\r\n\r\nexport const getNameFromAddressBook = (\r\n  addressBook: AddressBookState,\r\n  userAddress: string,\r\n  options?: GetNameFromAddressBookOptions,\r\n): string | null => {\r\n  const entry = addressBook.find((addressBookItem) => addressBookItem.address === userAddress)\r\n  if (entry) {\r\n    return options?.filterOnlyValidName ? getValidAddressBookName(entry.name) : entry.name\r\n  }\r\n  return null\r\n}\r\n\r\nexport const isValidAddressBookName = (addressBookName: string): boolean => {\r\n  const hasInvalidName = ADDRESS_BOOK_INVALID_NAMES.find((invalidName) =>\r\n    addressBookName?.toUpperCase().includes(invalidName),\r\n  )\r\n  return !hasInvalidName\r\n}\r\n\r\n// TODO: is this really required?\r\nexport const getValidAddressBookName = (addressBookName: string): string | null => {\r\n  return isValidAddressBookName(addressBookName) ? addressBookName : null\r\n}\r\n\r\nexport const formatAddressListToAddressBookNames = (\r\n  addressBook: AddressBookState,\r\n  addresses: string[],\r\n): AddressBookEntry[] => {\r\n  if (!addresses.length) {\r\n    return []\r\n  }\r\n  return addresses.map((address) => {\r\n    const ownerName = getNameFromAddressBook(addressBook, address)\r\n    return {\r\n      address: address,\r\n      name: ownerName || '',\r\n      chainId: ETHEREUM_NETWORK.UNKNOWN,\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * If the safe is not loaded, the owner wasn't deleted\r\n * If the safe is already loaded and the owner has a valid name, will return true if the address is not already on the addressBook\r\n * @param name\r\n * @param address\r\n * @param addressBook\r\n * @param safeAlreadyLoaded\r\n */\r\nexport const checkIfEntryWasDeletedFromAddressBook = (\r\n  { name, address }: AddressBookEntry,\r\n  addressBook: AddressBookState,\r\n  safeAlreadyLoaded: boolean,\r\n): boolean => {\r\n  if (!safeAlreadyLoaded) {\r\n    return false\r\n  }\r\n\r\n  const addressShouldBeOnTheAddressBook = !!getValidAddressBookName(name)\r\n  const isAlreadyInAddressBook = !!addressBook.find((entry) => sameAddress(entry.address, address))\r\n  return addressShouldBeOnTheAddressBook && !isAlreadyInAddressBook\r\n}\r\n\r\n/**\r\n * Returns a filtered list of AddressBookEntries whose addresses are contracts\r\n * @param {Array<AddressBookEntry>} addressBook\r\n * @returns Array<AddressBookEntry>\r\n */\r\nexport const filterContractAddressBookEntries = async (addressBook: AddressBookState): Promise<AddressBookEntry[]> => {\r\n  const abFlags = await Promise.all(\r\n    addressBook.map(\r\n      async ({ address }: AddressBookEntry): Promise<boolean> => {\r\n        return (await mustBeEthereumContractAddress(address)) === undefined\r\n      },\r\n    ),\r\n  )\r\n\r\n  return addressBook.filter((_, index) => abFlags[index])\r\n}\r\n\r\n/**\r\n * Filters the AddressBookEntries by `address` or `name` based on the `inputValue`\r\n * @param {Array<AddressBookEntry>} addressBookEntries\r\n * @param {Object} filterParams\r\n * @param {String} filterParams.inputValue\r\n * @return Array<AddressBookEntry>\r\n */\r\nexport const filterAddressEntries = (\r\n  addressBookEntries: AddressBookEntry[],\r\n  { inputValue }: { inputValue: string },\r\n): AddressBookEntry[] =>\r\n  addressBookEntries.filter(({ address, name }) => {\r\n    const inputLowerCase = inputValue.toLowerCase()\r\n    const foundName = name.toLowerCase().includes(inputLowerCase)\r\n    const foundAddress = address?.toLowerCase().includes(inputLowerCase)\r\n\r\n    return foundName || foundAddress\r\n  })\r\n\r\nexport const getEntryIndex = (\r\n  state: AppReduxState['addressBook'],\r\n  addressBookEntry: Overwrite<AddressBookEntry, { name?: string }>,\r\n): number =>\r\n  state.findIndex(\r\n    ({ address, chainId }) => chainId === addressBookEntry.chainId && sameAddress(address, addressBookEntry.address),\r\n  )\r\n","import classNames from 'classnames/bind'\r\nimport * as React from 'react'\r\n\r\nimport { capitalize } from 'src/utils/css'\r\nimport styles from './index.module.scss'\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nclass Block extends React.PureComponent<any> {\r\n  render() {\r\n    const { children, className, justify, margin, padding, ...props } = this.props\r\n\r\n    const paddingStyle = padding ? capitalize(padding, 'padding') : undefined\r\n    return (\r\n      <div className={cx(className, 'block', margin, paddingStyle, justify)} {...props}>\r\n        {children}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Block\r\n","import { lg, md, sm, xl, xs } from 'src/theme/variables'\r\n\r\nexport const getSize = (size) => {\r\n  switch (size) {\r\n    case 'xs':\r\n      return xs\r\n    case 'sm':\r\n      return sm\r\n    case 'md':\r\n      return md\r\n    case 'lg':\r\n      return lg\r\n    case 'xl':\r\n      return xl\r\n    default:\r\n      return '0px'\r\n  }\r\n}\r\n","import * as React from 'react'\r\n\r\nimport { getSize } from 'src/theme/size'\r\nimport { border } from 'src/theme/variables'\r\n\r\nconst calculateStyleFrom = (color, margin) => ({\r\n  width: '100%',\r\n  minHeight: '2px',\r\n  height: '2px',\r\n  backgroundColor: color || border,\r\n  margin: `${getSize(margin)} 0px`,\r\n})\r\n\r\nconst Hairline = ({ className, color, margin, style }: any) => {\r\n  const calculatedStyles = calculateStyleFrom(color, margin)\r\n  const mergedStyles = { ...calculatedStyles, ...(style || {}) }\r\n\r\n  return <div className={className} style={mergedStyles} />\r\n}\r\n\r\nexport default Hairline\r\n","/**\r\n * Setups `shortenText` options\r\n * @param {object} opts\r\n * @param {number} opts.charsStart=10 - characters to preserve from the beginning\r\n * @param {number} opts.charsEnd=10 - characters to preserve at the end\r\n * @param {string} opts.ellipsis='...' - ellipsis characters\r\n * @returns {function} shortener\r\n */\r\nexport const textShortener = ({ charsEnd = 10, charsStart = 10, ellipsis = '...' } = {}) =>\r\n  /**\r\n   * @function\r\n   * @name shortener\r\n   *\r\n   * Shortens a text string based on options\r\n   * @param {string} text=null - String to shorten\r\n   * @param text\r\n   * @returns {string|?string}\r\n   */\r\n  (text = ''): string => {\r\n    const amountOfCharsToKeep = charsEnd + charsStart\r\n    const finalStringLength = amountOfCharsToKeep + ellipsis.length\r\n\r\n    if (finalStringLength >= text.length || !amountOfCharsToKeep) {\r\n      // no need to shorten\r\n      return text\r\n    }\r\n\r\n    const r = new RegExp(`^(.{${charsStart}}).+(.{${charsEnd}})$`)\r\n    const matchResult = r.exec(text)\r\n\r\n    if (!matchResult) {\r\n      // if for any reason the exec returns null, the text remains untouched\r\n      return text\r\n    }\r\n\r\n    const [, textStart, textEnd] = matchResult\r\n\r\n    return `${textStart}${ellipsis}${textEnd}`\r\n  }\r\n\r\n/**\r\n * Util to remove whitespace from both sides of a string.\r\n * @param {string} value\r\n * @returns {string} string without side whitespaces\r\n */\r\nexport const trimSpaces = (value: string): string => (value === undefined ? '' : value.trim())\r\n\r\n/**\r\n * Util to compare two strings, comparison is case insensitive\r\n * @param str1\r\n * @param str2\r\n * @returns {boolean}\r\n */\r\nexport const sameString = (str1: string | undefined, str2: string | undefined): boolean => {\r\n  if (!str1 || !str2) {\r\n    return false\r\n  }\r\n\r\n  return str1.toLowerCase() === str2.toLowerCase()\r\n}\r\n","import { ADDRESS_BOOK_ACTIONS } from 'src/logic/addressBook/store/actions'\r\nimport { enhanceSnackbarForAction, getNotificationsFromTxType } from 'src/logic/notifications'\r\nimport enqueueSnackbar from 'src/logic/notifications/store/actions/enqueueSnackbar'\r\nimport { TX_NOTIFICATION_TYPES } from 'src/logic/safe/transactions'\r\n\r\nconst watchedActions = Object.values(ADDRESS_BOOK_ACTIONS)\r\n\r\nexport const addressBookMiddleware = (store) => (next) => async (action) => {\r\n  const handledAction = next(action)\r\n  if (watchedActions.includes(action.type)) {\r\n    const { dispatch } = store\r\n    switch (action.type) {\r\n      case ADDRESS_BOOK_ACTIONS.ADD_OR_UPDATE: {\r\n        const { shouldAvoidUpdatesNotifications } = action.payload\r\n        if (!shouldAvoidUpdatesNotifications) {\r\n          const notification = getNotificationsFromTxType(TX_NOTIFICATION_TYPES.ADDRESS_BOOK_NEW_ENTRY)\r\n          dispatch(enqueueSnackbar(enhanceSnackbarForAction(notification.afterExecution.noMoreConfirmationsNeeded)))\r\n        }\r\n        break\r\n      }\r\n      case ADDRESS_BOOK_ACTIONS.REMOVE: {\r\n        const notification = getNotificationsFromTxType(TX_NOTIFICATION_TYPES.ADDRESS_BOOK_DELETE_ENTRY)\r\n        dispatch(enqueueSnackbar(enhanceSnackbarForAction(notification.afterExecution.noMoreConfirmationsNeeded)))\r\n        break\r\n      }\r\n      case ADDRESS_BOOK_ACTIONS.IMPORT: {\r\n        const notification = getNotificationsFromTxType(TX_NOTIFICATION_TYPES.ADDRESS_BOOK_IMPORT_ENTRIES)\r\n        dispatch(enqueueSnackbar(enhanceSnackbarForAction(notification.afterExecution.noMoreConfirmationsNeeded)))\r\n        break\r\n      }\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  return handledAction\r\n}\r\n","import { Action, handleActions } from 'redux-actions'\r\n\r\nimport { AddressBookEntry, AddressBookState } from 'src/logic/addressBook/model/addressBook'\r\nimport { ADDRESS_BOOK_ACTIONS } from 'src/logic/addressBook/store/actions'\r\nimport { getEntryIndex, isValidAddressBookName } from 'src/logic/addressBook/utils'\r\nimport { AppReduxState } from 'src/store'\r\n\r\nexport const ADDRESS_BOOK_REDUCER_ID = 'addressBook'\r\n\r\ntype Payloads = AddressBookEntry | AddressBookState\r\n\r\nconst batchLoadEntries = (state, action: Action<AddressBookState>): AddressBookState => {\r\n  const newState = [...state]\r\n  const addressBookEntries = action.payload\r\n  addressBookEntries\r\n    // exclude those entries with invalid name\r\n    .filter(({ name }) => isValidAddressBookName(name))\r\n    .forEach((addressBookEntry) => {\r\n      const entryIndex = getEntryIndex(newState, addressBookEntry)\r\n\r\n      if (entryIndex >= 0) {\r\n        // update\r\n        newState[entryIndex] = addressBookEntry\r\n      } else {\r\n        // add\r\n        newState.push(addressBookEntry)\r\n      }\r\n    })\r\n\r\n  return newState\r\n}\r\nexport default handleActions<AppReduxState['addressBook'], Payloads>(\r\n  {\r\n    [ADDRESS_BOOK_ACTIONS.ADD_OR_UPDATE]: (state, action: Action<AddressBookEntry>) => {\r\n      const newState = [...state]\r\n      const addressBookEntry = action.payload\r\n\r\n      const entryIndex = getEntryIndex(newState, addressBookEntry)\r\n\r\n      // update\r\n      if (entryIndex >= 0) {\r\n        newState[entryIndex] = addressBookEntry\r\n        return newState\r\n      }\r\n\r\n      // add\r\n      return [...newState, addressBookEntry]\r\n    },\r\n    [ADDRESS_BOOK_ACTIONS.REMOVE]: (state, action: Action<AddressBookEntry>) => {\r\n      const newState = [...state]\r\n      const addressBookEntry = action.payload\r\n\r\n      const entryIndex = getEntryIndex(newState, addressBookEntry)\r\n\r\n      if (entryIndex >= 0) {\r\n        newState.splice(entryIndex, 1)\r\n        return newState\r\n      }\r\n\r\n      return newState\r\n    },\r\n    [ADDRESS_BOOK_ACTIONS.SAFE_LOAD]: batchLoadEntries,\r\n    [ADDRESS_BOOK_ACTIONS.IMPORT]: batchLoadEntries,\r\n  },\r\n  [],\r\n)\r\n","import { Action, handleActions } from 'redux-actions'\r\n\r\nimport { LOAD_CURRENT_SESSION } from 'src/logic/currentSession/store/actions/loadCurrentSession'\r\nimport { UPDATE_VIEWED_SAFES } from 'src/logic/currentSession/store/actions/updateViewedSafes'\r\nimport { saveCurrentSessionToStorage } from 'src/logic/currentSession/utils'\r\nimport { AppReduxState } from 'src/store'\r\n\r\nexport const CURRENT_SESSION_REDUCER_ID = 'currentSession'\r\n\r\nexport type CurrentSessionState = {\r\n  viewedSafes: string[]\r\n}\r\n\r\nexport const initialState = {\r\n  viewedSafes: [],\r\n}\r\n\r\ntype CurrentSessionPayloads = CurrentSessionState | string\r\n\r\nexport default handleActions<AppReduxState['currentSession'], CurrentSessionPayloads>(\r\n  {\r\n    [LOAD_CURRENT_SESSION]: (state = initialState, action: Action<CurrentSessionState>) => ({\r\n      ...state,\r\n      ...action.payload,\r\n    }),\r\n    [UPDATE_VIEWED_SAFES]: (state, action: Action<string>) => {\r\n      const safeAddress = action.payload\r\n      const viewedSafes = state.viewedSafes\r\n      const newState = {\r\n        ...state,\r\n        viewedSafes: viewedSafes.includes(safeAddress) ? viewedSafes : [...viewedSafes, safeAddress],\r\n      }\r\n\r\n      saveCurrentSessionToStorage(newState)\r\n\r\n      return newState\r\n    },\r\n  },\r\n  initialState,\r\n)\r\n","import { isStatusAwaitingConfirmation } from 'src/logic/safe/store/models/types/gateway.d'\r\nimport { Transaction as GatewayTransaction } from 'src/logic/safe/store/models/types/gateway'\r\nimport { addressInList } from 'src/routes/safe/components/Transactions/TxList/utils'\r\n\r\nexport const getAwaitingGatewayTransactions = (\r\n  allTransactions: GatewayTransaction[],\r\n  userAccount: string,\r\n): GatewayTransaction[] => {\r\n  return allTransactions.filter((tx) => {\r\n    // The transaction is not executed and is not cancelled, nor pending, so it's still waiting confirmations\r\n    if (isStatusAwaitingConfirmation(tx.txStatus)) {\r\n      // Then we check if the waiting confirmations are not from the current user, otherwise, filters this transaction\r\n      return addressInList(tx.executionInfo?.missingSigners)(userAccount)\r\n    }\r\n\r\n    return false\r\n  })\r\n}\r\n","import { push } from 'connected-react-router'\r\nimport { Action } from 'redux-actions'\r\n\r\nimport { NOTIFICATIONS, enhanceSnackbarForAction } from 'src/logic/notifications'\r\nimport closeSnackbarAction from 'src/logic/notifications/store/actions/closeSnackbar'\r\nimport enqueueSnackbar from 'src/logic/notifications/store/actions/enqueueSnackbar'\r\nimport { getAwaitingGatewayTransactions } from 'src/logic/safe/transactions/awaitingTransactions'\r\nimport { getSafeVersionInfo } from 'src/logic/safe/utils/safeVersion'\r\nimport { isUserAnOwner } from 'src/logic/wallets/ethAddresses'\r\nimport { userAccountSelector } from 'src/logic/wallets/store/selectors'\r\nimport { grantedSelector } from 'src/routes/safe/container/selector'\r\nimport {\r\n  ADD_QUEUED_TRANSACTIONS,\r\n  ADD_HISTORY_TRANSACTIONS,\r\n} from 'src/logic/safe/store/actions/transactions/gatewayTransactions'\r\nimport * as aboutToExecuteTx from 'src/logic/safe/utils/aboutToExecuteTx'\r\nimport { QueuedPayload } from 'src/logic/safe/store/reducer/gatewayTransactions'\r\nimport { safeParamAddressFromStateSelector, safesMapSelector } from 'src/logic/safe/store/selectors'\r\n\r\nimport { isTransactionSummary, TransactionGatewayResult } from 'src/logic/safe/store/models/types/gateway.d'\r\nimport { loadFromStorage, saveToStorage } from 'src/utils/storage'\r\nimport { ADD_OR_UPDATE_SAFE } from '../actions/addOrUpdateSafe'\r\n\r\nconst watchedActions = [ADD_OR_UPDATE_SAFE, ADD_QUEUED_TRANSACTIONS, ADD_HISTORY_TRANSACTIONS]\r\n\r\nconst LAST_TIME_USED_LOGGED_IN_ID = 'LAST_TIME_USED_LOGGED_IN_ID'\r\n\r\nconst sendAwaitingTransactionNotification = async (\r\n  dispatch,\r\n  safeAddress,\r\n  awaitingTxsSubmissionDateList,\r\n  notificationKey,\r\n  notificationClickedCb,\r\n) => {\r\n  if (!dispatch || !safeAddress || !awaitingTxsSubmissionDateList || !notificationKey) {\r\n    return\r\n  }\r\n  if (awaitingTxsSubmissionDateList.length === 0) {\r\n    return\r\n  }\r\n\r\n  let lastTimeUserLoggedInForSafes = (await loadFromStorage<Record<string, string>>(LAST_TIME_USED_LOGGED_IN_ID)) || {}\r\n  const lastTimeUserLoggedIn = lastTimeUserLoggedInForSafes[safeAddress]\r\n    ? lastTimeUserLoggedInForSafes[safeAddress]\r\n    : null\r\n\r\n  const filteredDuplicatedAwaitingTxList = awaitingTxsSubmissionDateList.filter((submissionDate) => {\r\n    return lastTimeUserLoggedIn ? new Date(submissionDate) > new Date(lastTimeUserLoggedIn) : true\r\n  })\r\n\r\n  if (!filteredDuplicatedAwaitingTxList.length) {\r\n    return\r\n  }\r\n\r\n  dispatch(\r\n    enqueueSnackbar(enhanceSnackbarForAction(NOTIFICATIONS.TX_WAITING_MSG, notificationKey, notificationClickedCb)),\r\n  )\r\n\r\n  lastTimeUserLoggedInForSafes = {\r\n    ...lastTimeUserLoggedInForSafes,\r\n    [safeAddress]: new Date(),\r\n  }\r\n  await saveToStorage(LAST_TIME_USED_LOGGED_IN_ID, lastTimeUserLoggedInForSafes)\r\n}\r\n\r\nconst onNotificationClicked = (dispatch, notificationKey, safeAddress) => () => {\r\n  dispatch(closeSnackbarAction({ key: notificationKey }))\r\n  dispatch(push(`/safes/${safeAddress}/transactions`))\r\n}\r\n\r\nconst notificationsMiddleware = (store) => (next) => async (action) => {\r\n  const handledAction = next(action)\r\n  const { dispatch } = store\r\n\r\n  if (watchedActions.includes(action.type)) {\r\n    const state = store.getState()\r\n\r\n    switch (action.type) {\r\n      case ADD_HISTORY_TRANSACTIONS: {\r\n        const userAddress: string = userAccountSelector(state)\r\n        const safes = safesMapSelector(state)\r\n\r\n        const executedTxNotification = aboutToExecuteTx.getNotification(action.payload, userAddress, safes)\r\n        // if we have a notification, dispatch it depending on transaction's status\r\n        executedTxNotification && dispatch(enqueueSnackbar(executedTxNotification))\r\n\r\n        break\r\n      }\r\n      case ADD_QUEUED_TRANSACTIONS: {\r\n        const { safeAddress, values } = (action as Action<QueuedPayload>).payload\r\n        const transactions = values\r\n          .filter((tx) => isTransactionSummary(tx))\r\n          .map((item: TransactionGatewayResult) => item.transaction)\r\n        const userAddress: string = userAccountSelector(state)\r\n        const awaitingTransactions = getAwaitingGatewayTransactions(transactions, userAddress)\r\n\r\n        const awaitingTxsSubmissionDateList = awaitingTransactions.map((tx) => tx.timestamp)\r\n\r\n        const safes = safesMapSelector(state)\r\n        const currentSafe = safes.get(safeAddress)\r\n\r\n        if (!currentSafe || !isUserAnOwner(currentSafe, userAddress) || awaitingTransactions.length === 0) {\r\n          break\r\n        }\r\n\r\n        const notificationKey = `${safeAddress}-awaiting`\r\n\r\n        await sendAwaitingTransactionNotification(\r\n          dispatch,\r\n          safeAddress,\r\n          awaitingTxsSubmissionDateList,\r\n          notificationKey,\r\n          onNotificationClicked(dispatch, notificationKey, safeAddress),\r\n        )\r\n\r\n        break\r\n      }\r\n      case ADD_OR_UPDATE_SAFE: {\r\n        const state = store.getState()\r\n        const { safe } = action.payload\r\n        const currentSafeAddress = safeParamAddressFromStateSelector(state) || safe.address\r\n        if (!currentSafeAddress) {\r\n          break\r\n        }\r\n        const isUserOwner = grantedSelector(state)\r\n        const { needUpdate } = await getSafeVersionInfo(currentSafeAddress)\r\n\r\n        const notificationKey = `${currentSafeAddress}`\r\n        const onNotificationClicked = () => {\r\n          dispatch(closeSnackbarAction({ key: notificationKey }))\r\n          dispatch(push(`/safes/${currentSafeAddress}/settings`))\r\n        }\r\n\r\n        if (needUpdate && isUserOwner) {\r\n          dispatch(\r\n            enqueueSnackbar(\r\n              enhanceSnackbarForAction(\r\n                NOTIFICATIONS.SAFE_NEW_VERSION_AVAILABLE,\r\n                notificationKey,\r\n                onNotificationClicked,\r\n              ),\r\n            ),\r\n          )\r\n        }\r\n        break\r\n      }\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  return handledAction\r\n}\r\n\r\nexport default notificationsMiddleware\r\n","import { Store } from 'redux'\r\n\r\nimport { saveDefaultSafe, saveSafes } from 'src/logic/safe/utils'\r\nimport { REMOVE_SAFE } from 'src/logic/safe/store/actions/removeSafe'\r\nimport { SET_DEFAULT_SAFE } from 'src/logic/safe/store/actions/setDefaultSafe'\r\nimport { UPDATE_SAFE } from 'src/logic/safe/store/actions/updateSafe'\r\nimport { safesMapSelector } from 'src/logic/safe/store/selectors'\r\nimport { SafeRecord } from '../models/safe'\r\n\r\nconst watchedActions = [REMOVE_SAFE, SET_DEFAULT_SAFE, UPDATE_SAFE]\r\n\r\ntype SafeProps = {\r\n  safe: SafeRecord\r\n}\r\n\r\nexport const safeStorageMiddleware = (store: Store) => (\r\n  next: (arg0: { type: string; payload: string | SafeProps | { address: string; name: string } }) => any,\r\n) => async (action: {\r\n  type: string\r\n  payload: string | SafeProps | { name: string; address: string }\r\n}): Promise<any> => {\r\n  const handledAction = next(action)\r\n\r\n  if (watchedActions.includes(action.type)) {\r\n    const state = store.getState()\r\n    const safes = safesMapSelector(state)\r\n    await saveSafes(safes.filter((safe) => !safe.loadedViaUrl).toJSON())\r\n\r\n    switch (action.type) {\r\n      case SET_DEFAULT_SAFE: {\r\n        if (action.payload) {\r\n          saveDefaultSafe(action.payload as string)\r\n        }\r\n        break\r\n      }\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  return handledAction\r\n}\r\n","import { AddressBookEntry, AddressBookState, makeAddressBookEntry } from 'src/logic/addressBook/model/addressBook'\r\nimport { saveSafes, StoredSafes } from 'src/logic/safe/utils'\r\nimport { removeFromStorage } from 'src/utils/storage'\r\nimport { getNetworkName } from 'src/config'\r\nimport { getWeb3 } from 'src/logic/wallets/getWeb3'\r\nimport { Errors, trackError } from 'src/logic/exceptions/CodedException'\r\nimport { getEntryIndex, isValidAddressBookName } from '.'\r\n\r\ninterface StorageConfig {\r\n  states: string[]\r\n  namespace: string\r\n  namespaceSeparator: string\r\n}\r\n\r\n/**\r\n * Migrates the safes names from the Safe Object to the Address Book\r\n *\r\n * Works on the persistence layer, reads from the localStorage and stores back the mutated safe info through immortalDB.\r\n *\r\n * @note If the Safe name is an invalid AB name, it's renamed to \"Migrated from: {safe.name}\"\r\n */\r\nconst migrateSafeNames = ({ states, namespace, namespaceSeparator }: StorageConfig): void => {\r\n  const prefix = `v2_${getNetworkName()}`\r\n  const safesKey = `_immortal|${prefix}__SAFES`\r\n  const storedSafes = localStorage.getItem(safesKey)\r\n\r\n  if (!storedSafes) {\r\n    // nothing left to migrate\r\n    return\r\n  }\r\n\r\n  const parsedStoredSafes = JSON.parse(storedSafes) as Record<string, any>\r\n\r\n  if (Object.entries(parsedStoredSafes).every(([, { name }]) => name === undefined)) {\r\n    // no name key, safes already migrated\r\n    return\r\n  }\r\n\r\n  // make address book entries from the safe names & addresses\r\n  const safeAbEntries: AddressBookState = Object.values(parsedStoredSafes)\r\n    .filter(({ name }) => name && isValidAddressBookName(name))\r\n    .map(({ address, name }) => makeAddressBookEntry({ address, name }))\r\n\r\n  // remove names from the safes in place\r\n  Object.values(parsedStoredSafes).forEach((item) => {\r\n    item.owners = item.owners.map((owner: any) => owner.address)\r\n    delete item.name\r\n    item.loadedViaUrl = false\r\n  })\r\n  const migratedSafes = parsedStoredSafes as StoredSafes\r\n\r\n  const [state] = states\r\n  const addressBookKey = `${namespace}${namespaceSeparator}${state}`\r\n  const storedAddressBook = localStorage.getItem(addressBookKey)\r\n  const addressBookToStore: AddressBookState = storedAddressBook ? JSON.parse(storedAddressBook) : []\r\n\r\n  // mutate `addressBookToStore` by adding safes' information\r\n  safeAbEntries.forEach((entry) => {\r\n    const safeIndex = getEntryIndex(addressBookToStore, entry)\r\n\r\n    if (safeIndex >= 0) {\r\n      // update AB entry with what was stored in the safe object\r\n      addressBookToStore[safeIndex] = entry\r\n    } else {\r\n      // add the safe entry to the AB\r\n      addressBookToStore.push(entry)\r\n    }\r\n  })\r\n\r\n  // store the mutated address book\r\n  localStorage.setItem(addressBookKey, JSON.stringify(addressBookToStore))\r\n\r\n  // update stored safe\r\n  localStorage.setItem(safesKey, JSON.stringify(migratedSafes))\r\n  saveSafes(migratedSafes).then(() => console.info('Safe objects migrated'))\r\n}\r\n\r\n/**\r\n * Migrates the AddressBook from a per-network to a global storage under the key `ADDRESS_BOOK` in `localStorage`\r\n *\r\n *  The migrated structure will be `{ address, name, chainId }`\r\n *\r\n * @note Also, adds `chainId` to every entry in the AddressBook list.\r\n */\r\nconst migrateAddressBook = ({ states, namespace, namespaceSeparator }: StorageConfig): void => {\r\n  const [state] = states\r\n  const prefix = `v2_${getNetworkName()}`\r\n  const newKey = `${namespace}${namespaceSeparator}${state}`\r\n  const oldKey = 'ADDRESS_BOOK_STORAGE_KEY'\r\n  const storageKey = `_immortal|${prefix}__${oldKey}`\r\n\r\n  if (localStorage.getItem(newKey)) {\r\n    // already migrated\r\n    return\r\n  }\r\n\r\n  const storedAddressBook = localStorage.getItem(storageKey)\r\n\r\n  if (!storedAddressBook) {\r\n    // nothing to migrate\r\n    return\r\n  }\r\n\r\n  const parsedAddressBook = JSON.parse(JSON.parse(storedAddressBook as string))\r\n\r\n  const migratedAddressBook = (parsedAddressBook as Omit<AddressBookEntry, 'chainId'>[])\r\n    // exclude those addresses with invalid names and addresses\r\n    .filter((item) => {\r\n      return isValidAddressBookName(item.name) && getWeb3().utils.isAddress(item.address)\r\n    })\r\n    .map(({ address, ...entry }) =>\r\n      makeAddressBookEntry({\r\n        address,\r\n        ...entry,\r\n      }),\r\n    )\r\n\r\n  localStorage.setItem(newKey, JSON.stringify(migratedAddressBook))\r\n\r\n  // Remove the old Address Book storage\r\n  localStorage.removeItem(storageKey)\r\n  removeFromStorage(oldKey).then(() => console.info('Legacy Address Book removed'))\r\n}\r\n\r\nconst migrate = (storageConfig: StorageConfig): void => {\r\n  try {\r\n    migrateAddressBook(storageConfig)\r\n    migrateSafeNames(storageConfig)\r\n  } catch (e) {\r\n    trackError(Errors._200, e.message)\r\n  }\r\n}\r\n\r\nexport default migrate\r\n","import { SET_CURRENT_CURRENCY } from 'src/logic/currencyValues/store/actions/setSelectedCurrency'\r\nimport { saveSelectedCurrency } from 'src/logic/safe/utils/currencyValuesStorage'\r\n\r\nconst watchedActions = [SET_CURRENT_CURRENCY]\r\n\r\nexport const currencyValuesStorageMiddleware = () => (next) => async (action) => {\r\n  const handledAction = next(action)\r\n  if (watchedActions.includes(action.type)) {\r\n    switch (action.type) {\r\n      case SET_CURRENT_CURRENCY: {\r\n        const { selectedCurrency } = action.payload\r\n        await saveSelectedCurrency(selectedCurrency)\r\n        break\r\n      }\r\n\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  return handledAction\r\n}\r\n","import { Map } from 'immutable'\r\nimport { connectRouter, routerMiddleware, RouterState } from 'connected-react-router'\r\nimport { createHashHistory } from 'history'\r\nimport { applyMiddleware, combineReducers, compose, createStore, CombinedState, PreloadedState, Store } from 'redux'\r\nimport { save, load } from 'redux-localstorage-simple'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport { addressBookMiddleware } from 'src/logic/addressBook/store/middleware'\r\nimport addressBook, { ADDRESS_BOOK_REDUCER_ID } from 'src/logic/addressBook/store/reducer'\r\nimport {\r\n  NFT_ASSETS_REDUCER_ID,\r\n  NFT_TOKENS_REDUCER_ID,\r\n  nftAssetReducer,\r\n  nftTokensReducer,\r\n} from 'src/logic/collectibles/store/reducer/collectibles'\r\nimport cookies, { COOKIES_REDUCER_ID } from 'src/logic/cookies/store/reducer/cookies'\r\nimport currentSession, {\r\n  CURRENT_SESSION_REDUCER_ID,\r\n  CurrentSessionState,\r\n} from 'src/logic/currentSession/store/reducer/currentSession'\r\nimport { Notification } from 'src/logic/notifications'\r\nimport notifications, { NOTIFICATIONS_REDUCER_ID } from 'src/logic/notifications/store/reducer/notifications'\r\nimport { StoreStructure } from 'src/logic/safe/store/models/types/gateway'\r\nimport { gatewayTransactions, GATEWAY_TRANSACTIONS_ID } from 'src/logic/safe/store/reducer/gatewayTransactions'\r\nimport tokens, { TOKEN_REDUCER_ID, TokenState } from 'src/logic/tokens/store/reducer/tokens'\r\nimport providerWatcher from 'src/logic/wallets/store/middlewares/providerWatcher'\r\nimport provider, { PROVIDER_REDUCER_ID, ProviderState } from 'src/logic/wallets/store/reducer/provider'\r\nimport notificationsMiddleware from 'src/logic/safe/store/middleware/notificationsMiddleware'\r\nimport { safeStorageMiddleware } from 'src/logic/safe/store/middleware/safeStorage'\r\nimport safe, { SAFE_REDUCER_ID } from 'src/logic/safe/store/reducer/safe'\r\nimport { NFTAssets, NFTTokens } from 'src/logic/collectibles/sources/collectibles.d'\r\nimport { SafeReducerMap } from 'src/routes/safe/store/reducer/types/safe'\r\nimport { AddressBookState } from 'src/logic/addressBook/model/addressBook'\r\nimport migrateAddressBook from 'src/logic/addressBook/utils/v2-migration'\r\nimport currencyValues, {\r\n  CURRENCY_VALUES_KEY,\r\n  CurrencyValuesState,\r\n} from 'src/logic/currencyValues/store/reducer/currencyValues'\r\nimport { currencyValuesStorageMiddleware } from 'src/logic/currencyValues/store/middleware/currencyValuesStorageMiddleware'\r\n\r\nexport const history = createHashHistory()\r\n\r\nconst composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst localStorageConfig = { states: [ADDRESS_BOOK_REDUCER_ID], namespace: 'SAFE', namespaceSeparator: '__' }\r\n\r\nconst finalCreateStore = composeEnhancers(\r\n  applyMiddleware(\r\n    thunk,\r\n    save(localStorageConfig),\r\n    routerMiddleware(history),\r\n    notificationsMiddleware,\r\n    safeStorageMiddleware,\r\n    providerWatcher,\r\n    addressBookMiddleware,\r\n    currencyValuesStorageMiddleware,\r\n  ),\r\n)\r\n\r\nconst reducers = combineReducers({\r\n  router: connectRouter(history),\r\n  [PROVIDER_REDUCER_ID]: provider,\r\n  [SAFE_REDUCER_ID]: safe,\r\n  [NFT_ASSETS_REDUCER_ID]: nftAssetReducer,\r\n  [NFT_TOKENS_REDUCER_ID]: nftTokensReducer,\r\n  [TOKEN_REDUCER_ID]: tokens,\r\n  [GATEWAY_TRANSACTIONS_ID]: gatewayTransactions,\r\n  [NOTIFICATIONS_REDUCER_ID]: notifications,\r\n  [CURRENCY_VALUES_KEY]: currencyValues,\r\n  [COOKIES_REDUCER_ID]: cookies,\r\n  [ADDRESS_BOOK_REDUCER_ID]: addressBook,\r\n  [CURRENT_SESSION_REDUCER_ID]: currentSession,\r\n})\r\n\r\nexport type AppReduxState = CombinedState<{\r\n  [PROVIDER_REDUCER_ID]: ProviderState\r\n  [SAFE_REDUCER_ID]: SafeReducerMap\r\n  [NFT_ASSETS_REDUCER_ID]: NFTAssets\r\n  [NFT_TOKENS_REDUCER_ID]: NFTTokens\r\n  [TOKEN_REDUCER_ID]: TokenState\r\n  [GATEWAY_TRANSACTIONS_ID]: Record<string, StoreStructure>\r\n  [NOTIFICATIONS_REDUCER_ID]: Map<string, Notification>\r\n  [CURRENCY_VALUES_KEY]: CurrencyValuesState\r\n  [COOKIES_REDUCER_ID]: Map<string, any>\r\n  [ADDRESS_BOOK_REDUCER_ID]: AddressBookState\r\n  [CURRENT_SESSION_REDUCER_ID]: CurrentSessionState\r\n  router: RouterState\r\n}>\r\n\r\n// Address Book v2 migration\r\nmigrateAddressBook(localStorageConfig)\r\n\r\nexport const store: any = createStore(reducers, load(localStorageConfig), finalCreateStore)\r\n\r\nexport const aNewStore = (localState?: PreloadedState<unknown>): Store =>\r\n  createStore(reducers, localState, finalCreateStore)\r\n","export default __webpack_public_path__ + \"static/media/alert.7d8d6824.svg\";","export default __webpack_public_path__ + \"static/media/check.bdba8480.svg\";","export default __webpack_public_path__ + \"static/media/error.4d872767.svg\";","export default __webpack_public_path__ + \"static/media/info.a916d2dd.svg\";","import IconButton from '@material-ui/core/IconButton'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport ExpandLess from '@material-ui/icons/ExpandLess'\r\nimport ExpandMore from '@material-ui/icons/ExpandMore'\r\nimport * as React from 'react'\r\n\r\nimport Col from 'src/components/layout/Col'\r\nimport Divider from 'src/components/layout/Divider'\r\nimport { screenSm, sm } from 'src/theme/variables'\r\n\r\nconst styles = () => ({\r\n  root: {\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    height: '100%',\r\n\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      flexBasis: '284px',\r\n      marginRight: '20px',\r\n    },\r\n  },\r\n  provider: {\r\n    alignItems: 'center',\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    flex: '1 1 auto',\r\n    padding: sm,\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      paddingLeft: sm,\r\n      paddingRight: sm,\r\n    },\r\n  },\r\n  expand: {\r\n    height: '30px',\r\n    width: '30px',\r\n  },\r\n})\r\n\r\nclass Provider extends React.Component<any> {\r\n  myRef\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.myRef = React.createRef()\r\n  }\r\n\r\n  render() {\r\n    const { render, classes, info, open, toggle } = this.props\r\n\r\n    return (\r\n      <>\r\n        <div className={classes.root} ref={this.myRef}>\r\n          <Divider />\r\n          <Col className={classes.provider} end=\"sm\" middle=\"xs\" onClick={toggle}>\r\n            {info}\r\n            <IconButton className={classes.expand} disableRipple>\r\n              {open ? <ExpandLess /> : <ExpandMore />}\r\n            </IconButton>\r\n          </Col>\r\n          <Divider />\r\n        </div>\r\n        {render(this.myRef)}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles as any)(Provider)\r\n","import * as React from 'react'\r\n\r\nconst style = {\r\n  flexGrow: 1,\r\n}\r\n\r\n// eslint-disable-next-line react/display-name\r\nexport default ({ className }: any) => <div className={className} style={style} />\r\n","export default __webpack_public_path__ + \"static/media/gnosis-safe-multisig-logo.d5313158.svg\";","import ClickAwayListener from '@material-ui/core/ClickAwayListener'\r\nimport Grow from '@material-ui/core/Grow'\r\nimport List from '@material-ui/core/List'\r\nimport Popper from '@material-ui/core/Popper'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport * as React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Provider from './Provider'\r\n\r\nimport Spacer from 'src/components/Spacer'\r\nimport Col from 'src/components/layout/Col'\r\nimport Img from 'src/components/layout/Img'\r\nimport Row from 'src/components/layout/Row'\r\nimport { headerHeight, md, screenSm, sm } from 'src/theme/variables'\r\nimport { useStateHandler } from 'src/logic/hooks/useStateHandler'\r\n\r\nimport SafeLogo from '../assets/gnosis-safe-multisig-logo.svg'\r\n\r\nconst styles = () => ({\r\n  root: {\r\n    backgroundColor: 'white',\r\n    borderRadius: sm,\r\n    boxShadow: '0 0 10px 0 rgba(33, 48, 77, 0.1)',\r\n    marginTop: '11px',\r\n    minWidth: '280px',\r\n    padding: 0,\r\n  },\r\n  summary: {\r\n    alignItems: 'center',\r\n    backgroundColor: 'white',\r\n    flexWrap: 'nowrap',\r\n    height: headerHeight,\r\n    position: 'fixed',\r\n    width: '100%',\r\n    zIndex: 1301,\r\n  },\r\n  logo: {\r\n    flexBasis: '140px',\r\n    flexShrink: '0',\r\n    flexGrow: '0',\r\n    maxWidth: '55px',\r\n    padding: sm,\r\n    marginTop: '4px',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      maxWidth: 'none',\r\n      paddingLeft: md,\r\n      paddingRight: md,\r\n    },\r\n  },\r\n  popper: {\r\n    zIndex: 2000,\r\n  },\r\n})\r\n\r\nconst Layout = ({ classes, providerDetails, providerInfo }) => {\r\n  const { clickAway, open, toggle } = useStateHandler()\r\n\r\n  return (\r\n    <Row className={classes.summary}>\r\n      <Col className={classes.logo} middle=\"xs\" start=\"xs\">\r\n        <Link to=\"/\">\r\n          <Img alt=\"Gnosis Team Safe\" height={36} src={SafeLogo} testId=\"heading-gnosis-logo\" />\r\n        </Link>\r\n      </Col>\r\n      <Spacer />\r\n      <Provider\r\n        info={providerInfo}\r\n        open={open}\r\n        toggle={toggle}\r\n        render={(providerRef) => (\r\n          <Popper\r\n            anchorEl={providerRef.current}\r\n            className={classes.popper}\r\n            open={open}\r\n            placement=\"bottom\"\r\n            popperOptions={{ positionFixed: true }}\r\n          >\r\n            {({ TransitionProps }) => (\r\n              <Grow {...TransitionProps}>\r\n                <>\r\n                  <ClickAwayListener mouseEvent=\"onClick\" onClickAway={clickAway} touchEvent={false}>\r\n                    <List className={classes.root} component=\"div\">\r\n                      {providerDetails}\r\n                    </List>\r\n                  </ClickAwayListener>\r\n                </>\r\n              </Grow>\r\n            )}\r\n          </Popper>\r\n        )}\r\n      />\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default withStyles(styles as any)(Layout)\r\n","import { useState } from 'react'\r\n\r\ntype ReturnValue = {\r\n  open: boolean\r\n  toggle: () => void\r\n  clickAway: () => void\r\n}\r\n\r\nexport const useStateHandler = (openInitialValue = false): ReturnValue => {\r\n  const [open, setOpen] = useState(openInitialValue)\r\n\r\n  return {\r\n    open,\r\n    toggle: () => setOpen((open) => !open),\r\n    clickAway: () => setOpen(false),\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/key.55d9a376.svg\";","export default __webpack_public_path__ + \"static/media/triangle.bb0bb74f.svg\";","import { createStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Dot from '@material-ui/icons/FiberManualRecord'\r\nimport React, { ReactElement } from 'react'\r\n\r\nimport Block from 'src/components/layout/Block'\r\nimport Img from 'src/components/layout/Img'\r\nimport { border, fancy, screenSm, warning } from 'src/theme/variables'\r\n\r\nimport KeyIcon from '../assets/key.svg'\r\nimport TriangleIcon from '../assets/triangle.svg'\r\n\r\nconst styles = createStyles({\r\n  root: {\r\n    display: 'none',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      display: 'flex',\r\n    },\r\n  },\r\n  dot: {\r\n    position: 'relative',\r\n    backgroundColor: '#ffffff',\r\n    color: fancy,\r\n  },\r\n  key: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: border,\r\n  },\r\n  warning: {\r\n    position: 'relative',\r\n    top: '-2px',\r\n  },\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst buildKeyStyleFrom = (size, center, dotSize) => ({\r\n  width: `${size}px`,\r\n  height: `${size}px`,\r\n  marginLeft: center ? `${dotSize}px` : 'none',\r\n  borderRadius: `${size}px`,\r\n})\r\n\r\nconst buildDotStyleFrom = (size, top, right, mode) => ({\r\n  width: `${size}px`,\r\n  height: `${size}px`,\r\n  borderRadius: `${size}px`,\r\n  top: `${top}px`,\r\n  right: `${right}px`,\r\n  color: mode === 'error' ? fancy : warning,\r\n})\r\n\r\ntype Props = {\r\n  center?: boolean\r\n  circleSize?: number\r\n  dotRight?: number\r\n  dotSize?: number\r\n  dotTop?: number\r\n  hideDot?: boolean\r\n  keySize: number\r\n  mode?: string\r\n}\r\n\r\nexport const KeyRing = ({\r\n  center = false,\r\n  circleSize,\r\n  dotRight,\r\n  dotSize,\r\n  dotTop,\r\n  hideDot = false,\r\n  keySize,\r\n  mode,\r\n}: Props): ReactElement => {\r\n  const classes = useStyles(styles)\r\n  const keyStyle = buildKeyStyleFrom(circleSize, center, dotSize)\r\n  const dotStyle = buildDotStyleFrom(dotSize, dotTop, dotRight, mode)\r\n  const isWarning = mode === 'warning'\r\n  const img = isWarning ? TriangleIcon : KeyIcon\r\n\r\n  return (\r\n    <>\r\n      <Block className={classes.root}>\r\n        <Block className={classes.key} style={keyStyle}>\r\n          <Img\r\n            alt=\"Status connection\"\r\n            className={isWarning ? classes.warning : undefined}\r\n            height={keySize}\r\n            src={img}\r\n            width={isWarning ? keySize + 2 : keySize}\r\n          />\r\n        </Block>\r\n        {!hideDot && <Dot className={classes.dot} style={dotStyle} />}\r\n      </Block>\r\n    </>\r\n  )\r\n}\r\n","import { withStyles } from '@material-ui/core/styles'\r\nimport * as React from 'react'\r\n\r\nimport ConnectButton from 'src/components/ConnectButton'\r\n\r\nimport Block from 'src/components/layout/Block'\r\nimport Paragraph from 'src/components/layout/Paragraph'\r\nimport Row from 'src/components/layout/Row'\r\nimport { KeyRing } from 'src/components/AppLayout/Header/components/KeyRing'\r\nimport { Card } from '@gnosis.pm/safe-react-components'\r\nimport styled from 'styled-components'\r\n\r\nconst styles = () => ({\r\n  logo: {\r\n    justifyContent: 'center',\r\n  },\r\n  text: {\r\n    letterSpacing: '-0.6px',\r\n    flexGrow: 1,\r\n    textAlign: 'center',\r\n  },\r\n  connect: {\r\n    textAlign: 'center',\r\n    marginTop: '60px',\r\n  },\r\n  connectText: {\r\n    letterSpacing: '1px',\r\n  },\r\n  img: {\r\n    margin: '0px 2px',\r\n  },\r\n})\r\n\r\nconst StyledCard = styled(Card)`\r\n  padding: 20px;\r\n`\r\nconst ConnectDetails = ({ classes }) => (\r\n  <StyledCard>\r\n    <Row align=\"center\" margin=\"lg\">\r\n      <Paragraph className={classes.text} noMargin size=\"xl\" weight=\"bolder\">\r\n        Connect a Wallet\r\n      </Paragraph>\r\n    </Row>\r\n\r\n    <Row className={classes.logo}>\r\n      <KeyRing center circleSize={60} dotRight={20} dotSize={20} dotTop={50} keySize={28} mode=\"error\" />\r\n    </Row>\r\n    <Block className={classes.connect}>\r\n      <ConnectButton data-testid=\"heading-connect-btn\" />\r\n    </Block>\r\n  </StyledCard>\r\n)\r\n\r\nexport default withStyles(styles as any)(ConnectDetails)\r\n","import * as React from 'react'\r\nimport { getNetworkInfo } from 'src/config'\r\n\r\ntype Props = {\r\n  className: string\r\n}\r\n\r\nexport const CircleDot = (props: Props): React.ReactElement => {\r\n  const networkInfo = getNetworkInfo()\r\n\r\n  return (\r\n    <div className={props.className}>\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 10 10\">\r\n        <circle\r\n          cx=\"208\"\r\n          cy=\"203\"\r\n          r=\"3\"\r\n          fill=\"none\"\r\n          fillRule=\"evenodd\"\r\n          stroke={networkInfo?.backgroundColor ?? '#FF685E'}\r\n          strokeWidth=\"3\"\r\n          transform=\"translate(-203 -198)\"\r\n        />\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/wallet.5fd5c981.svg\";","import { makeStyles } from '@material-ui/core/styles'\r\nimport Dot from '@material-ui/icons/FiberManualRecord'\r\nimport classNames from 'classnames'\r\nimport * as React from 'react'\r\nimport { EthHashInfo, Identicon, Card } from '@gnosis.pm/safe-react-components'\r\nimport { createStyles } from '@material-ui/core'\r\nimport styled from 'styled-components'\r\n\r\nimport Spacer from 'src/components/Spacer'\r\nimport Block from 'src/components/layout/Block'\r\nimport Button from 'src/components/layout/Button'\r\nimport Hairline from 'src/components/layout/Hairline'\r\nimport Img from 'src/components/layout/Img'\r\nimport Paragraph from 'src/components/layout/Paragraph'\r\nimport Row from 'src/components/layout/Row'\r\nimport { background, connected as connectedBg, lg, md, sm, warning, xs } from 'src/theme/variables'\r\nimport { ETHEREUM_NETWORK } from 'src/config/networks/network.d'\r\nimport { getExplorerInfo } from 'src/config'\r\nimport { KeyRing } from 'src/components/AppLayout/Header/components/KeyRing'\r\nimport { upperFirst } from 'src/utils/css'\r\n\r\nimport { CircleDot } from '../CircleDot'\r\nimport WalletIcon from '../../assets/wallet.svg'\r\n\r\nconst styles = createStyles({\r\n  container: {\r\n    padding: `${md} 12px`,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  identicon: {\r\n    justifyContent: 'center',\r\n    padding: `0 ${md}`,\r\n  },\r\n  user: {\r\n    borderRadius: '3px',\r\n    backgroundColor: background,\r\n    margin: '0 auto',\r\n    padding: '9px',\r\n    lineHeight: 1,\r\n  },\r\n  details: {\r\n    padding: `0 ${md}`,\r\n    height: '20px',\r\n    alignItems: 'center',\r\n  },\r\n  address: {\r\n    flexGrow: 1,\r\n    textAlign: 'center',\r\n    letterSpacing: '-0.5px',\r\n    marginRight: sm,\r\n  },\r\n  labels: {\r\n    fontSize: '12px',\r\n    letterSpacing: '0.5px',\r\n    textTransform: 'capitalize',\r\n  },\r\n  open: {\r\n    paddingLeft: sm,\r\n    width: 'auto',\r\n    '&:hover': {\r\n      cursor: 'pointer',\r\n    },\r\n  },\r\n  disconnect: {\r\n    padding: `${md} ${lg}`,\r\n    '& button': {\r\n      background: '#f02525',\r\n    },\r\n  },\r\n  dashboard: {\r\n    padding: `${md} ${lg} ${xs}`,\r\n  },\r\n  dashboardText: {\r\n    letterSpacing: '1px',\r\n  },\r\n  disconnectText: {\r\n    letterSpacing: '1px',\r\n  },\r\n  logo: {\r\n    margin: `0px ${xs}`,\r\n  },\r\n  dot: {\r\n    marginRight: xs,\r\n    height: '15px',\r\n    width: '15px',\r\n  },\r\n  warning: {\r\n    color: warning,\r\n  },\r\n  connected: {\r\n    color: connectedBg,\r\n  },\r\n})\r\n\r\nconst StyledCard = styled(Card)`\r\n  padding: 0px;\r\n`\r\ntype Props = {\r\n  connected: boolean\r\n  network: ETHEREUM_NETWORK\r\n  onDisconnect: () => void\r\n  openDashboard?: (() => void | null) | boolean\r\n  provider?: string\r\n  userAddress: string\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const UserDetails = ({\r\n  connected,\r\n  network,\r\n  onDisconnect,\r\n  openDashboard,\r\n  provider,\r\n  userAddress,\r\n}: Props): React.ReactElement => {\r\n  const status = connected ? 'Connected' : 'Connection error'\r\n  const color = connected ? 'primary' : 'warning'\r\n  const explorerUrl = getExplorerInfo(userAddress)\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <StyledCard>\r\n      <Block className={classes.container}>\r\n        <Row align=\"center\" className={classes.identicon} margin=\"md\">\r\n          {connected ? (\r\n            <Identicon address={userAddress || 'random'} size=\"xxl\" />\r\n          ) : (\r\n            <KeyRing circleSize={75} dotRight={25} dotSize={25} dotTop={50} hideDot keySize={30} mode=\"warning\" />\r\n          )}\r\n        </Row>\r\n        <Block className={classes.user} justify=\"center\">\r\n          {userAddress ? (\r\n            <EthHashInfo hash={userAddress} showCopyBtn explorerUrl={explorerUrl} shortenHash={4} />\r\n          ) : (\r\n            'Address not available'\r\n          )}\r\n        </Block>\r\n      </Block>\r\n      <Hairline margin=\"xs\" />\r\n      <Row className={classes.details}>\r\n        <Paragraph align=\"right\" className={classes.labels} noMargin>\r\n          Status\r\n        </Paragraph>\r\n        <Spacer />\r\n        <Dot className={classNames(classes.dot, connected ? classes.connected : classes.warning)} />\r\n        <Paragraph align=\"right\" className={classes.labels} color={color} noMargin weight=\"bolder\">\r\n          {status}\r\n        </Paragraph>\r\n      </Row>\r\n      <Hairline margin=\"xs\" />\r\n      <Row className={classes.details}>\r\n        <Paragraph align=\"right\" className={classes.labels} noMargin>\r\n          Wallet\r\n        </Paragraph>\r\n        <Spacer />\r\n        <Img alt=\"Wallet icon\" className={classes.logo} height={14} src={WalletIcon} />\r\n        <Paragraph align=\"right\" className={classes.labels} noMargin weight=\"bolder\">\r\n          {provider}\r\n        </Paragraph>\r\n      </Row>\r\n      <Hairline margin=\"xs\" />\r\n      <Row className={classes.details}>\r\n        <Paragraph align=\"right\" className={classes.labels} noMargin>\r\n          Network\r\n        </Paragraph>\r\n        <Spacer />\r\n        <CircleDot className={classes.logo} />\r\n        <Paragraph align=\"right\" className={classes.labels} noMargin weight=\"bolder\">\r\n          {upperFirst(ETHEREUM_NETWORK[network])}\r\n        </Paragraph>\r\n      </Row>\r\n      <Hairline margin=\"xs\" />\r\n      {openDashboard && (\r\n        <Row className={classes.dashboard}>\r\n          <Button color=\"primary\" fullWidth onClick={openDashboard} size=\"medium\" variant=\"contained\">\r\n            <Paragraph className={classes.dashboardText} color=\"white\" noMargin size=\"md\">\r\n              {provider} Wallet\r\n            </Paragraph>\r\n          </Button>\r\n        </Row>\r\n      )}\r\n      <Row className={classes.disconnect}>\r\n        <Button\r\n          color=\"primary\"\r\n          fullWidth\r\n          onClick={onDisconnect}\r\n          size=\"medium\"\r\n          variant=\"contained\"\r\n          data-testid=\"disconnect-btn\"\r\n        >\r\n          <Paragraph className={classes.disconnectText} color=\"white\" noMargin size=\"lg\">\r\n            Disconnect\r\n          </Paragraph>\r\n        </Button>\r\n      </Row>\r\n    </StyledCard>\r\n  )\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles'\r\nimport * as React from 'react'\r\n\r\nimport Col from 'src/components/layout/Col'\r\nimport Paragraph from 'src/components/layout/Paragraph'\r\nimport { getNetworkInfo } from 'src/config'\r\nimport { border, md, screenSm, sm, xs, fontColor } from 'src/theme/variables'\r\n\r\nconst networkInfo = getNetworkInfo()\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    flexGrow: 0,\r\n    padding: `0 ${sm}`,\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      paddingLeft: md,\r\n      paddingRight: md,\r\n    },\r\n  },\r\n  text: {\r\n    backgroundColor: `${networkInfo?.backgroundColor ?? border}`,\r\n    color: `${networkInfo?.textColor ?? fontColor}`,\r\n    borderRadius: '3px',\r\n    lineHeight: 'normal',\r\n    margin: '0',\r\n    padding: `${xs} ${sm}`,\r\n\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      marginLeft: '8px',\r\n    },\r\n  },\r\n})\r\n\r\nconst NetworkLabel = (): React.ReactElement => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <Col className={classes.container} middle=\"xs\" start=\"xs\">\r\n      <Paragraph className={classes.text} size=\"xs\">\r\n        {networkInfo.label}\r\n      </Paragraph>\r\n    </Col>\r\n  )\r\n}\r\n\r\nexport default NetworkLabel\r\n","export default __webpack_public_path__ + \"static/media/icon-wallet-connect.b9ad2e86.svg\";","export default __webpack_public_path__ + \"static/media/icon-trezor.6bc10388.svg\";","export default __webpack_public_path__ + \"static/media/icon-ledger.ca6f95fc.svg\";","export default __webpack_public_path__ + \"static/media/icon-lattice.d53c1a21.svg\";","export default __webpack_public_path__ + \"static/media/icon-fortmatic.3a2b8586.svg\";","export default __webpack_public_path__ + \"static/media/icon-portis.4020c216.svg\";","export default __webpack_public_path__ + \"static/media/icon-torus.5e86b38a.svg\";","export default __webpack_public_path__ + \"static/media/icon-coinbase.bbfafb04.svg\";","// Icons\r\nimport metamaskIcon from './icon-metamask.png'\r\nimport walletConnectIcon from './icon-wallet-connect.svg'\r\nimport trezorIcon from './icon-trezor.svg'\r\nimport ledgerIcon from './icon-ledger.svg'\r\nimport latticeIcon from './icon-lattice.svg'\r\nimport fortmaticIcon from './icon-fortmatic.svg'\r\nimport portisIcon from './icon-portis.svg'\r\nimport authereumIcon from './icon-authereum.png'\r\nimport torusIcon from './icon-torus.svg'\r\nimport coinbaseIcon from './icon-coinbase.svg'\r\nimport operaIcon from './icon-opera.png'\r\n\r\nimport { WALLET_PROVIDER } from 'src/logic/wallets/getWeb3'\r\n\r\ntype WalletProviderNames = typeof WALLET_PROVIDER[keyof typeof WALLET_PROVIDER]\r\n\r\ninterface IconValue {\r\n  src: string\r\n  height: number\r\n}\r\n\r\ntype WalletObjectsProps<Tvalue> = {\r\n  [key in WalletProviderNames]: Tvalue\r\n}\r\n\r\nconst WALLET_ICONS: WalletObjectsProps<IconValue> = {\r\n  [WALLET_PROVIDER.METAMASK]: {\r\n    src: metamaskIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.WALLETCONNECT]: {\r\n    src: walletConnectIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.TREZOR]: {\r\n    src: trezorIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.LEDGER]: {\r\n    src: ledgerIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.LATTICE]: {\r\n    src: latticeIcon,\r\n    height: 41,\r\n  },\r\n  [WALLET_PROVIDER.FORTMATIC]: {\r\n    src: fortmaticIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.PORTIS]: {\r\n    src: portisIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.AUTHEREUM]: {\r\n    src: authereumIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.TORUS]: {\r\n    src: torusIcon,\r\n    height: 30,\r\n  },\r\n  [WALLET_PROVIDER.OPERA]: {\r\n    src: operaIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.COINBASE_WALLET]: {\r\n    src: coinbaseIcon,\r\n    height: 25,\r\n  },\r\n}\r\n\r\nexport default WALLET_ICONS\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAoCAMAAACl6XjsAAABfVBMVEVHcEx/Rh2ARx2ESiLwiCLMu67cfCagZDOddlJ+Rx7pgiPlfyPshSN/Rxx+Rh2CSB6ASB2JTR7gkkl1SCbQciPUwLLMu6+BSB5/Rx2DSR5+RxzefR3ogCPlfiPGuLHhfiP2jCTvhyN/Rx3nfyPfo2/lfCTIuK7kfyP2jCPkfiPuhSTFtKjogSThfCR/Rx5+Rx3lfiPeeiTDs6koIR2DSh/ifCajWx6qYCDckVOBSR7jfiTyiCOYYTXLcCKpXiHEs6fDs6fCsKYjHBwhHx8iHR0iICB1a2ZyaGIiHyCPTx7ogSTlfyTwhyOASB7ziSTngCTrgyT2jCTthCT1iyPuhCX4jSSESh5/Rx6ITR/+kSTYbyDheSLjfSPBaiPacSDdcyCvYSK0ZCGTVSPGcSblhi/ngSPqgSTdu56mXSDaeSP6jiPmfSD5jSQcGhvimFdqUj/TbSJARUsyQE6tbDLOeyzZx7nayr7hsog7Nza/raDjjUF/VTjFtKhKNCB0amRMd0DeAAAASnRSTlMAe/oOkv4TAwgrpnA9n1n9vkYfHPv+xu2r9mgN6uI4Us5ji/n9Ln7G7pO61/K35ZXYiUji5s21zMnb0/r5aMipm2UkYjSGnPy0/l1QcU4AAALOSURBVHhehdJXXxpNFAbwBYIgoICCIKhgi91ETe/9fZ3ZXui92bvp5bPnzCwzK79c+Fxws3/mOXN2BSe+0Tnh1oBKTI7eqvypSUnaHP4XDIVeRn1cucKSJIUj4wMF6cVgYDr2KsrVXE4imUx6mEmHgoH786ZZ3b3H/usZAWW7R3fsAFFNhCrVwmaKdY4ylZdaqEgjI4yxUm7mpAjvjABjbt/QIIZJ1MF+Pu+eY3MMuwEwl2sfEidiBcdaeUl6yrcEkzks38IWMBnG2gUVTrIljSco4LUNGZxRaeZASW4X63Q5hznHyTGqpAfRwU5+WKGtaxC1SQsSKb+tfOyeTHWRDEyuNGhpf7me5EBjoYowFoEZ+gFx7pH+FYaTA0qBfSG6ErI2KcxZJMxVDhSkS1sV4twuNls0wVi4CYpEJ6yHwXEmpHJ5OxJTGNHhMLjH/BP0uQp2GpTwVhHY+orAExLt9ChxWhFWprYcFihaNKLDegZt7U4FuRpbPtbssONgRNECVjm6wYJFrR+5XK/VavVa9byO4L3qpWqMl/qznGlipV46b5xdturYIK//54sND7sAR3SnlfbZxeVFFYkw3MHV9dIQv8CAQ7qlXl+1kUoO78mMsQvwXiRbh8VjEenEqat9NlvUBmLJol2v6jDe89U0Vb7sDQa7k/UjxZSp04mjpw1ewBBRuV6qVbCCRFmzNNE0rOVZP2EZE9F0u10F10qQsr1hVTQ0WTSs7KwP2NA0wjxlUHWCmJRlo5jNELdlYidQaR92RINRp1P4vfPxnSAszis3XLkMD3Gn8+P0dGHh697e3vdvJyf/f4CrLqm8xFx/+IQ+jH/+QgK/wHbek9ZZwhSkq1MbwUW/f+buRJyIfn79+e/TuGBfomfi6UBmjH3NIL19Ffd6J2YEmhX92UqGbpEHzlzzeuNxL6ht9lmG0g5w5PbrtbWJN2/HyGB/AYd1QUewqrrRAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABtlBMVEVHcEyyDxH8SEj7GSvmGyv/SUn9IDDqFyf/Gy31JzL/Giz+Giy+FRmwChPmJS3cISnyFiqzCBX+S0u4BRerBg7/Gi3/TU39JzO4DhjkNTe0DxP+SUnHFSKvBRT/S0uvCBKuBBKpABWnABTnFCT4GCr+SkvSGSTdECH9SEjVFSTTGSHhNDX/Skr+Giz6Giv5RUWyCBakAwr5GSqtART/SkrKCRz+GSy7DhfaDiHvFynoFCTtFCjxFijSEiPNFyHmEiX+Gyr2Fyr0QkLwP0D0Q0PFGyP/S0qjBQTiLTX/Giy5CBq3CRr/Gy2yDQ/QJyf8GizYKyvLCx7jEybABRvqOjrYDyHaDyLzQEHsFSjLJSXPJibVKSnaMDCrARX/Gi3/TEz+Skr/Gy3/Gy78Giz+Giz/S0v0FyngESPqOTrvFSjhMzSmBgb2Q0T5R0i7FhaxCAvNIyP4GSvBBxq3ExPTDR/AGRnXDiHGChuqCgrrFCfeMDDyQEDUKSruPT6xDw/PCx/oEybJCh3cDyLtFSfHICDYLS3mNzfRJiahAwPwOjrGGh7kEyW1Axe7BRnEHx/NFiTVHyutAhXkSSDHAAAAX3RSTlMADS2/CBtPA/wRruDnKCNXO0q1zd33+UaAkpGlND3cw+tukSnO8c/zYsMemj7Xin0doTL4wtSdsv6w1PTf5J2RePb1vNpomn/obPL+ZWHx77T+1uqgZLDibLPi+YSq5l1x/o4AAAKMSURBVHheddNld+JgEIbhARJCcEuhQEupu7ts3dfdE9Sl6u6y/o8XJkkX+i7X5/s8k5wAFGPNE6qvHKfTLnZTUBLj6NdpAgF/TiDAtbV3l+jUKn++wiy4GokEOa0ZSEatP1dhthpdyyZvbpLZ7YZ2lpjTyVnwLFfJsrYaKPKYk7u4vmt+vsue3EmiHXtFQcYsaqROM/xEATmUxXu0g7JVFua+U3NyN9QJEoXrSGI3gKRGJ3datuCMa10MM14FIEorP19bMxSgBjLrKOMUj6s1fhGnhiIG/WYG6fE4pZIHtQwUc95togsX5DjkQY0DHmjW/0QX+vw79suDtRTx8R+tXKCVWQBWFwihQDsQTCui6w8AZk0omBcKqoFgfHqNDj6yMOEPotAzIxCo+ssD9MkDqpAY+ttYID3fu0R7JtCtikK1DJBaEnso8RkmpTCoAhKUxxLoqgUmI6IS4e0VipXDaETy39Ovb2PotgOGInEUGWWBNL1/iPbV8D5yjuIjNUBQzKT20ZQSukfOd1HcBATlVAqlZ1ighndPUHwcCI1CGgluABjf/YZOXhIPyVh5AfGNAGBuiEqI28o6PpzHV+Y3mLfRMxRtUjwYnMt1GHYA4OTgFhp8w0Ch1vtBWvp5Dm6grTFPYUn3SoNljSBqrt84RhtNxn8l7ZY7NwUST9+LU3Rcb6IxZdhWq3S3zErDPUvftuh0rNyhpGlla0cldjxf1quEAhbbmuTXwrR7zlrJ8/mKD9dZizpgPAOvfojWfsdSaUEIhwUhnXrXQvxBOp22pe+i5buDROzwMJZYaJpVAKnCZavq+SNZXl7Se50GIOF93xebPR/3VNm9XT7MSqSUweKrrq6e91V0MlDkLyDwITNcRd/tAAAAAElFTkSuQmCC\"","import { makeStyles } from '@material-ui/core/styles'\r\nimport * as React from 'react'\r\n\r\nimport Col from 'src/components/layout/Col'\r\nimport Img from 'src/components/layout/Img'\r\nimport WALLET_ICONS from './icons'\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    marginLeft: '5px',\r\n    marginRight: '10px',\r\n    letterSpacing: '-0.5px',\r\n  },\r\n  icon: {\r\n    maxWidth: 'none',\r\n  },\r\n})\r\n\r\ninterface WalletIconProps {\r\n  provider: string\r\n}\r\n\r\nconst WalletIcon = ({ provider }: WalletIconProps): React.ReactElement => {\r\n  const classes = useStyles()\r\n  return (\r\n    <Col className={classes.container} layout=\"column\" start=\"sm\">\r\n      <Img\r\n        alt={provider}\r\n        className={classes.icon}\r\n        height={WALLET_ICONS[provider].height}\r\n        src={WALLET_ICONS[provider].src}\r\n      />\r\n    </Col>\r\n  )\r\n}\r\n\r\nexport default WalletIcon\r\n","import { makeStyles } from '@material-ui/core/styles'\r\nimport * as React from 'react'\r\nimport { EthHashInfo, Text } from '@gnosis.pm/safe-react-components'\r\n\r\nimport NetworkLabel from '../NetworkLabel'\r\nimport Col from 'src/components/layout/Col'\r\nimport Paragraph from 'src/components/layout/Paragraph'\r\nimport WalletIcon from '../WalletIcon'\r\nimport { connected as connectedBg, screenSm, sm } from 'src/theme/variables'\r\nimport { KeyRing } from 'src/components/AppLayout/Header/components/KeyRing'\r\n\r\nconst useStyles = makeStyles({\r\n  network: {\r\n    fontFamily: 'Averta, sans-serif',\r\n  },\r\n  networkLabel: {\r\n    '& div': {\r\n      paddingRight: sm,\r\n      paddingLeft: sm,\r\n    },\r\n  },\r\n  identicon: {\r\n    display: 'none',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  dot: {\r\n    backgroundColor: '#fff',\r\n    borderRadius: '15px',\r\n    color: connectedBg,\r\n    display: 'none',\r\n    height: '15px',\r\n    position: 'relative',\r\n    right: '10px',\r\n    top: '12px',\r\n    width: '15px',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  providerContainer: {\r\n    display: 'flex',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    width: '100px',\r\n  },\r\n  account: {\r\n    alignItems: 'start',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    flexGrow: 1,\r\n    justifyContent: 'left',\r\n    paddingRight: sm,\r\n  },\r\n  address: {\r\n    marginLeft: '5px',\r\n    letterSpacing: '-0.5px',\r\n  },\r\n})\r\n\r\ninterface ProviderInfoProps {\r\n  connected: boolean\r\n  provider: string\r\n  // TODO: [xDai] Review. This may cause some issues with EthHashInfo.\r\n  userAddress: string\r\n}\r\n\r\nconst ProviderInfo = ({ connected, provider, userAddress }: ProviderInfoProps): React.ReactElement => {\r\n  const classes = useStyles()\r\n  const addressColor = connected ? 'text' : 'warning'\r\n  return (\r\n    <>\r\n      {!connected && <KeyRing circleSize={35} dotRight={11} dotSize={16} dotTop={24} keySize={14} mode=\"warning\" />}\r\n      <WalletIcon provider={provider.toUpperCase()} />\r\n      <Col className={classes.account} layout=\"column\" start=\"sm\">\r\n        <Paragraph\r\n          className={classes.network}\r\n          noMargin\r\n          size=\"xs\"\r\n          transform=\"capitalize\"\r\n          weight=\"bolder\"\r\n          data-testid=\"connected-wallet\"\r\n        >\r\n          {provider}\r\n        </Paragraph>\r\n        <div className={classes.providerContainer}>\r\n          {connected ? (\r\n            <EthHashInfo\r\n              hash={userAddress}\r\n              shortenHash={4}\r\n              showAvatar\r\n              avatarSize=\"xs\"\r\n              textColor={addressColor}\r\n              textSize=\"sm\"\r\n            />\r\n          ) : (\r\n            <Text size=\"md\" color={addressColor}>\r\n              Connection Error\r\n            </Text>\r\n          )}\r\n\r\n          {/* <Paragraph className={classes.address} color={color} noMargin size=\"xs\">\r\n            {cutAddress}\r\n          </Paragraph> */}\r\n        </div>\r\n      </Col>\r\n      <Col className={classes.networkLabel} layout=\"column\" start=\"sm\">\r\n        <NetworkLabel />\r\n      </Col>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProviderInfo\r\n","import { withStyles } from '@material-ui/core/styles'\r\nimport * as React from 'react'\r\n\r\nimport Col from 'src/components/layout/Col'\r\nimport Paragraph from 'src/components/layout/Paragraph'\r\nimport { sm } from 'src/theme/variables'\r\nimport { KeyRing } from 'src/components/AppLayout/Header/components/KeyRing'\r\n\r\nconst styles = () => ({\r\n  network: {\r\n    fontFamily: 'Averta, sans-serif',\r\n  },\r\n  account: {\r\n    alignItems: 'start',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    flexGrow: 1,\r\n    justifyContent: 'center',\r\n    paddingRight: sm,\r\n  },\r\n  connect: {\r\n    letterSpacing: '-0.5px',\r\n    whiteSpace: 'nowrap',\r\n  },\r\n})\r\n\r\nconst ProviderDisconnected = ({ classes }) => (\r\n  <>\r\n    <KeyRing circleSize={35} dotRight={11} dotSize={16} dotTop={24} keySize={17} mode=\"error\" />\r\n    <Col className={classes.account} end=\"sm\" layout=\"column\" middle=\"xs\">\r\n      <Paragraph\r\n        className={classes.network}\r\n        noMargin\r\n        size=\"sm\"\r\n        transform=\"capitalize\"\r\n        weight=\"bold\"\r\n        data-testid=\"not-connected-wallet\"\r\n      >\r\n        Not Connected\r\n      </Paragraph>\r\n      <Paragraph className={classes.connect} color=\"fancy\" noMargin size=\"sm\">\r\n        Connect Wallet\r\n      </Paragraph>\r\n    </Col>\r\n  </>\r\n)\r\n\r\nexport default withStyles(styles as any)(ProviderDisconnected)\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport Layout from './components/Layout'\r\nimport ConnectDetails from './components/ProviderDetails/ConnectDetails'\r\nimport { UserDetails } from './components/ProviderDetails/UserDetails'\r\nimport ProviderAccessible from './components/ProviderInfo/ProviderAccessible'\r\nimport ProviderDisconnected from './components/ProviderInfo/ProviderDisconnected'\r\nimport {\r\n  availableSelector,\r\n  loadedSelector,\r\n  networkSelector,\r\n  providerNameSelector,\r\n  userAccountSelector,\r\n} from 'src/logic/wallets/store/selectors'\r\nimport { removeProvider } from 'src/logic/wallets/store/actions'\r\n\r\nimport { onboard } from 'src/components/ConnectButton'\r\nimport { loadLastUsedProvider } from 'src/logic/wallets/store/middlewares/providerWatcher'\r\n\r\nconst HeaderComponent = (): React.ReactElement => {\r\n  const provider = useSelector(providerNameSelector)\r\n  const userAddress = useSelector(userAccountSelector)\r\n  const network = useSelector(networkSelector)\r\n  const loaded = useSelector(loadedSelector)\r\n  const available = useSelector(availableSelector)\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    const tryToConnectToLastUsedProvider = async () => {\r\n      const lastUsedProvider = await loadLastUsedProvider()\r\n      if (lastUsedProvider) {\r\n        const hasSelectedWallet = await onboard.walletSelect(lastUsedProvider)\r\n        if (hasSelectedWallet) {\r\n          await onboard.walletCheck()\r\n        }\r\n      }\r\n    }\r\n\r\n    tryToConnectToLastUsedProvider()\r\n  }, [])\r\n\r\n  const openDashboard = () => {\r\n    const { wallet } = onboard.getState()\r\n    return wallet.type === 'sdk' && wallet.dashboard\r\n  }\r\n\r\n  const onDisconnect = () => {\r\n    dispatch(removeProvider())\r\n  }\r\n\r\n  const getProviderInfoBased = () => {\r\n    if (!loaded || !provider) {\r\n      return <ProviderDisconnected />\r\n    }\r\n\r\n    return <ProviderAccessible connected={available} provider={provider} userAddress={userAddress} />\r\n  }\r\n\r\n  const getProviderDetailsBased = () => {\r\n    if (!loaded) {\r\n      return <ConnectDetails />\r\n    }\r\n\r\n    return (\r\n      <UserDetails\r\n        connected={available}\r\n        network={network}\r\n        onDisconnect={onDisconnect}\r\n        openDashboard={openDashboard()}\r\n        provider={provider}\r\n        userAddress={userAddress}\r\n      />\r\n    )\r\n  }\r\n\r\n  const info = getProviderInfoBased()\r\n  const details = getProviderDetailsBased()\r\n\r\n  return <Layout providerDetails={details} providerInfo={info} />\r\n}\r\n\r\nexport default HeaderComponent\r\n","import { makeStyles } from '@material-ui/core/styles'\r\nimport cn from 'classnames'\r\nimport * as React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport GnoButtonLink from 'src/components/layout/ButtonLink'\r\nimport Link from 'src/components/layout/Link'\r\nimport { openCookieBanner } from 'src/logic/cookies/store/actions/openCookieBanner'\r\nimport { screenSm, secondary, sm } from 'src/theme/variables'\r\n\r\nconst useStyles = makeStyles({\r\n  footer: {\r\n    boxSizing: 'border-box',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    flexShrink: '1',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    margin: '0 auto',\r\n    maxWidth: '100%',\r\n    padding: `20px ${sm} 20px`,\r\n    width: `${screenSm}px`,\r\n  },\r\n  item: {\r\n    color: 'rgba(0, 0, 0, 0.54)',\r\n    fontSize: '13px',\r\n  },\r\n  link: {\r\n    color: secondary,\r\n    textDecoration: 'none',\r\n\r\n    '&:hover': {\r\n      textDecoration: 'underline',\r\n    },\r\n  },\r\n  sep: {\r\n    color: 'rgba(0, 0, 0, 0.54)',\r\n    margin: '0 10px',\r\n  },\r\n  buttonLink: {\r\n    padding: '0',\r\n  },\r\n} as any)\r\n\r\nconst appVersion = process.env.REACT_APP_APP_VERSION ? `v${process.env.REACT_APP_APP_VERSION} ` : 'Versions'\r\n\r\nconst Footer = (): React.ReactElement => {\r\n  const date = new Date()\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n\r\n  const openCookiesHandler = () => {\r\n    dispatch(openCookieBanner({ cookieBannerOpen: true }))\r\n  }\r\n\r\n  return (\r\n    <footer className={classes.footer}>\r\n      <span className={classes.item}>©{date.getFullYear()} Gnosis</span>\r\n      <span className={classes.sep}>|</span>\r\n      <Link className={cn(classes.item, classes.link)} target=\"_blank\" to=\"https://gnosis-safe.io/terms\">\r\n        Terms\r\n      </Link>\r\n      <span className={classes.sep}>|</span>\r\n      <Link className={cn(classes.item, classes.link)} target=\"_blank\" to=\"https://gnosis-safe.io/privacy\">\r\n        Privacy\r\n      </Link>\r\n      <span className={classes.sep}>|</span>\r\n      <Link className={cn(classes.item, classes.link)} target=\"_blank\" to=\"https://gnosis-safe.io/licenses\">\r\n        Licenses\r\n      </Link>\r\n      <span className={classes.sep}>|</span>\r\n      <Link className={cn(classes.item, classes.link)} target=\"_blank\" to=\"https://gnosis-safe.io/imprint\">\r\n        Imprint\r\n      </Link>\r\n      <span className={classes.sep}>|</span>\r\n      <Link className={cn(classes.item, classes.link)} target=\"_blank\" to=\"https://gnosis-safe.io/cookie\">\r\n        Cookie Policy\r\n      </Link>\r\n      <span className={classes.sep}>-</span>\r\n      <GnoButtonLink className={cn(classes.item, classes.link, classes.buttonLink)} onClick={openCookiesHandler}>\r\n        Preferences\r\n      </GnoButtonLink>\r\n      <span className={classes.sep}>|</span>\r\n      <Link\r\n        className={cn(classes.item, classes.link)}\r\n        target=\"_blank\"\r\n        to=\"https://github.com/gnosis/safe-react/releases\"\r\n      >\r\n        {appVersion}\r\n      </Link>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\r\n\r\nimport ListMui from '@material-ui/core/List'\r\nimport ListItem, { ListItemProps } from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Collapse from '@material-ui/core/Collapse'\r\nimport { FixedIcon } from '@gnosis.pm/safe-react-components'\r\n\r\nconst StyledListItem = styled(ListItem)<ListItemProps>`\r\n  &.MuiButtonBase-root.MuiListItem-root {\r\n    margin: 4px 0;\r\n  }\r\n\r\n  &.MuiListItem-button:hover {\r\n    border-radius: 8px;\r\n  }\r\n\r\n  &.MuiListItem-root.Mui-selected {\r\n    background-color: ${({ theme }) => theme.colors.background};\r\n    border-radius: 8px;\r\n    color: ${({ theme }) => theme.colors.primary};\r\n    span {\r\n      color: ${({ theme }) => theme.colors.primary};\r\n    }\r\n    .icon-color {\r\n      fill: ${({ theme }) => theme.colors.primary};\r\n    }\r\n  }\r\n`\r\n\r\nconst StyledListSubItem = styled(ListItem)<ListItemProps>`\r\n  &.MuiButtonBase-root.MuiListItem-root {\r\n    color: ${({ theme }) => theme.colors.text};\r\n  }\r\n\r\n  &.MuiButtonBase-root.MuiListItem-root.Mui-selected {\r\n    color: ${({ theme }) => theme.colors.primary};\r\n  }\r\n`\r\n\r\nconst StyledListItemText = styled(ListItemText)`\r\n  span {\r\n    font-family: ${({ theme }) => theme.fonts.fontFamily};\r\n    font-size: 0.76em;\r\n    font-weight: 600;\r\n    line-height: 1.5;\r\n    letter-spacing: 1px;\r\n    color: ${({ theme }) => theme.colors.placeHolder};\r\n    text-transform: uppercase;\r\n  }\r\n`\r\n\r\nconst StyledListSubItemText = styled(ListItemText)`\r\n  span {\r\n    text-transform: none;\r\n    font-weight: 400;\r\n    font-size: 0.85em;\r\n    letter-spacing: 0px;\r\n    color: ${({ theme }) => theme.colors.secondary};\r\n    font-family: ${({ theme }) => theme.fonts.fontFamily};\r\n  }\r\n`\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: '100%',\r\n      maxWidth: 200,\r\n      backgroundColor: theme.palette.background.paper,\r\n      overflowX: 'auto',\r\n      margin: '8px 0 -4px 0',\r\n      '&::-webkit-scrollbar': {\r\n        width: '0.5em',\r\n      },\r\n      '&::-webkit-scrollbar-track': {\r\n        boxShadow: 'inset 0 0 6px rgba(0, 0, 0, 0.3)',\r\n        webkitBoxShadow: 'inset 0 0 6px rgba(0, 0, 0, 0.3)',\r\n        borderRadius: '20px',\r\n      },\r\n      '&::-webkit-scrollbar-thumb': {\r\n        backgroundColor: 'darkgrey',\r\n        outline: '1px solid #dadada',\r\n        borderRadius: '20px',\r\n      },\r\n    },\r\n    nested: {\r\n      paddingLeft: theme.spacing(3),\r\n    },\r\n  }),\r\n)\r\n\r\nexport type ListItemType = {\r\n  label: string\r\n  href: string\r\n  icon?: React.ReactNode\r\n  selected?: boolean\r\n  subItems?: ListItemType[]\r\n}\r\n\r\ntype Props = {\r\n  items: ListItemType[]\r\n}\r\n\r\nconst List = ({ items }: Props): React.ReactElement => {\r\n  const classes = useStyles()\r\n  const [groupCollapseStatus, setGroupCollapseStatus] = useState({})\r\n\r\n  const onItemClick = (item: ListItemType) => {\r\n    if (item.subItems) {\r\n      const cp = { ...groupCollapseStatus }\r\n      cp[item.label] = cp[item.label] ? false : true\r\n      setGroupCollapseStatus(cp)\r\n    }\r\n  }\r\n\r\n  const isSubItemSelected = (item: ListItemType): boolean => {\r\n    const res = item.subItems?.find((subItem) => subItem.selected)\r\n    return res !== undefined\r\n  }\r\n\r\n  const getListItem = (item: ListItemType, isSubItem = true) => {\r\n    const onClick = () => onItemClick(item)\r\n\r\n    const ListItemAux = isSubItem ? StyledListSubItem : StyledListItem\r\n    const ListItemTextAux = isSubItem ? StyledListSubItemText : StyledListItemText\r\n\r\n    return (\r\n      <ListItemAux\r\n        button\r\n        // For some reason when wrapping a MUI component with styled() component prop gets lost in types\r\n        // But this prop is totally valid\r\n        // eslint-disable-next-line\r\n        // @ts-ignore\r\n        component={Link}\r\n        to={item.href}\r\n        key={item.label}\r\n        onClick={onClick}\r\n        selected={item.selected || isSubItemSelected(item)}\r\n      >\r\n        {item.icon && item.icon}\r\n\r\n        <ListItemTextAux primary={item.label} />\r\n\r\n        {item.subItems &&\r\n          (groupCollapseStatus[item.label] ? <FixedIcon type=\"chevronUp\" /> : <FixedIcon type=\"chevronDown\" />)}\r\n      </ListItemAux>\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(groupCollapseStatus).length) {\r\n      return\r\n    }\r\n\r\n    items.forEach((i) => {\r\n      if (isSubItemSelected(i)) {\r\n        setGroupCollapseStatus({ ...groupCollapseStatus, ...{ [i.label]: true } })\r\n      }\r\n    })\r\n  }, [groupCollapseStatus, items])\r\n\r\n  return (\r\n    <ListMui component=\"nav\" aria-labelledby=\"nested-list-subheader\" className={classes.root}>\r\n      {items.map((i) => (\r\n        <div key={i.label}>\r\n          {getListItem(i, false)}\r\n          {i.subItems && (\r\n            <Collapse in={groupCollapseStatus[i.label]} timeout=\"auto\" unmountOnExit>\r\n              <ListMui component=\"div\" disablePadding>\r\n                {i.subItems.map((subItem) => getListItem(subItem))}\r\n              </ListMui>\r\n            </Collapse>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </ListMui>\r\n  )\r\n}\r\n\r\nexport default List\r\n","import React from 'react'\r\n\r\n// This component is used to create an empty div element to use inside a flex container.\r\n// It can be added into a flex component and use to justify content leaving space around with easier alignment rules.\r\nconst FlexSpacer = (): React.ReactElement => <div></div>\r\n\r\nexport default FlexSpacer\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport {\r\n  Icon,\r\n  FixedIcon,\r\n  EthHashInfo,\r\n  Text,\r\n  Identicon,\r\n  Button,\r\n  CopyToClipboardBtn,\r\n  ExplorerButton,\r\n} from '@gnosis.pm/safe-react-components'\r\n\r\nimport FlexSpacer from 'src/components/FlexSpacer'\r\nimport { getExplorerInfo, getNetworkInfo } from 'src/config'\r\nimport { NetworkSettings } from 'src/config/networks/network.d'\r\nimport { border, fontColor } from 'src/theme/variables'\r\n\r\nexport const TOGGLE_SIDEBAR_BTN_TESTID = 'TOGGLE_SIDEBAR_BTN'\r\n\r\nconst Container = styled.div`\r\n  max-width: 200px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst IdenticonContainer = styled.div`\r\n  width: 100%;\r\n  margin: 8px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  div:first-of-type {\r\n    width: 32px;\r\n  }\r\n`\r\n\r\nconst IconContainer = styled.div`\r\n  width: 100px;\r\n  display: flex;\r\n  padding: 8px 0;\r\n  justify-content: space-evenly;\r\n`\r\nconst StyledButton = styled(Button)`\r\n  &&.MuiButton-root {\r\n    padding: 0 12px;\r\n  }\r\n  *:first-child {\r\n    margin: 0 4px 0 0;\r\n  }\r\n`\r\n\r\ntype StyledTextLabelProps = {\r\n  networkInfo: NetworkSettings\r\n}\r\n\r\nconst StyledTextLabel = styled(Text)`\r\n  margin: -8px 0 4px -8px;\r\n  padding: 4px 8px;\r\n  width: 100%;\r\n  text-align: center;\r\n  color: ${(props: StyledTextLabelProps) => props.networkInfo?.textColor ?? fontColor};\r\n  background-color: ${(props: StyledTextLabelProps) => props.networkInfo?.backgroundColor ?? border};\r\n`\r\nconst StyledEthHashInfo = styled(EthHashInfo)`\r\n  p {\r\n    color: ${({ theme }) => theme.colors.placeHolder};\r\n    font-size: 14px;\r\n  }\r\n`\r\n\r\nconst StyledLabel = styled.div`\r\n  background-color: ${({ theme }) => theme.colors.icon};\r\n  margin: 8px 0 0 0 !important;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  letter-spacing: 1px;\r\n  p {\r\n    line-height: 18px;\r\n  }\r\n`\r\nconst StyledText = styled(Text)`\r\n  margin: 8px 0 16px 0;\r\n`\r\nconst UnStyledButton = styled.button`\r\n  background: none;\r\n  color: inherit;\r\n  border: none;\r\n  padding: 0;\r\n  font: inherit;\r\n  cursor: pointer;\r\n  outline-color: ${({ theme }) => theme.colors.separator};\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\ntype Props = {\r\n  address: string | undefined\r\n  safeName: string | undefined\r\n  granted: boolean\r\n  balance: string | undefined\r\n  onToggleSafeList: () => void\r\n  onReceiveClick: () => void\r\n  onNewTransactionClick: () => void\r\n}\r\n\r\nconst SafeHeader = ({\r\n  address,\r\n  safeName,\r\n  balance,\r\n  granted,\r\n  onToggleSafeList,\r\n  onReceiveClick,\r\n  onNewTransactionClick,\r\n}: Props): React.ReactElement => {\r\n  if (!address) {\r\n    return (\r\n      <Container>\r\n        <IdenticonContainer>\r\n          <FlexSpacer />\r\n          <FixedIcon type=\"notConnected\" />\r\n          <UnStyledButton onClick={onToggleSafeList} data-testid={TOGGLE_SIDEBAR_BTN_TESTID}>\r\n            <Icon size=\"md\" type=\"circleDropdown\" />\r\n          </UnStyledButton>\r\n        </IdenticonContainer>\r\n      </Container>\r\n    )\r\n  }\r\n  const explorerUrl = getExplorerInfo(address)\r\n  const networkInfo = getNetworkInfo()\r\n\r\n  return (\r\n    <>\r\n      {/* Network */}\r\n      <StyledTextLabel size=\"sm\" networkInfo={networkInfo}>\r\n        {networkInfo.label}\r\n      </StyledTextLabel>\r\n\r\n      <Container>\r\n        {/* Identicon */}\r\n        <IdenticonContainer>\r\n          <FlexSpacer />\r\n          <Identicon address={address} size=\"lg\" />\r\n          <UnStyledButton onClick={onToggleSafeList} data-testid={TOGGLE_SIDEBAR_BTN_TESTID}>\r\n            <Icon size=\"md\" type=\"circleDropdown\" />\r\n          </UnStyledButton>\r\n        </IdenticonContainer>\r\n\r\n        {/* SafeInfo */}\r\n        <Text size=\"xl\">{safeName}</Text>\r\n        <StyledEthHashInfo hash={address} shortenHash={4} textSize=\"sm\" />\r\n        <IconContainer>\r\n          <UnStyledButton onClick={onReceiveClick}>\r\n            <Icon size=\"sm\" type=\"qrCode\" tooltip=\"Show QR\" />\r\n          </UnStyledButton>\r\n          <CopyToClipboardBtn textToCopy={address} />\r\n          <ExplorerButton explorerUrl={explorerUrl} />\r\n        </IconContainer>\r\n\r\n        {granted ? null : (\r\n          <StyledLabel>\r\n            <Text size=\"sm\" color=\"white\">\r\n              READ ONLY\r\n            </Text>\r\n          </StyledLabel>\r\n        )}\r\n\r\n        <StyledText size=\"xl\">{balance}</StyledText>\r\n        <StyledButton size=\"md\" disabled={!granted} color=\"primary\" variant=\"contained\" onClick={onNewTransactionClick}>\r\n          <FixedIcon type=\"arrowSentWhite\" />\r\n          <Text size=\"xl\" color=\"white\">\r\n            New transaction\r\n          </Text>\r\n        </StyledButton>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SafeHeader\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Divider, IconText } from '@gnosis.pm/safe-react-components'\r\n\r\nimport List, { ListItemType } from 'src/components/List'\r\nimport SafeHeader from './SafeHeader'\r\n\r\nconst StyledDivider = styled(Divider)`\r\n  margin: 16px -8px 0;\r\n`\r\n\r\nconst HelpContainer = styled.div`\r\n  margin-top: auto;\r\n`\r\n\r\nconst HelpCenterLink = styled.a`\r\n  height: 30px;\r\n  width: 166px;\r\n  padding: 6px 0 8px 16px;\r\n  margin: 14px 0px;\r\n  text-decoration: none;\r\n  display: block;\r\n\r\n  &:hover {\r\n    border-radius: 8px;\r\n    background-color: ${({ theme }) => theme.colors.background};\r\n    box-sizing: content-box;\r\n  }\r\n  p {\r\n    font-family: ${({ theme }) => theme.fonts.fontFamily};\r\n    font-size: 0.76em;\r\n    font-weight: 600;\r\n    line-height: 1.5;\r\n    letter-spacing: 1px;\r\n    color: ${({ theme }) => theme.colors.placeHolder};\r\n    text-transform: uppercase;\r\n    padding: 0 0 0 4px;\r\n  }\r\n`\r\ntype Props = {\r\n  safeAddress?: string\r\n  safeName?: string\r\n  balance?: string\r\n  granted: boolean\r\n  onToggleSafeList: () => void\r\n  onReceiveClick: () => void\r\n  onNewTransactionClick: () => void\r\n  items: ListItemType[]\r\n}\r\n\r\nconst Sidebar = ({\r\n  items,\r\n  balance,\r\n  safeAddress,\r\n  safeName,\r\n  granted,\r\n  onToggleSafeList,\r\n  onReceiveClick,\r\n  onNewTransactionClick,\r\n}: Props): React.ReactElement => (\r\n  <>\r\n    <SafeHeader\r\n      address={safeAddress}\r\n      safeName={safeName}\r\n      granted={granted}\r\n      balance={balance}\r\n      onToggleSafeList={onToggleSafeList}\r\n      onReceiveClick={onReceiveClick}\r\n      onNewTransactionClick={onNewTransactionClick}\r\n    />\r\n\r\n    {items.length ? (\r\n      <>\r\n        <StyledDivider />\r\n        <List items={items} />\r\n      </>\r\n    ) : null}\r\n\r\n    <HelpContainer>\r\n      <StyledDivider />\r\n      <HelpCenterLink href=\"https://help.gnosis-safe.io/en/\" target=\"_blank\" title=\"Help Center of Gnosis Safe\">\r\n        <IconText text=\"HELP CENTER\" iconSize=\"md\" textSize=\"md\" color=\"placeHolder\" iconType=\"question\" />\r\n      </HelpCenterLink>\r\n    </HelpContainer>\r\n  </>\r\n)\r\n\r\nexport default Sidebar\r\n","export default __webpack_public_path__ + \"static/media/phone@2x.dedd873c.png\";","import { Button, Text, Card, Icon } from '@gnosis.pm/safe-react-components'\r\nimport { fade } from '@material-ui/core/styles/colorManipulator'\r\nimport styled from 'styled-components'\r\nimport React, { ReactElement } from 'react'\r\nimport { MobileView } from 'react-device-detect'\r\n\r\nimport Phone from 'src/components/AppLayout/MobileStart/assets/phone@2x.png'\r\n\r\nconst Overlay = styled.div`\r\n  display: block;\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: ${({ theme }) => fade(theme.colors.overlay.color, 0.75)};\r\n  z-index: 2147483009; /* on top of Intercom Button */\r\n`\r\n\r\nconst ModalApp = styled.div`\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  bottom: 0;\r\n  width: 100vw;\r\n  height: 260px;\r\n  background-color: ${({ theme }) => theme.colors.background};\r\n  box-shadow: 1px 2px 10px rgba(40, 54, 61, 0.18);\r\n  z-index: 2147483004; /* on top of Intercom Button */\r\n  padding: 20px 16px 0 16px;\r\n`\r\n\r\nconst StyledCard = styled(Card)`\r\n  background-color: #fdfdfd;\r\n  /*   width: 45vw; */\r\n  min-width: 245px;\r\n  height: 220px;\r\n  padding: 24px 58px 24px 24px;\r\n  box-sizing: border-box;\r\n  box-shadow: none;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  flex-direction: column;\r\n\r\n  @media (max-width: 340px) {\r\n    padding: 16px;\r\n    min-width: 215px;\r\n  }\r\n`\r\nconst StyledImg = styled.img`\r\n  margin: 24px -81px 0 -58px;\r\n  z-index: 1;\r\n  width: 45%;\r\n  height: auto;\r\n  object-fit: cover;\r\n\r\n  @media (max-width: 340px) {\r\n    display: none;\r\n  }\r\n\r\n  @media (min-width: 430px) {\r\n    width: 30%;\r\n  }\r\n\r\n  @media (min-width: 720px) {\r\n    width: 25%;\r\n  }\r\n\r\n  @media (min-width: 800px) {\r\n    width: 20%;\r\n  }\r\n`\r\n\r\nconst StyledCloseIcon = styled(Icon)`\r\n  margin: 0 34px;\r\n  width: 24px;\r\n  height: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  &:hover {\r\n    background: ${({ theme }) => theme.colors.separator};\r\n    border-radius: 16px;\r\n    padding: 4px;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  @media (max-width: 340px) {\r\n    margin: 8px 34px 0 16px;\r\n  }\r\n`\r\nconst StyledButton = styled(Button)`\r\n  background-color: transparent;\r\n  min-width: 0;\r\n\r\n  :hover {\r\n    background-color: transparent;\r\n  }\r\n`\r\n\r\nconst StyledLink = styled.a`\r\n  text-decoration: none;\r\n`\r\n\r\ntype Props = {\r\n  onClose: () => void\r\n}\r\n\r\nexport const MobileNotSupported = ({ onClose }: Props): ReactElement => {\r\n  return (\r\n    <MobileView>\r\n      <Overlay>\r\n        <ModalApp>\r\n          <StyledCard>\r\n            <Text size=\"lg\">The Gnosis Safe web app is not optimized for mobile.</Text>\r\n            <Text size=\"lg\">Get the mobile app for a better experience.</Text>\r\n            <Button size=\"md\" color=\"primary\" variant=\"contained\">\r\n              <StyledLink target=\"_blank\" href=\"https://gnosis-safe.io/#mobile\" rel=\"noopener noreferrer\">\r\n                <Text color=\"white\" size=\"xl\">\r\n                  Get the App\r\n                </Text>\r\n              </StyledLink>\r\n            </Button>\r\n          </StyledCard>\r\n\r\n          <StyledImg src={Phone} alt=\"Phone\" />\r\n          <StyledButton size=\"md\" variant=\"outlined\" color=\"primary\" onClick={onClose}>\r\n            <StyledCloseIcon size=\"md\" type=\"cross\" />\r\n          </StyledButton>\r\n        </ModalApp>\r\n      </Overlay>\r\n    </MobileView>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { ListItemType } from 'src/components/List'\r\n\r\nimport Header from './Header'\r\nimport Footer from './Footer'\r\nimport Sidebar from './Sidebar'\r\nimport { MobileNotSupported } from './MobileNotSupported'\r\n\r\nconst Container = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  background-color: ${({ theme }) => theme.colors.background};\r\n`\r\n\r\nconst HeaderWrapper = styled.nav`\r\n  height: 52px;\r\n  width: 100%;\r\n  z-index: 2;\r\n\r\n  background-color: white;\r\n  box-shadow: 0 2px 4px 0 rgba(40, 54, 61, 0.18);\r\n`\r\n\r\nconst BodyWrapper = styled.div`\r\n  height: calc(100% - 52px);\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\nconst SidebarWrapper = styled.aside`\r\n  height: 100%;\r\n  width: 200px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  z-index: 1;\r\n\r\n  padding: 8px 8px 0 8px;\r\n  background-color: ${({ theme }) => theme.colors.white};\r\n  box-shadow: 0 2px 4px 0 rgba(40, 54, 61, 0.18);\r\n`\r\n\r\nconst ContentWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow-x: auto;\r\n\r\n  padding: 0 16px;\r\n\r\n  > :nth-child(1) {\r\n    flex-grow: 1;\r\n    width: 100%;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  > :nth-child(2) {\r\n    width: 100%;\r\n    height: 59px;\r\n  }\r\n`\r\n\r\ntype Props = {\r\n  sidebarItems: ListItemType[]\r\n  safeAddress: string | undefined\r\n  safeName: string | undefined\r\n  balance: string | undefined\r\n  granted: boolean\r\n  onToggleSafeList: () => void\r\n  onReceiveClick: () => void\r\n  onNewTransactionClick: () => void\r\n}\r\n\r\nconst Layout: React.FC<Props> = ({\r\n  balance,\r\n  safeAddress,\r\n  safeName,\r\n  granted,\r\n  onToggleSafeList,\r\n  onReceiveClick,\r\n  onNewTransactionClick,\r\n  children,\r\n  sidebarItems,\r\n}): React.ReactElement => {\r\n  const [mobileNotSupportedClosed, setMobileNotSupportedClosed] = useState(false)\r\n\r\n  const closeMobileNotSupported = () => setMobileNotSupportedClosed(true)\r\n\r\n  return (\r\n    <Container>\r\n      <HeaderWrapper>\r\n        <Header />\r\n      </HeaderWrapper>\r\n      <BodyWrapper>\r\n        <SidebarWrapper data-testid=\"sidebar\">\r\n          <Sidebar\r\n            items={sidebarItems}\r\n            safeAddress={safeAddress}\r\n            safeName={safeName}\r\n            balance={balance}\r\n            granted={granted}\r\n            onToggleSafeList={onToggleSafeList}\r\n            onReceiveClick={onReceiveClick}\r\n            onNewTransactionClick={onNewTransactionClick}\r\n          />\r\n        </SidebarWrapper>\r\n        <ContentWrapper>\r\n          <div>{children}</div>\r\n          <Footer />\r\n        </ContentWrapper>\r\n      </BodyWrapper>\r\n\r\n      {!mobileNotSupportedClosed && <MobileNotSupported onClose={closeMobileNotSupported} />}\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Layout\r\n","export default __webpack_public_path__ + \"static/media/shape.246db31f.svg\";","import { makeStyles } from '@material-ui/core/styles'\r\nimport * as React from 'react'\r\n\r\nimport HomeIcon from 'src/assets/icons/shape.svg'\r\nimport Block from 'src/components/layout/Block'\r\nimport Img from 'src/components/layout/Img'\r\nimport Paragraph from 'src/components/layout/Paragraph'\r\nimport { md, primary, secondaryBackground } from 'src/theme/variables'\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    background: secondaryBackground,\r\n    padding: '5px',\r\n    boxSizing: 'border-box',\r\n    width: '76px',\r\n    justifyContent: 'space-around',\r\n    marginLeft: md,\r\n    color: '#fff',\r\n    borderRadius: '3px',\r\n  },\r\n  defaultText: {\r\n    color: primary,\r\n  },\r\n})\r\n\r\nconst DefaultBadge = (): React.ReactElement => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <Block className={classes.container} justify=\"left\">\r\n      <Img alt=\"Home Icon\" src={HomeIcon} />\r\n      <Paragraph className={classes.defaultText} noMargin size=\"xs\">\r\n        Default\r\n      </Paragraph>\r\n    </Block>\r\n  )\r\n}\r\n\r\nexport default DefaultBadge\r\n","import { ButtonLink, EthHashInfo, Text } from '@gnosis.pm/safe-react-components'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport React, { ReactElement } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport styled from 'styled-components'\r\n\r\nimport { safeNameSelector } from 'src/logic/safe/store/selectors'\r\nimport { formatAmount } from 'src/logic/tokens/utils/formatAmount'\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\nimport DefaultBadge from './DefaultBadge'\r\nimport { SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\nimport { DefaultSafe } from 'src/routes/safe/store/reducer/types/safe'\r\nimport setDefaultSafe from 'src/logic/safe/store/actions/setDefaultSafe'\r\nimport { getNetworkInfo } from 'src/config'\r\n\r\nconst StyledButtonLink = styled(ButtonLink)`\r\n  visibility: hidden;\r\n  white-space: nowrap;\r\n`\r\nconst useStyles = makeStyles({\r\n  wrapper: {\r\n    display: 'flex',\r\n    padding: '5px 0',\r\n    width: '100%',\r\n    justifyContent: 'space-between',\r\n    '& > nth-child(2)': {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n    },\r\n  },\r\n  addressDetails: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    width: '175px',\r\n    '& div': {\r\n      marginLeft: '0px',\r\n      padding: '5px 20px',\r\n      '& img': {\r\n        marginRight: '5px',\r\n      },\r\n      '& p': {\r\n        marginTop: '3px',\r\n      },\r\n    },\r\n  },\r\n})\r\n\r\ntype Props = {\r\n  safe: SafeRecordProps\r\n  defaultSafe: DefaultSafe\r\n}\r\n\r\nconst { nativeCoin } = getNetworkInfo()\r\n\r\nexport const AddressWrapper = ({ safe, defaultSafe }: Props): ReactElement => {\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n  const safeName = useSelector((state) => safeNameSelector(state, safe.address))\r\n\r\n  const setDefaultSafeAction = (safeAddress: string) => {\r\n    dispatch(setDefaultSafe(safeAddress))\r\n  }\r\n\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <EthHashInfo hash={safe.address} name={safeName} showAvatar shortenHash={4} />\r\n\r\n      <div className={classes.addressDetails}>\r\n        <Text size=\"xl\">{`${formatAmount(safe.ethBalance)} ${nativeCoin.name}`}</Text>\r\n        {sameAddress(defaultSafe, safe.address) ? (\r\n          <DefaultBadge />\r\n        ) : (\r\n          <StyledButtonLink\r\n            className=\"safeListMakeDefaultButton\"\r\n            textSize=\"sm\"\r\n            onClick={() => {\r\n              setDefaultSafeAction(safe.address)\r\n            }}\r\n            color=\"primary\"\r\n          >\r\n            Make default\r\n          </StyledButtonLink>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import MuiList from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Icon } from '@gnosis.pm/safe-react-components'\r\nimport * as React from 'react'\r\nimport styled from 'styled-components'\r\nimport { SafeRecord } from 'src/logic/safe/store/models/safe'\r\nimport { DefaultSafe } from 'src/routes/safe/store/reducer/types/safe'\r\nimport Hairline from 'src/components/layout/Hairline'\r\nimport Link from 'src/components/layout/Link'\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\nimport { SAFELIST_ADDRESS } from 'src/routes/routes'\r\nimport { AddressWrapper } from 'src/components/SafeListSidebar/SafeList/AddressWrapper'\r\nexport const SIDEBAR_SAFELIST_ROW_TESTID = 'SIDEBAR_SAFELIST_ROW_TESTID'\r\n\r\nconst StyledIcon = styled(Icon)`\r\n  margin-right: 4px;\r\n`\r\n\r\nconst useStyles = makeStyles({\r\n  list: {\r\n    height: '100%',\r\n    overflowX: 'hidden',\r\n    overflowY: 'auto',\r\n    padding: 0,\r\n  },\r\n  listItemRoot: {\r\n    paddingTop: 0,\r\n    paddingBottom: 0,\r\n    '&:hover .safeListMakeDefaultButton': {\r\n      visibility: 'initial',\r\n    },\r\n    '&:focus .safeListMakeDefaultButton': {\r\n      visibility: 'initial',\r\n    },\r\n  },\r\n  noIcon: {\r\n    visibility: 'hidden',\r\n    width: '28px',\r\n  },\r\n})\r\n\r\ntype Props = {\r\n  currentSafe: string | undefined\r\n  defaultSafe: DefaultSafe\r\n  safes: SafeRecord[]\r\n  onSafeClick: () => void\r\n}\r\n\r\nexport const SafeList = ({ currentSafe, defaultSafe, onSafeClick, safes }: Props): React.ReactElement => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <MuiList className={classes.list}>\r\n      {safes.map((safe) => (\r\n        <React.Fragment key={safe.address}>\r\n          <Link\r\n            data-testid={SIDEBAR_SAFELIST_ROW_TESTID}\r\n            onClick={onSafeClick}\r\n            to={`${SAFELIST_ADDRESS}/${safe.address}/balances`}\r\n          >\r\n            <ListItem classes={{ root: classes.listItemRoot }}>\r\n              {sameAddress(currentSafe, safe.address) ? (\r\n                <StyledIcon type=\"check\" size=\"md\" color=\"primary\" />\r\n              ) : (\r\n                <div className={classes.noIcon}>placeholder</div>\r\n              )}\r\n              <AddressWrapper safe={safe} defaultSafe={defaultSafe} />\r\n            </ListItem>\r\n          </Link>\r\n          <Hairline />\r\n        </React.Fragment>\r\n      ))}\r\n    </MuiList>\r\n  )\r\n}\r\n","import { createSelector } from 'reselect'\r\n\r\nimport { safesListWithAddressBookNameSelector } from 'src/logic/safe/store/selectors'\r\n\r\n/**\r\n * Sort safe list by the name in the address book\r\n */\r\nexport const sortedSafeListSelector = createSelector([safesListWithAddressBookNameSelector], (safes) =>\r\n  safes.sort((a, b) => (a.name.toLowerCase() > b.name.toLowerCase() ? 1 : -1)),\r\n)\r\n","import { makeStyles } from '@material-ui/core/styles'\r\n\r\nimport { headerHeight, md, mediumFontSize, screenSm, secondaryText, xs } from 'src/theme/variables'\r\n\r\nconst sidebarWidth = '400px'\r\nconst sidebarMarginLeft = '12px'\r\nconst sidebarMarginTop = '12px'\r\nconst sidebarMarginBottom = '12px'\r\nconst sidebarBorderRadius = '8px'\r\n\r\nconst useSidebarStyles = makeStyles({\r\n  sidebar: {\r\n    borderRadius: sidebarBorderRadius,\r\n    marginLeft: sidebarMarginLeft,\r\n    top: sidebarMarginTop,\r\n    width: sidebarWidth,\r\n  },\r\n  sidebarPaper: {\r\n    borderRadius: sidebarBorderRadius,\r\n    marginLeft: sidebarMarginLeft,\r\n    maxHeight: `calc(100vh - ${headerHeight} - ${sidebarMarginTop} - ${sidebarMarginBottom})`,\r\n    top: `calc(${headerHeight} + ${sidebarMarginTop})`,\r\n    width: sidebarWidth,\r\n    maxWidth: `calc(100% - ${sidebarMarginLeft} - ${sidebarMarginLeft})`,\r\n\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      maxWidth: 'none',\r\n    },\r\n  },\r\n  topComponents: {\r\n    alignItems: 'center',\r\n    flexFlow: 'column',\r\n    paddingBottom: '30px',\r\n\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      flexFlow: 'row',\r\n      paddingBottom: '0',\r\n    },\r\n  },\r\n  searchWrapper: {\r\n    width: '100%',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      width: 'auto',\r\n    },\r\n  },\r\n  divider: {\r\n    display: 'none',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  spacer: {\r\n    display: 'none',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  headerPlaceholder: {\r\n    minHeight: headerHeight,\r\n  },\r\n  addSafeBtn: {\r\n    fontSize: mediumFontSize,\r\n  },\r\n  searchIcon: {\r\n    color: secondaryText,\r\n    paddingLeft: md,\r\n  },\r\n  searchInput: {\r\n    backgroundColor: 'transparent',\r\n    lineHeight: 'initial',\r\n    padding: 0,\r\n    '& > input::placeholder': {\r\n      letterSpacing: '-0.5px',\r\n      fontSize: mediumFontSize,\r\n      color: 'black',\r\n    },\r\n    '& > input': {\r\n      letterSpacing: '-0.5px',\r\n    },\r\n  },\r\n  searchContainer: {\r\n    flexGrow: '1',\r\n    marginLeft: xs,\r\n    marginRight: xs,\r\n    minWidth: '190px',\r\n  },\r\n  searchRoot: {\r\n    letterSpacing: '-0.5px',\r\n    border: 'none',\r\n    boxShadow: 'none',\r\n    flexGrow: '1',\r\n    '& > button': {\r\n      display: 'none',\r\n    },\r\n  },\r\n  searchIconInput: {\r\n    '&:hover': {\r\n      backgroundColor: 'transparent !important',\r\n    },\r\n  },\r\n} as any)\r\n\r\nexport default useSidebarStyles\r\n","import React, { useEffect, useMemo, useState, ReactElement } from 'react'\r\nimport Drawer from '@material-ui/core/Drawer'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport SearchBar from 'material-ui-search-bar'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport { SafeList } from './SafeList'\r\nimport { sortedSafeListSelector } from './selectors'\r\nimport useSidebarStyles from './style'\r\n\r\nimport Spacer from 'src/components/Spacer'\r\nimport Button from 'src/components/layout/Button'\r\nimport Divider from 'src/components/layout/Divider'\r\nimport Hairline from 'src/components/layout/Hairline'\r\nimport Link from 'src/components/layout/Link'\r\nimport Row from 'src/components/layout/Row'\r\nimport { WELCOME_ADDRESS } from 'src/routes/routes'\r\nimport { useAnalytics, SAFE_NAVIGATION_EVENT } from 'src/utils/googleAnalytics'\r\n\r\nimport { defaultSafeSelector, safeParamAddressFromStateSelector } from 'src/logic/safe/store/selectors'\r\n\r\nexport const SafeListSidebarContext = React.createContext({\r\n  isOpen: false,\r\n  toggleSidebar: () => {},\r\n})\r\n\r\nconst filterBy = (filter, safes) =>\r\n  safes.filter(\r\n    (safe) =>\r\n      !filter ||\r\n      safe.address.toLowerCase().includes(filter.toLowerCase()) ||\r\n      safe.name.toLowerCase().includes(filter.toLowerCase()),\r\n  )\r\n\r\ntype Props = {\r\n  children: ReactElement\r\n}\r\n\r\nexport const SafeListSidebar = ({ children }: Props): ReactElement => {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [filter, setFilter] = useState('')\r\n  const safes = useSelector(sortedSafeListSelector)\r\n  const defaultSafe = useSelector(defaultSafeSelector)\r\n  const currentSafe = useSelector(safeParamAddressFromStateSelector)\r\n\r\n  const classes = useSidebarStyles()\r\n  const { trackEvent } = useAnalytics()\r\n\r\n  const searchClasses = {\r\n    input: classes.searchInput,\r\n    root: classes.searchRoot,\r\n    iconButton: classes.searchIconInput,\r\n    searchContainer: classes.searchContainer,\r\n  }\r\n\r\n  const toggleSidebar = () => {\r\n    if (!isOpen) {\r\n      trackEvent({ category: SAFE_NAVIGATION_EVENT, action: 'Safe List Sidebar' })\r\n    }\r\n    setIsOpen((prevIsOpen) => !prevIsOpen)\r\n  }\r\n\r\n  const handleFilterChange = (value) => {\r\n    setFilter(value)\r\n  }\r\n\r\n  const handleFilterCancel = () => {\r\n    setFilter('')\r\n  }\r\n\r\n  const handleEsc = (e) => {\r\n    if (e.keyCode === 27) {\r\n      toggleSidebar()\r\n    }\r\n  }\r\n\r\n  const filteredSafes = useMemo(() => filterBy(filter, safes), [safes, filter])\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setFilter('')\r\n    }, 300)\r\n  }, [isOpen])\r\n\r\n  return (\r\n    <SafeListSidebarContext.Provider value={{ isOpen, toggleSidebar }}>\r\n      <Drawer\r\n        classes={{ paper: classes.sidebarPaper }}\r\n        className={classes.sidebar}\r\n        ModalProps={{ onBackdropClick: toggleSidebar }}\r\n        onKeyDown={handleEsc}\r\n        open={isOpen}\r\n      >\r\n        <Row align=\"center\" className={classes.topComponents}>\r\n          <Row align=\"center\" className={classes.searchWrapper}>\r\n            <SearchIcon className={classes.searchIcon} />\r\n            <SearchBar\r\n              classes={searchClasses}\r\n              onCancelSearch={handleFilterCancel}\r\n              onChange={handleFilterChange}\r\n              placeholder=\"Search by name or address\"\r\n              searchIcon={<div />}\r\n              value={filter}\r\n            />\r\n          </Row>\r\n          <Divider className={classes.divider} />\r\n          <Spacer className={classes.spacer} />\r\n          <Button\r\n            className={classes.addSafeBtn}\r\n            color=\"primary\"\r\n            component={Link}\r\n            onClick={toggleSidebar}\r\n            size=\"small\"\r\n            to={WELCOME_ADDRESS}\r\n            variant=\"contained\"\r\n          >\r\n            + Add Safe\r\n          </Button>\r\n          <Spacer />\r\n        </Row>\r\n        <Hairline />\r\n        <SafeList\r\n          currentSafe={currentSafe}\r\n          defaultSafe={defaultSafe}\r\n          onSafeClick={toggleSidebar}\r\n          safes={filteredSafes}\r\n        />\r\n      </Drawer>\r\n      {children}\r\n    </SafeListSidebarContext.Provider>\r\n  )\r\n}\r\n","import { COOKIES_REDUCER_ID } from 'src/logic/cookies/store/reducer/cookies'\r\n\r\nexport const cookieBannerOpen = (state) => state[COOKIES_REDUCER_ID].get('cookieBannerOpen')\r\n","import { INTERCOM_ID } from 'src/utils/constants'\r\n\r\nlet intercomLoaded = false\r\n\r\nexport const isIntercomLoaded = () => intercomLoaded\r\n\r\n// eslint-disable-next-line consistent-return\r\nexport const loadIntercom = (): void => {\r\n  const APP_ID = INTERCOM_ID\r\n  if (!APP_ID) {\r\n    console.error('[Intercom] - In order to use Intercom you need to add an appID')\r\n    return\r\n  }\r\n  const d = document\r\n  const s = d.createElement('script')\r\n  s.type = 'text/javascript'\r\n  s.async = true\r\n  s.src = `https://widget.intercom.io/widget/${APP_ID}`\r\n  const x = d.getElementsByTagName('script')[0]\r\n  x?.parentNode?.insertBefore(s, x)\r\n\r\n  s.onload = () => {\r\n    ;(window as any).Intercom('boot', {\r\n      app_id: APP_ID,\r\n      consent: true,\r\n    })\r\n    intercomLoaded = true\r\n  }\r\n}\r\n\r\nexport const closeIntercom = (): void => {\r\n  if (!isIntercomLoaded()) return\r\n  intercomLoaded = false\r\n  ;(window as any).Intercom('shutdown')\r\n}\r\n","export default __webpack_public_path__ + \"static/media/alert-red.a0f19886.svg\";","export default __webpack_public_path__ + \"static/media/intercom.ef3dfd38.png\";","import Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport React, { ReactElement, useEffect, useRef, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Button from 'src/components/layout/Button'\r\nimport Link from 'src/components/layout/Link'\r\nimport { COOKIES_KEY } from 'src/logic/cookies/model/cookie'\r\nimport { openCookieBanner } from 'src/logic/cookies/store/actions/openCookieBanner'\r\nimport { cookieBannerOpen } from 'src/logic/cookies/store/selectors'\r\nimport { loadFromCookie, saveCookie } from 'src/logic/cookies/utils'\r\nimport { mainFontFamily, md, primary, screenSm } from 'src/theme/variables'\r\nimport { loadGoogleAnalytics, removeCookies } from 'src/utils/googleAnalytics'\r\nimport { closeIntercom, isIntercomLoaded, loadIntercom } from 'src/utils/intercom'\r\nimport AlertRedIcon from './assets/alert-red.svg'\r\nimport IntercomIcon from './assets/intercom.png'\r\n\r\nconst isDesktop = process.env.REACT_APP_BUILD_FOR_DESKTOP\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    backgroundColor: '#fff',\r\n    bottom: '0',\r\n    boxShadow: '1px 2px 10px 0 rgba(40, 54, 61, 0.18)',\r\n    boxSizing: 'border-box',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    left: '0',\r\n    minHeight: '200px',\r\n    padding: '30px 15px 45px',\r\n    position: 'fixed',\r\n    width: '100%',\r\n    zIndex: '999',\r\n  },\r\n  content: {\r\n    maxWidth: '100%',\r\n  },\r\n  text: {\r\n    color: primary,\r\n    fontFamily: mainFontFamily,\r\n    fontSize: md,\r\n    fontWeight: 'normal',\r\n    lineHeight: '1.38',\r\n    margin: '0 auto 35px',\r\n    textAlign: 'center',\r\n    maxWidth: '810px',\r\n  },\r\n  form: {\r\n    columnGap: '20px',\r\n    display: 'grid',\r\n    gridTemplateColumns: '1fr',\r\n    paddingBottom: '50px',\r\n    rowGap: '15px',\r\n    margin: '0 auto',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      gridTemplateColumns: '1fr 1fr 1fr 1fr 1fr',\r\n      paddingBottom: '0',\r\n      rowGap: '5px',\r\n    },\r\n  },\r\n  formItem: {\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n  },\r\n  link: {\r\n    textDecoration: 'underline',\r\n    '&:hover': {\r\n      textDecoration: 'none',\r\n    },\r\n  },\r\n  intercomAlert: {\r\n    fontWeight: 'bold',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    padding: '0 0 13px 0',\r\n    svg: {\r\n      marginRight: '5px',\r\n    },\r\n  },\r\n  intercomImage: {\r\n    position: 'fixed',\r\n    cursor: 'pointer',\r\n    height: '80px',\r\n    width: '80px',\r\n    bottom: '8px',\r\n    right: '10px',\r\n    zIndex: '1000',\r\n    boxShadow: '1px 2px 10px 0 var(rgba(40, 54, 61, 0.18))',\r\n  },\r\n} as any)\r\n\r\ninterface CookiesBannerFormProps {\r\n  alertMessage: boolean\r\n}\r\n\r\nconst CookiesBanner = (): ReactElement => {\r\n  const classes = useStyles()\r\n  const dispatch = useRef(useDispatch())\r\n\r\n  const [showAnalytics, setShowAnalytics] = useState(false)\r\n  const [showIntercom, setShowIntercom] = useState(false)\r\n  const [localNecessary, setLocalNecessary] = useState(true)\r\n  const [localAnalytics, setLocalAnalytics] = useState(false)\r\n  const [localIntercom, setLocalIntercom] = useState(false)\r\n\r\n  const showBanner = useSelector(cookieBannerOpen)\r\n\r\n  useEffect(() => {\r\n    async function fetchCookiesFromStorage() {\r\n      const cookiesState = await loadFromCookie(COOKIES_KEY)\r\n      if (!cookiesState) {\r\n        dispatch.current(openCookieBanner({ cookieBannerOpen: true }))\r\n      } else {\r\n        const { acceptedIntercom, acceptedAnalytics, acceptedNecessary } = cookiesState\r\n        if (acceptedIntercom === undefined) {\r\n          const newState = {\r\n            acceptedNecessary,\r\n            acceptedAnalytics,\r\n            acceptedIntercom: acceptedAnalytics,\r\n          }\r\n          const expDays = acceptedAnalytics ? 365 : 7\r\n          await saveCookie(COOKIES_KEY, newState, expDays)\r\n          setLocalIntercom(newState.acceptedIntercom)\r\n          setShowIntercom(newState.acceptedIntercom)\r\n        } else {\r\n          setLocalIntercom(acceptedIntercom)\r\n          setShowIntercom(acceptedIntercom)\r\n        }\r\n        setLocalAnalytics(acceptedAnalytics)\r\n        setLocalNecessary(acceptedNecessary)\r\n\r\n        if (acceptedAnalytics && !isDesktop) {\r\n          loadGoogleAnalytics()\r\n        }\r\n      }\r\n    }\r\n    fetchCookiesFromStorage()\r\n  }, [showAnalytics, showIntercom])\r\n\r\n  const acceptCookiesHandler = async () => {\r\n    const newState = {\r\n      acceptedNecessary: true,\r\n      acceptedAnalytics: !isDesktop,\r\n      acceptedIntercom: true,\r\n    }\r\n    await saveCookie(COOKIES_KEY, newState, 365)\r\n    setShowAnalytics(!isDesktop)\r\n    setShowIntercom(true)\r\n    dispatch.current(openCookieBanner({ cookieBannerOpen: false }))\r\n  }\r\n\r\n  const closeCookiesBannerHandler = async () => {\r\n    const newState = {\r\n      acceptedNecessary: true,\r\n      acceptedAnalytics: localAnalytics,\r\n      acceptedIntercom: localIntercom,\r\n    }\r\n    const expDays = localAnalytics ? 365 : 7\r\n    await saveCookie(COOKIES_KEY, newState, expDays)\r\n    setShowAnalytics(localAnalytics)\r\n    setShowIntercom(localIntercom)\r\n\r\n    if (!localAnalytics) {\r\n      removeCookies()\r\n    }\r\n\r\n    if (!localIntercom && isIntercomLoaded()) {\r\n      closeIntercom()\r\n    }\r\n    dispatch.current(openCookieBanner({ cookieBannerOpen: false }))\r\n  }\r\n\r\n  if (showIntercom) {\r\n    loadIntercom()\r\n  }\r\n\r\n  const CookiesBannerForm = (props: CookiesBannerFormProps) => {\r\n    const { alertMessage } = props\r\n    return (\r\n      <div className={classes.container}>\r\n        <div className={classes.content}>\r\n          {alertMessage && (\r\n            <div className={classes.intercomAlert}>\r\n              <img src={AlertRedIcon} />\r\n              You attempted to open the customer support chat. Please accept the customer support cookie.\r\n            </div>\r\n          )}\r\n          <p className={classes.text}>\r\n            We use cookies to provide you with the best experience and to help improve our website and application.\r\n            Please read our{' '}\r\n            <Link className={classes.link} to=\"https://gnosis-safe.io/cookie\">\r\n              Cookie Policy\r\n            </Link>{' '}\r\n            for more information. By clicking &quot;Accept all&quot;, you agree to the storing of cookies on your device\r\n            to enhance site navigation, analyze site usage and provide customer support.\r\n          </p>\r\n          <div className={classes.form}>\r\n            <div className={classes.formItem}>\r\n              <FormControlLabel\r\n                checked={localNecessary}\r\n                control={<Checkbox disabled />}\r\n                disabled\r\n                label=\"Necessary\"\r\n                name=\"Necessary\"\r\n                onChange={() => setLocalNecessary((prev) => !prev)}\r\n                value={localNecessary}\r\n              />\r\n            </div>\r\n            <div className={classes.formItem}>\r\n              <FormControlLabel\r\n                control={<Checkbox checked={localIntercom} />}\r\n                label=\"Customer support\"\r\n                name=\"Customer support\"\r\n                onChange={() => setLocalIntercom((prev) => !prev)}\r\n                value={localIntercom}\r\n              />\r\n            </div>\r\n            <div className={classes.formItem}>\r\n              <FormControlLabel\r\n                control={<Checkbox checked={localAnalytics} />}\r\n                label=\"Analytics\"\r\n                name=\"Analytics\"\r\n                onChange={() => setLocalAnalytics((prev) => !prev)}\r\n                value={localAnalytics}\r\n              />\r\n            </div>\r\n            <div className={classes.formItem}>\r\n              <Button\r\n                color=\"primary\"\r\n                component={Link}\r\n                minWidth={180}\r\n                onClick={() => closeCookiesBannerHandler()}\r\n                variant=\"outlined\"\r\n              >\r\n                Accept selection\r\n              </Button>\r\n            </div>\r\n            <div className={classes.formItem}>\r\n              <Button\r\n                color=\"primary\"\r\n                component={Link}\r\n                minWidth={180}\r\n                onClick={() => acceptCookiesHandler()}\r\n                variant=\"contained\"\r\n              >\r\n                Accept all\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {!isDesktop && !showIntercom && (\r\n        <img\r\n          className={classes.intercomImage}\r\n          src={IntercomIcon}\r\n          onClick={() => dispatch.current(openCookieBanner({ cookieBannerOpen: true, intercomAlertDisplayed: true }))}\r\n        />\r\n      )}\r\n      {!isDesktop && showBanner?.cookieBannerOpen && (\r\n        <CookiesBannerForm alertMessage={showBanner?.intercomAlertDisplayed} />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CookiesBanner\r\n","import removeSnackbar from 'src/logic/notifications/store/actions/removeSnackbar'\r\n\r\nexport default {\r\n  removeSnackbar,\r\n}\r\n","import { createSelector } from 'reselect'\r\nimport { NOTIFICATIONS_REDUCER_ID } from 'src/logic/notifications/store/reducer/notifications'\r\n\r\nconst notificationsMapSelector = (state) => state[NOTIFICATIONS_REDUCER_ID]\r\n\r\nexport const notificationsListSelector = createSelector(notificationsMapSelector, (notifications) =>\r\n  notifications.toList(),\r\n)\r\n","import { createStructuredSelector } from 'reselect'\r\n\r\nimport { notificationsListSelector } from 'src/logic/notifications/store/selectors'\r\n\r\nexport default createStructuredSelector({\r\n  notifications: notificationsListSelector,\r\n})\r\n","import { List } from 'immutable'\r\nimport { withSnackbar } from 'notistack'\r\nimport { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport actions from './actions'\r\nimport selector from './selector'\r\n\r\nclass Notifier extends Component<any> {\r\n  displayed: any = []\r\n\r\n  shouldComponentUpdate({ notifications: newSnacks = List() }) {\r\n    const { closeSnackbar, notifications: currentSnacks, removeSnackbar } = this.props\r\n\r\n    if (!newSnacks.size) {\r\n      this.displayed = []\r\n      return false\r\n    }\r\n    let notExists = false\r\n    for (let i = 0; i < newSnacks.size; i += 1) {\r\n      const newSnack = newSnacks.get(i)\r\n\r\n      if (newSnack.dismissed) {\r\n        closeSnackbar(newSnack.key)\r\n        removeSnackbar(newSnack.key)\r\n      }\r\n\r\n      if (notExists) {\r\n        continue\r\n      }\r\n      notExists = notExists || !currentSnacks.filter(({ key }) => newSnack.key === key).size\r\n    }\r\n    return notExists\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { notifications = [], enqueueSnackbar, removeSnackbar } = this.props\r\n\r\n    notifications.forEach((notification) => {\r\n      // Do nothing if snackbar is already displayed\r\n      if (this.displayed.includes(notification.key)) {\r\n        return\r\n      }\r\n\r\n      // Display snackbar using notistack\r\n      enqueueSnackbar(notification.message, {\r\n        key: notification.key,\r\n        ...notification.options,\r\n        onClose: (event, reason, key) => {\r\n          if (notification.options.onClose) {\r\n            notification.options.onClose(event, reason, key)\r\n          }\r\n          // Dispatch action to remove snackbar from redux store\r\n          removeSnackbar(key)\r\n        },\r\n      })\r\n      // Keep track of snackbars that we've displayed\r\n      this.storeDisplayed(notification.key)\r\n    })\r\n  }\r\n\r\n  storeDisplayed = (id) => {\r\n    this.displayed = [...this.displayed, id]\r\n  }\r\n\r\n  render() {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default withSnackbar(connect(selector, actions)(Notifier))\r\n","import Backdrop from '@material-ui/core/Backdrop'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    zIndex: 1300,\r\n  },\r\n})\r\n\r\nconst BackdropLayout = ({ isOpen = false }) => {\r\n  const classes = useStyles()\r\n\r\n  if (!isOpen) {\r\n    return null\r\n  }\r\n\r\n  return ReactDOM.createPortal(<Backdrop classes={{ root: classes.root }} open />, document.body)\r\n}\r\n\r\nexport default BackdropLayout\r\n","import { Dispatch } from 'src/logic/safe/store/actions/types.d'\r\n\r\nimport updateViewedSafes from 'src/logic/currentSession/store/actions/updateViewedSafes'\r\n\r\nconst addViewedSafe = (safeAddress: string) => (dispatch: Dispatch): void => {\r\n  dispatch(updateViewedSafes(safeAddress))\r\n}\r\n\r\nexport default addViewedSafe\r\n","import { getCurrentMasterContractLastVersion } from 'src/logic/safe/utils/safeVersion'\r\nimport setLatestMasterContractVersion from 'src/logic/safe/store/actions/setLatestMasterContractVersion'\r\n\r\nconst fetchLatestMasterContractVersion = () => async (dispatch) => {\r\n  const latestVersion = await getCurrentMasterContractLastVersion()\r\n\r\n  dispatch(setLatestMasterContractVersion(latestVersion))\r\n}\r\n\r\nexport default fetchLatestMasterContractVersion\r\n","import { getClientGatewayUrl } from 'src/config'\r\nimport axios from 'axios'\r\n\r\nexport const fetchAvailableCurrencies = async (): Promise<string[]> => {\r\n  const url = `${getClientGatewayUrl()}/balances/supported-fiat-codes`\r\n\r\n  return axios.get(url).then(({ data }) => data)\r\n}\r\n","import { useState, useMemo } from 'react'\r\n\r\ntype SafeActionsState = {\r\n  sendFunds: {\r\n    isOpen: boolean\r\n    selectedToken?: string\r\n  }\r\n  showReceive: boolean\r\n}\r\n\r\nconst INITIAL_STATE: SafeActionsState = {\r\n  sendFunds: {\r\n    isOpen: false,\r\n    selectedToken: undefined,\r\n  },\r\n  showReceive: false,\r\n}\r\n\r\ntype Response = {\r\n  onShow: (action: string) => void\r\n  onHide: (action: string) => void\r\n  showSendFunds: (token: string) => void\r\n  hideSendFunds: () => void\r\n  safeActionsState: SafeActionsState\r\n}\r\n\r\nconst useSafeActions = (): Response => {\r\n  const [safeActionsState, setSafeActionsState] = useState(INITIAL_STATE)\r\n\r\n  const onShow = useMemo(\r\n    () => (action) => {\r\n      setSafeActionsState((prevState) => ({\r\n        ...prevState,\r\n        [`show${action}`]: true,\r\n      }))\r\n    },\r\n    [],\r\n  )\r\n\r\n  const onHide = useMemo(\r\n    () => (action) => {\r\n      setSafeActionsState((prevState) => ({\r\n        ...prevState,\r\n        [`show${action}`]: false,\r\n      }))\r\n    },\r\n    [],\r\n  )\r\n\r\n  const showSendFunds = useMemo(\r\n    () => (token) => {\r\n      setSafeActionsState((prevState) => ({\r\n        ...prevState,\r\n        sendFunds: {\r\n          isOpen: true,\r\n          selectedToken: token,\r\n        },\r\n      }))\r\n    },\r\n    [],\r\n  )\r\n\r\n  const hideSendFunds = useMemo(\r\n    () => () => {\r\n      setSafeActionsState((prevState) => ({\r\n        ...prevState,\r\n        sendFunds: {\r\n          isOpen: false,\r\n          selectedToken: undefined,\r\n        },\r\n      }))\r\n    },\r\n    [],\r\n  )\r\n\r\n  return { safeActionsState, onShow, onHide, showSendFunds, hideSendFunds }\r\n}\r\n\r\nexport default useSafeActions\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Icon, IconTypes } from '@gnosis.pm/safe-react-components'\r\n\r\nconst StyledIcon = styled(Icon)`\r\n  min-width: 32px !important;\r\n`\r\n\r\ntype Props = {\r\n  type: IconTypes\r\n}\r\n\r\nconst ListItemIcon = ({ type }: Props): React.ReactElement => <StyledIcon type={type} color=\"placeHolder\" size=\"md\" />\r\n\r\nexport default ListItemIcon\r\n","import React, { useContext, useEffect } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { SnackbarProvider } from 'notistack'\r\nimport { useSelector } from 'react-redux'\r\nimport { useRouteMatch, useHistory } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\n\r\nimport AlertIcon from 'src/assets/icons/alert.svg'\r\nimport CheckIcon from 'src/assets/icons/check.svg'\r\nimport ErrorIcon from 'src/assets/icons/error.svg'\r\nimport InfoIcon from 'src/assets/icons/info.svg'\r\n\r\nimport AppLayout from 'src/components/AppLayout'\r\nimport { SafeListSidebar, SafeListSidebarContext } from 'src/components/SafeListSidebar'\r\nimport CookiesBanner from 'src/components/CookiesBanner'\r\nimport Notifier from 'src/components/Notifier'\r\nimport Backdrop from 'src/components/layout/Backdrop'\r\nimport Img from 'src/components/layout/Img'\r\nimport { getNetworkId } from 'src/config'\r\nimport { ETHEREUM_NETWORK } from 'src/config/networks/network.d'\r\nimport { networkSelector } from 'src/logic/wallets/store/selectors'\r\nimport { SAFELIST_ADDRESS, WELCOME_ADDRESS } from 'src/routes/routes'\r\nimport { safeTotalFiatBalanceSelector, safeParamAddressFromStateSelector } from 'src/logic/safe/store/selectors'\r\nimport { currentCurrencySelector } from 'src/logic/currencyValues/store/selectors'\r\nimport Modal from 'src/components/Modal'\r\nimport SendModal from 'src/routes/safe/components/Balances/SendModal'\r\nimport { useSafeName } from 'src/logic/addressBook/hooks/useSafeName'\r\nimport { useLoadSafe } from 'src/logic/safe/hooks/useLoadSafe'\r\nimport { useSafeScheduledUpdates } from 'src/logic/safe/hooks/useSafeScheduledUpdates'\r\nimport useSafeActions from 'src/logic/safe/hooks/useSafeActions'\r\nimport { formatAmountInUsFormat } from 'src/logic/tokens/utils/formatAmount'\r\nimport { grantedSelector } from 'src/routes/safe/container/selector'\r\n\r\nimport ReceiveModal from './ReceiveModal'\r\nimport { useSidebarItems } from 'src/components/AppLayout/Sidebar/useSidebarItems'\r\n\r\nconst notificationStyles = {\r\n  success: {\r\n    background: '#fff',\r\n  },\r\n  error: {\r\n    background: '#ffe6ea',\r\n  },\r\n  warning: {\r\n    background: '#fff3e2',\r\n  },\r\n  info: {\r\n    background: '#fff',\r\n  },\r\n}\r\n\r\nconst Frame = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1 1 auto;\r\n  max-width: 100%;\r\n`\r\n\r\nconst desiredNetwork = getNetworkId()\r\n\r\nconst useStyles = makeStyles(notificationStyles)\r\n\r\nconst App: React.FC = ({ children }) => {\r\n  const classes = useStyles()\r\n  const currentNetwork = useSelector(networkSelector)\r\n  const isWrongNetwork = currentNetwork !== ETHEREUM_NETWORK.UNKNOWN && currentNetwork !== desiredNetwork\r\n  const { toggleSidebar } = useContext(SafeListSidebarContext)\r\n  const matchSafe = useRouteMatch({ path: `${SAFELIST_ADDRESS}`, strict: false })\r\n  const history = useHistory()\r\n  const safeAddress = useSelector(safeParamAddressFromStateSelector)\r\n  const safeName = useSafeName(safeAddress)\r\n  const { safeActionsState, onShow, onHide, showSendFunds, hideSendFunds } = useSafeActions()\r\n  const currentSafeBalance = useSelector(safeTotalFiatBalanceSelector)\r\n  const currentCurrency = useSelector(currentCurrencySelector)\r\n  const granted = useSelector(grantedSelector)\r\n  const sidebarItems = useSidebarItems()\r\n  const safeLoaded = useLoadSafe(safeAddress)\r\n  useSafeScheduledUpdates(safeLoaded, safeAddress)\r\n\r\n  const sendFunds = safeActionsState.sendFunds\r\n  const formattedTotalBalance = currentSafeBalance ? formatAmountInUsFormat(currentSafeBalance.toString()) : ''\r\n  const balance =\r\n    !!formattedTotalBalance && !!currentCurrency ? `${formattedTotalBalance} ${currentCurrency}` : undefined\r\n\r\n  useEffect(() => {\r\n    if (matchSafe?.isExact) {\r\n      history.push(WELCOME_ADDRESS)\r\n      return\r\n    }\r\n  }, [matchSafe, history])\r\n\r\n  const onReceiveShow = () => onShow('Receive')\r\n  const onReceiveHide = () => onHide('Receive')\r\n\r\n  return (\r\n    <Frame>\r\n      <Backdrop isOpen={isWrongNetwork} />\r\n      <SnackbarProvider\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        classes={{\r\n          variantSuccess: classes.success,\r\n          variantError: classes.error,\r\n          variantWarning: classes.warning,\r\n          variantInfo: classes.info,\r\n        }}\r\n        iconVariant={{\r\n          error: <Img alt=\"Error\" src={ErrorIcon} />,\r\n          info: <Img alt=\"Info\" src={InfoIcon} />,\r\n          success: <Img alt=\"Success\" src={CheckIcon} />,\r\n          warning: <Img alt=\"Warning\" src={AlertIcon} />,\r\n        }}\r\n        maxSnack={5}\r\n      >\r\n        <>\r\n          <Notifier />\r\n\r\n          <AppLayout\r\n            sidebarItems={sidebarItems}\r\n            safeAddress={safeAddress}\r\n            safeName={safeName}\r\n            balance={balance}\r\n            granted={granted}\r\n            onToggleSafeList={toggleSidebar}\r\n            onReceiveClick={onReceiveShow}\r\n            onNewTransactionClick={() => showSendFunds('')}\r\n          >\r\n            {children}\r\n          </AppLayout>\r\n\r\n          <SendModal\r\n            activeScreenType=\"chooseTxType\"\r\n            isOpen={sendFunds.isOpen}\r\n            onClose={hideSendFunds}\r\n            selectedToken={sendFunds.selectedToken}\r\n          />\r\n\r\n          {safeAddress && safeName && (\r\n            <Modal\r\n              description=\"Receive Tokens Form\"\r\n              handleClose={onReceiveHide}\r\n              open={safeActionsState.showReceive}\r\n              paperClassName=\"receive-modal\"\r\n              title=\"Receive Tokens\"\r\n            >\r\n              <ReceiveModal onClose={onReceiveHide} safeAddress={safeAddress} safeName={safeName} />\r\n            </Modal>\r\n          )}\r\n        </>\r\n      </SnackbarProvider>\r\n      <CookiesBanner />\r\n    </Frame>\r\n  )\r\n}\r\n\r\nconst WrapperAppWithSidebar: React.FC = ({ children }) => (\r\n  <SafeListSidebar>\r\n    <App>{children}</App>\r\n  </SafeListSidebar>\r\n)\r\n\r\nexport default WrapperAppWithSidebar\r\n","import React, { useMemo } from 'react'\r\nimport { useRouteMatch } from 'react-router-dom'\r\n\r\nimport { ListItemType } from 'src/components/List'\r\nimport ListIcon from 'src/components/List/ListIcon'\r\nimport { SAFELIST_ADDRESS } from 'src/routes/routes'\r\nimport { FEATURES } from 'src/config/networks/network.d'\r\nimport { useSelector } from 'react-redux'\r\nimport { safeFeaturesEnabledSelector } from 'src/logic/safe/store/selectors'\r\n\r\nconst useSidebarItems = (): ListItemType[] => {\r\n  const featuresEnabled = useSelector(safeFeaturesEnabledSelector)\r\n  const safeAppsEnabled = Boolean(featuresEnabled?.includes(FEATURES.SAFE_APPS))\r\n  const matchSafe = useRouteMatch({ path: `${SAFELIST_ADDRESS}`, strict: false })\r\n  const matchSafeWithAddress = useRouteMatch<{ safeAddress: string }>({ path: `${SAFELIST_ADDRESS}/:safeAddress` })\r\n  const matchSafeWithAction = useRouteMatch({ path: `${SAFELIST_ADDRESS}/:safeAddress/:safeAction` }) as {\r\n    url: string\r\n    params: Record<string, string>\r\n  }\r\n\r\n  return useMemo((): ListItemType[] => {\r\n    if (!matchSafe || !matchSafeWithAddress || !featuresEnabled) {\r\n      return []\r\n    }\r\n\r\n    const settingsItem = {\r\n      label: 'Settings',\r\n      icon: <ListIcon type=\"settings\" />,\r\n      selected: matchSafeWithAction?.params.safeAction === 'settings',\r\n      href: `${matchSafeWithAddress?.url}/settings`,\r\n    }\r\n\r\n    const safeSidebar = safeAppsEnabled\r\n      ? [\r\n          {\r\n            label: 'Apps',\r\n            icon: <ListIcon type=\"apps\" />,\r\n            selected: matchSafeWithAction?.params.safeAction === 'apps',\r\n            href: `${matchSafeWithAddress?.url}/apps`,\r\n          },\r\n          settingsItem,\r\n        ]\r\n      : [settingsItem]\r\n\r\n    return [\r\n      {\r\n        label: 'ASSETS',\r\n        icon: <ListIcon type=\"assets\" />,\r\n        selected: matchSafeWithAction?.params.safeAction === 'balances',\r\n        href: `${matchSafeWithAddress?.url}/balances`,\r\n      },\r\n      {\r\n        label: 'TRANSACTIONS',\r\n        icon: <ListIcon type=\"transactionsInactive\" />,\r\n        selected: matchSafeWithAction?.params.safeAction === 'transactions',\r\n        href: `${matchSafeWithAddress?.url}/transactions`,\r\n      },\r\n      {\r\n        label: 'ADDRESS BOOK',\r\n        icon: <ListIcon type=\"addressBook\" />,\r\n        selected: matchSafeWithAction?.params.safeAction === 'address-book',\r\n        href: `${matchSafeWithAddress?.url}/address-book`,\r\n      },\r\n      ...safeSidebar,\r\n    ]\r\n  }, [matchSafe, matchSafeWithAction, matchSafeWithAddress, safeAppsEnabled, featuresEnabled])\r\n}\r\n\r\nexport { useSidebarItems }\r\n","import { useEffect, useRef } from 'react'\r\nimport { batch, useDispatch } from 'react-redux'\r\n\r\nimport { fetchCollectibles } from 'src/logic/collectibles/store/actions/fetchCollectibles'\r\nimport { fetchSafeTokens } from 'src/logic/tokens/store/actions/fetchSafeTokens'\r\nimport { fetchSafe } from 'src/logic/safe/store/actions/fetchSafe'\r\nimport fetchTransactions from 'src/logic/safe/store/actions/transactions/fetchTransactions'\r\nimport { TIMEOUT } from 'src/utils/constants'\r\n\r\nexport const useSafeScheduledUpdates = (safeLoaded: boolean, safeAddress?: string): void => {\r\n  const dispatch = useDispatch()\r\n  const timer = useRef<number>()\r\n\r\n  useEffect(() => {\r\n    // using this variable to prevent setting a timeout when the component is already unmounted or the effect\r\n    // has to run again\r\n    let mounted = true\r\n    const fetchSafeData = async (address: string): Promise<void> => {\r\n      batch(async () => {\r\n        await Promise.all([\r\n          dispatch(fetchSafeTokens(address)),\r\n          dispatch(fetchTransactions(address)),\r\n          dispatch(fetchCollectibles(address)),\r\n          dispatch(fetchSafe(address)),\r\n        ])\r\n      })\r\n\r\n      if (mounted) {\r\n        timer.current = window.setTimeout(() => fetchSafeData(address), TIMEOUT * 3)\r\n      }\r\n    }\r\n\r\n    if (safeAddress && safeLoaded) {\r\n      fetchSafeData(safeAddress)\r\n    }\r\n\r\n    return () => {\r\n      mounted = false\r\n      clearTimeout(timer.current)\r\n    }\r\n  }, [dispatch, safeAddress, safeLoaded])\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport addViewedSafe from 'src/logic/currentSession/store/actions/addViewedSafe'\r\nimport { fetchSafeTokens } from 'src/logic/tokens/store/actions/fetchSafeTokens'\r\nimport fetchLatestMasterContractVersion from 'src/logic/safe/store/actions/fetchLatestMasterContractVersion'\r\nimport { fetchSafe } from 'src/logic/safe/store/actions/fetchSafe'\r\nimport fetchTransactions from 'src/logic/safe/store/actions/transactions/fetchTransactions'\r\nimport { Dispatch } from 'src/logic/safe/store/actions/types.d'\r\nimport { updateAvailableCurrencies } from 'src/logic/currencyValues/store/actions/updateAvailableCurrencies'\r\n\r\nexport const useLoadSafe = (safeAddress?: string): boolean => {\r\n  const dispatch = useDispatch<Dispatch>()\r\n  const [isSafeLoaded, setIsSafeLoaded] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      if (safeAddress) {\r\n        await dispatch(fetchLatestMasterContractVersion())\r\n        await dispatch(fetchSafe(safeAddress))\r\n        setIsSafeLoaded(true)\r\n        await dispatch(fetchSafeTokens(safeAddress))\r\n        await dispatch(updateAvailableCurrencies())\r\n        await dispatch(fetchTransactions(safeAddress))\r\n        dispatch(addViewedSafe(safeAddress))\r\n      }\r\n    }\r\n    fetchData()\r\n  }, [dispatch, safeAddress])\r\n\r\n  return isSafeLoaded\r\n}\r\n","import { Action } from 'redux-actions'\r\nimport { ThunkDispatch } from 'redux-thunk'\r\nimport { AppReduxState } from 'src/store'\r\nimport { AvailableCurrenciesPayload } from 'src/logic/currencyValues/store/reducer/currencyValues'\r\nimport { setAvailableCurrencies } from 'src/logic/currencyValues/store/actions/setAvailableCurrencies'\r\nimport { fetchAvailableCurrencies } from 'src/logic/currencyValues/api/fetchAvailableCurrencies'\r\n\r\nexport const updateAvailableCurrencies = () => async (\r\n  dispatch: ThunkDispatch<AppReduxState, undefined, Action<AvailableCurrenciesPayload>>,\r\n): Promise<void> => {\r\n  try {\r\n    const availableCurrencies = await fetchAvailableCurrencies()\r\n    dispatch(setAvailableCurrencies({ availableCurrencies }))\r\n  } catch (err) {\r\n    console.error('Error fetching available currencies', err)\r\n  }\r\n  return Promise.resolve()\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Text, Link, Icon, FixedIcon, Title } from '@gnosis.pm/safe-react-components'\r\n\r\nimport { IS_PRODUCTION } from 'src/utils/constants'\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  margin-top: 50px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n`\r\n\r\nconst Content = styled.div`\r\n  width: 400px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  text-align: center;\r\n\r\n  > * {\r\n    margin-top: 10px;\r\n  }\r\n`\r\n\r\nconst LinkWrapper = styled.div`\r\n  display: inline-flex;\r\n  margin-bottom: 10px;\r\n\r\n  > :first-of-type {\r\n    margin-right: 5px;\r\n  }\r\n`\r\n\r\nconst LinkContent = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  > span {\r\n    margin-right: 5px;\r\n  }\r\n`\r\n\r\ntype Props = {\r\n  error: Error\r\n  componentStack: string\r\n  resetError: () => void\r\n}\r\n\r\nconst GlobalErrorBoundaryFallback = ({ error, componentStack }: Props): React.ReactElement => {\r\n  return (\r\n    <Wrapper>\r\n      <Content>\r\n        <Title size=\"md\">Something went wrong, please try again.</Title>\r\n        <FixedIcon type=\"networkError\" />\r\n        {IS_PRODUCTION && (\r\n          <div>\r\n            <Text size=\"xl\" as=\"span\">\r\n              In case the problem persists, please reach out to us via{' '}\r\n            </Text>\r\n            <LinkWrapper>\r\n              <a target=\"_blank\" href=\"email: mailto:safe@gnosis.io\" rel=\"noopener noreferrer\">\r\n                <Text color=\"primary\" size=\"lg\" as=\"span\">\r\n                  Email\r\n                </Text>\r\n              </a>\r\n              <Icon type=\"externalLink\" color=\"primary\" size=\"sm\" />\r\n            </LinkWrapper>\r\n            or{' '}\r\n            <LinkWrapper>\r\n              <a target=\"_blank\" href=\"https://discordapp.com/invite/FPMRAwK\" rel=\"noopener noreferrer\">\r\n                <Text color=\"primary\" size=\"lg\" as=\"span\">\r\n                  Discord\r\n                </Text>\r\n              </a>\r\n              <Icon type=\"externalLink\" color=\"primary\" size=\"sm\" />\r\n            </LinkWrapper>\r\n          </div>\r\n        )}\r\n        {!IS_PRODUCTION && (\r\n          <>\r\n            <Text size=\"xl\" color=\"error\">\r\n              {error.toString()}\r\n            </Text>\r\n            <Text size=\"md\" color=\"error\">\r\n              {componentStack}\r\n            </Text>\r\n          </>\r\n        )}\r\n        <Link size=\"lg\" color=\"primary\" href=\"/app/\">\r\n          <LinkContent>\r\n            <Icon size=\"md\" type=\"home\" color=\"primary\" />\r\n            Go to Home\r\n          </LinkContent>\r\n        </Link>\r\n      </Content>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default GlobalErrorBoundaryFallback\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Redirect, Route, Switch, useLocation, useRouteMatch } from 'react-router-dom'\r\n\r\nimport { LOAD_ADDRESS, OPEN_ADDRESS, SAFELIST_ADDRESS, SAFE_PARAM_ADDRESS, WELCOME_ADDRESS } from './routes'\r\n\r\nimport { Loader } from '@gnosis.pm/safe-react-components'\r\nimport { defaultSafeSelector } from 'src/logic/safe/store/selectors'\r\nimport { useAnalytics } from 'src/utils/googleAnalytics'\r\nimport { DEFAULT_SAFE_INITIAL_STATE } from 'src/logic/safe/store/reducer/safe'\r\nimport { LoadingContainer } from 'src/components/LoaderContainer'\r\n\r\nconst Welcome = React.lazy(() => import('./welcome/container'))\r\n\r\nconst Open = React.lazy(() => import('./open/container/Open'))\r\n\r\nconst Safe = React.lazy(() => import('./safe/container'))\r\n\r\nconst Load = React.lazy(() => import('./load/container/Load'))\r\n\r\nconst SAFE_ADDRESS = `${SAFELIST_ADDRESS}/:${SAFE_PARAM_ADDRESS}`\r\n\r\nconst Routes = (): React.ReactElement => {\r\n  const [isInitialLoad, setInitialLoad] = useState(true)\r\n  const location = useLocation()\r\n  const matchSafeWithAction = useRouteMatch<{ safeAddress: string; safeAction: string }>({\r\n    path: `${SAFELIST_ADDRESS}/:safeAddress/:safeAction`,\r\n  })\r\n\r\n  const defaultSafe = useSelector(defaultSafeSelector)\r\n  const { trackPage } = useAnalytics()\r\n\r\n  useEffect(() => {\r\n    if (isInitialLoad && location.pathname !== '/') {\r\n      setInitialLoad(false)\r\n    }\r\n  }, [location.pathname, isInitialLoad])\r\n\r\n  useEffect(() => {\r\n    if (matchSafeWithAction) {\r\n      // prevent logging safeAddress\r\n      let safePage = `${SAFELIST_ADDRESS}/SAFE_ADDRESS`\r\n      if (matchSafeWithAction.params?.safeAction) {\r\n        safePage += `/${matchSafeWithAction.params?.safeAction}`\r\n      }\r\n      trackPage(safePage)\r\n    } else {\r\n      const page = `${location.pathname}${location.search}`\r\n      trackPage(page)\r\n    }\r\n  }, [location, matchSafeWithAction, trackPage])\r\n\r\n  return (\r\n    <Switch>\r\n      <Route\r\n        exact\r\n        path=\"/\"\r\n        render={() => {\r\n          if (!isInitialLoad) {\r\n            return <Redirect to={WELCOME_ADDRESS} />\r\n          }\r\n\r\n          if (defaultSafe === DEFAULT_SAFE_INITIAL_STATE) {\r\n            return (\r\n              <LoadingContainer>\r\n                <Loader size=\"md\" />\r\n              </LoadingContainer>\r\n            )\r\n          }\r\n\r\n          if (defaultSafe) {\r\n            return <Redirect to={`${SAFELIST_ADDRESS}/${defaultSafe}/balances`} />\r\n          }\r\n\r\n          return <Redirect to={WELCOME_ADDRESS} />\r\n        }}\r\n      />\r\n      <Route component={Welcome} exact path={WELCOME_ADDRESS} />\r\n      <Route component={Open} exact path={OPEN_ADDRESS} />\r\n      <Route component={Safe} path={SAFE_ADDRESS} />\r\n      <Route component={Load} exact path={LOAD_ADDRESS} />\r\n      <Redirect to=\"/\" />\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default Routes\r\n","import { theme as styledTheme, Loader } from '@gnosis.pm/safe-react-components'\r\nimport { MuiThemeProvider } from '@material-ui/core/styles'\r\nimport { ConnectedRouter } from 'connected-react-router'\r\nimport React from 'react'\r\nimport { Provider } from 'react-redux'\r\nimport { ThemeProvider } from 'styled-components'\r\nimport * as Sentry from '@sentry/react'\r\n\r\nimport { LoadingContainer } from 'src/components/LoaderContainer'\r\nimport App from 'src/components/App'\r\nimport GlobalErrorBoundary from 'src/components/GlobalErrorBoundary'\r\nimport AppRoutes from 'src/routes'\r\nimport { history, store } from 'src/store'\r\nimport theme from 'src/theme/mui'\r\nimport { wrapInSuspense } from 'src/utils/wrapInSuspense'\r\n\r\nimport './index.module.scss'\r\nimport './OnboardCustom.module.scss'\r\n\r\nconst Root = (): React.ReactElement => (\r\n  <ThemeProvider theme={styledTheme}>\r\n    <Provider store={store}>\r\n      <MuiThemeProvider theme={theme}>\r\n        <ConnectedRouter history={history}>\r\n          <Sentry.ErrorBoundary fallback={GlobalErrorBoundary}>\r\n            <App>\r\n              {wrapInSuspense(\r\n                <AppRoutes />,\r\n                <LoadingContainer>\r\n                  <Loader size=\"md\" />\r\n                </LoadingContainer>,\r\n              )}\r\n            </App>\r\n          </Sentry.ErrorBoundary>\r\n        </ConnectedRouter>\r\n      </MuiThemeProvider>\r\n    </Provider>\r\n  </ThemeProvider>\r\n)\r\n\r\nexport default Root\r\n","import { Dispatch } from 'redux'\r\n\r\nimport loadCurrentSession from 'src/logic/currentSession/store/actions/loadCurrentSession'\r\nimport { getCurrentSessionFromStorage } from 'src/logic/currentSession/utils'\r\n\r\nconst loadCurrentSessionFromStorage = () => async (dispatch: Dispatch): Promise<void> => {\r\n  const currentSession = await getCurrentSessionFromStorage()\r\n\r\n  dispatch(loadCurrentSession(currentSession))\r\n}\r\n\r\nexport default loadCurrentSessionFromStorage\r\n","import setDefaultSafe from './setDefaultSafe'\r\n\r\nimport { getDefaultSafe } from 'src/logic/safe/utils'\r\n\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { Dispatch } from 'redux'\r\n\r\nconst loadDefaultSafe = () => async (dispatch: Dispatch): Promise<void> => {\r\n  try {\r\n    const defaultSafe = await getDefaultSafe()\r\n    const checksumed = defaultSafe && defaultSafe.length > 0 ? checksumAddress(defaultSafe) : defaultSafe\r\n    dispatch(setDefaultSafe(checksumed))\r\n  } catch (err) {\r\n    // eslint-disable-next-line\r\n    console.error('Error while getting default Safe from storage:', err)\r\n  }\r\n}\r\n\r\nexport default loadDefaultSafe\r\n","import { Dispatch } from 'redux'\r\nimport { getLocalSafes } from 'src/logic/safe/utils'\r\nimport { buildSafe } from 'src/logic/safe/store/reducer/safe'\r\nimport { addOrUpdateSafe } from './addOrUpdateSafe'\r\n\r\nconst loadSafesFromStorage = () => async (dispatch: Dispatch): Promise<void> => {\r\n  const safes = await getLocalSafes()\r\n\r\n  if (safes) {\r\n    safes.forEach((safeProps) => {\r\n      dispatch(addOrUpdateSafe(buildSafe(safeProps)))\r\n    })\r\n  }\r\n\r\n  return Promise.resolve()\r\n}\r\n\r\nexport default loadSafesFromStorage\r\n","// https://docs.metamask.io/guide/ethereum-provider.html#ethereum-autorefreshonnetworkchange\r\nexport const disableMMAutoRefreshWarning = (): void => {\r\n  if (window.ethereum && window.ethereum.isMetaMask) {\r\n    window.ethereum.autoRefreshOnNetworkChange = false\r\n  }\r\n}\r\n","import { BigNumber } from 'bignumber.js'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport * as Sentry from '@sentry/react'\r\nimport { Integrations } from '@sentry/tracing'\r\n\r\nimport Root from 'src/components/Root'\r\nimport loadCurrentSessionFromStorage from 'src/logic/currentSession/store/actions/loadCurrentSessionFromStorage'\r\nimport loadDefaultSafe from 'src/logic/safe/store/actions/loadDefaultSafe'\r\nimport loadSafesFromStorage from 'src/logic/safe/store/actions/loadSafesFromStorage'\r\nimport { store } from 'src/store'\r\nimport { SENTRY_DSN } from './utils/constants'\r\nimport { disableMMAutoRefreshWarning } from './utils/mm_warnings'\r\n\r\ndisableMMAutoRefreshWarning()\r\n\r\nBigNumber.set({ EXPONENTIAL_AT: [-7, 255] })\r\n\r\nstore.dispatch(loadSafesFromStorage())\r\nstore.dispatch(loadDefaultSafe())\r\nstore.dispatch(loadCurrentSessionFromStorage())\r\n\r\nSentry.init({\r\n  dsn: SENTRY_DSN,\r\n  release: `safe-react@${process.env.REACT_APP_APP_VERSION}`,\r\n  integrations: [new Integrations.BrowserTracing()],\r\n  sampleRate: 0.01,\r\n})\r\n\r\nconst root = document.getElementById('root')\r\n\r\nif (root !== null) {\r\n  ReactDOM.render(<Root />, root)\r\n}\r\n","import { loadFromStorage, saveToStorage } from 'src/utils/storage'\r\nimport { SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\n\r\nexport const SAFES_KEY = 'SAFES'\r\nexport const DEFAULT_SAFE_KEY = 'DEFAULT_SAFE'\r\n\r\nexport type StoredSafes = Record<string, SafeRecordProps>\r\n\r\nexport const loadStoredSafes = (): Promise<StoredSafes | undefined> => {\r\n  return loadFromStorage<StoredSafes>(SAFES_KEY)\r\n}\r\n\r\nexport const saveSafes = async (safes: StoredSafes): Promise<void> => {\r\n  try {\r\n    await saveToStorage(SAFES_KEY, safes)\r\n  } catch (err) {\r\n    console.error('Error storing Safe info in localstorage', err)\r\n  }\r\n}\r\n\r\nexport const getLocalSafes = async (): Promise<SafeRecordProps[] | undefined> => {\r\n  const storedSafes = await loadStoredSafes()\r\n  return storedSafes ? Object.values(storedSafes) : undefined\r\n}\r\n\r\nexport const getLocalSafe = async (safeAddress: string): Promise<SafeRecordProps | undefined> => {\r\n  const storedSafes = await loadStoredSafes()\r\n  return storedSafes?.[safeAddress]\r\n}\r\n\r\nexport const getDefaultSafe = async (): Promise<string> => {\r\n  const defaultSafe = await loadFromStorage<string>(DEFAULT_SAFE_KEY)\r\n\r\n  return defaultSafe || ''\r\n}\r\n\r\nexport const saveDefaultSafe = async (safeAddress: string): Promise<void> => {\r\n  try {\r\n    await saveToStorage(DEFAULT_SAFE_KEY, safeAddress)\r\n  } catch (err) {\r\n    // eslint-disable-next-line\r\n    console.error('Error saving default Safe to storage: ', err)\r\n  }\r\n}\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const ADD_PROVIDER = 'ADD_PROVIDER'\r\n\r\nconst addProvider = createAction(ADD_PROVIDER, (provider) => provider)\r\n\r\nexport default addProvider\r\n","import { createAction } from 'redux-actions'\r\n\r\nimport { HistoryPayload, QueuedPayload } from 'src/logic/safe/store/reducer/gatewayTransactions'\r\n\r\nexport const ADD_HISTORY_TRANSACTIONS = 'ADD_HISTORY_TRANSACTIONS'\r\nexport const addHistoryTransactions = createAction<HistoryPayload>(ADD_HISTORY_TRANSACTIONS)\r\n\r\nexport const ADD_QUEUED_TRANSACTIONS = 'ADD_QUEUED_TRANSACTIONS'\r\nexport const addQueuedTransactions = createAction<QueuedPayload>(ADD_QUEUED_TRANSACTIONS)\r\n","import Button from '@material-ui/core/Button'\r\nimport * as React from 'react'\r\n\r\nconst calculateStyleBased = (minWidth, minHeight) => ({\r\n  minWidth: minWidth && `${minWidth}px`,\r\n  minHeight: minHeight && `${minHeight}px`,\r\n})\r\n\r\nconst GnoButton = ({ minWidth, minHeight = 35, testId = '', style = {}, ...props }: any) => {\r\n  const calculatedStyle = calculateStyleBased(minWidth, minHeight)\r\n\r\n  return <Button data-testid={testId} style={{ ...calculatedStyle, ...style }} {...props} />\r\n}\r\n\r\nexport default GnoButton\r\n","// matches src/logic/tokens/store/model/token.ts `TokenProps` type\r\n\r\nexport enum WALLETS {\r\n  METAMASK = 'metamask',\r\n  WALLET_CONNECT = 'walletConnect',\r\n  TREZOR = 'trezor',\r\n  LEDGER = 'ledger',\r\n  TRUST = 'trust',\r\n  FORTMATIC = 'fortmatic',\r\n  PORTIS = 'portis',\r\n  AUTHEREUM = 'authereum',\r\n  TORUS = 'torus',\r\n  COINBASE = 'coinbase',\r\n  WALLET_LINK = 'walletLink',\r\n  OPERA = 'opera',\r\n  OPERA_TOUCH = 'operaTouch',\r\n  LATTICE = 'lattice',\r\n}\r\n\r\nexport enum FEATURES {\r\n  ERC721 = 'ERC721',\r\n  ERC1155 = 'ERC1155',\r\n  SAFE_APPS = 'SAFE_APPS',\r\n  CONTRACT_INTERACTION = 'CONTRACT_INTERACTION',\r\n  DOMAIN_LOOKUP = 'DOMAIN_LOOKUP',\r\n}\r\n\r\ntype Token = {\r\n  address: string\r\n  name: string\r\n  symbol: string\r\n  decimals: number\r\n  logoUri?: string\r\n}\r\n\r\nexport enum ETHEREUM_NETWORK {\r\n  UNKNOWN = 0,\r\n  MAINNET = 1,\r\n  MORDEN = 2,\r\n  ROPSTEN = 3,\r\n  RINKEBY = 101,\r\n  GOERLI = 5,\r\n  KOVAN = 42,\r\n  XDAI = 100,\r\n  ENERGY_WEB_CHAIN = 246,\r\n  LOCAL = 4447,\r\n  VOLTA = 73799,\r\n}\r\n\r\nexport type NetworkSettings = {\r\n  // TODO: id now seems to be unnecessary\r\n  id: ETHEREUM_NETWORK\r\n  backgroundColor: string\r\n  textColor: string\r\n  label: string\r\n  isTestNet: boolean\r\n  nativeCoin: Token\r\n}\r\n\r\n// something around this to display or not some critical sections in the app, depending on the network support\r\n// I listed the ones that may conflict with the network.\r\n// If non is present, all the sections are available.\r\nexport type SafeFeatures = FEATURES[]\r\n\r\nexport type Wallets = WALLETS[]\r\n\r\nexport type GasPriceOracle = {\r\n  url: string\r\n  // Different gas api providers can use a different name to reflect different gas levels based on tx speed\r\n  // For example in ethGasStation for ETHEREUM_MAINNET = safeLow | average | fast\r\n  gasParameter: string\r\n}\r\n\r\ntype GasPrice =\r\n  | {\r\n      gasPrice: number\r\n      gasPriceOracle?: GasPriceOracle\r\n    }\r\n  | {\r\n      gasPrice?: number\r\n      // for infura there's a REST API Token required stored in: `REACT_APP_INFURA_TOKEN`\r\n      gasPriceOracle: GasPriceOracle\r\n    }\r\n\r\nexport type EnvironmentSettings = GasPrice & {\r\n  clientGatewayUrl: string\r\n  txServiceUrl: string\r\n  // TODO: Shall we keep a reference to the relay?\r\n  relayApiUrl?: string\r\n  safeAppsUrl: string\r\n  rpcServiceUrl: string\r\n  networkExplorerName: string\r\n  networkExplorerUrl: string\r\n  networkExplorerApiUrl: string\r\n}\r\n\r\ntype SafeEnvironments = {\r\n  dev?: EnvironmentSettings\r\n  staging?: EnvironmentSettings\r\n  production: EnvironmentSettings\r\n}\r\n\r\nexport interface NetworkConfig {\r\n  network: NetworkSettings\r\n  disabledFeatures?: SafeFeatures\r\n  disabledWallets?: Wallets\r\n  environment: SafeEnvironments\r\n}\r\n","import { createAction } from 'redux-actions'\r\n\r\nimport { AddressBookEntry, AddressBookState } from 'src/logic/addressBook/model/addressBook'\r\n\r\n// following the suggested naming convention at\r\n// https://redux.js.org/style-guide/style-guide#write-action-types-as-domaineventname\r\nexport enum ADDRESS_BOOK_ACTIONS {\r\n  ADD_OR_UPDATE = 'addressBook/addOrUpdate',\r\n  REMOVE = 'addressBook/remove',\r\n  IMPORT = 'addressBook/import',\r\n  SAFE_LOAD = 'addressBook/safeLoad',\r\n}\r\n\r\nexport const addressBookAddOrUpdate = createAction<AddressBookEntry>(ADDRESS_BOOK_ACTIONS.ADD_OR_UPDATE)\r\nexport const addressBookRemove = createAction<AddressBookEntry>(ADDRESS_BOOK_ACTIONS.REMOVE)\r\nexport const addressBookSafeLoad = createAction<AddressBookState>(ADDRESS_BOOK_ACTIONS.SAFE_LOAD)\r\nexport const addressBookImport = createAction<AddressBookState>(ADDRESS_BOOK_ACTIONS.IMPORT)\r\n","export default __webpack_public_path__ + \"static/media/contractData.090761eb.png\";","import { loadFromStorage, saveToStorage } from 'src/utils/storage'\r\nimport { WALLET_PROVIDER } from 'src/logic/wallets/getWeb3'\r\nimport contractDataImage from './images/contractData.png'\r\n\r\nconst USER_ENABLED_LEDGER_TX_DATA = 'USER_ENABLED_LEDGER_TX_DATA'\r\nfunction transactionDataCheck(): any {\r\n  return async (stateAndHelpers) => {\r\n    const { wallet } = stateAndHelpers\r\n    const isTransactionDataEnabled = await loadFromStorage<boolean>(USER_ENABLED_LEDGER_TX_DATA)\r\n    if (wallet && wallet.name.toUpperCase() === WALLET_PROVIDER.LEDGER && !isTransactionDataEnabled) {\r\n      return {\r\n        heading: 'Allow Transaction Data', // edit modal heading here\r\n        description: `<div><p><strong>Important</strong>: In order to sign transactions with your Ledger device, you will have to activate the \"Contract Data\" setting in the Ethereum app on your Ledger.</p><img style=\"width:100%\" src=${contractDataImage} /></div>`, // edit modal description that is displayed here. You can include html strings here and they will be rendered as html elements.\r\n        eventCode: 'allowTransactionData',\r\n        button: {\r\n          text: 'Done',\r\n          onclick: async () => await saveToStorage(USER_ENABLED_LEDGER_TX_DATA, true),\r\n        },\r\n        icon: `\r\n                  <svg height=\"14\" viewBox=\"0 0 18 14\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"currentColor\"><path d=\"m10.29375 4.05351563c0-.04921875 0-.09140625 0-.13007813 0-1.0546875 0-2.109375 0-3.1640625 0-.43945312.3480469-.76992188.7804688-.7453125.2003906.01054688.3585937.10546875.4992187.24609375.5800781.58359375 1.1566406 1.16367188 1.7367187 1.74023438 1.4695313 1.46953125 2.9390625 2.93906249 4.4050782 4.40859375.1335937.13359375.2425781.27421875.2707031.46757812.0351562.20742188-.0246094.421875-.1652344.58007813-.0246094.028125-.0492187.05273437-.0738281.08085937-2.0601563 2.06367188-4.1203125 4.1238281-6.1804688 6.1875-.2109375.2109375-.4570312.3023438-.7453125.2179688-.2707031-.0808594-.4464843-.2707032-.5132812-.5484375-.0140625-.0738282-.0175781-.1441407-.0140625-.2179688 0-1.0335937 0-2.0707031 0-3.1042969 0-.0386719 0-.08085935 0-.13359372h-5.06953125c-.49570313 0-.80507813-.309375-.80507813-.80859375 0-1.42382813 0-2.84414063 0-4.26796875 0-.49570313.30585938-.8015625.8015625-.8015625h4.93593748z\"/><path d=\"m5.69882812 13.978125h-4.01132812c-.928125 0-1.6875-.8753906-1.6875-1.9511719v-10.06171872c0-1.07578125.75585938-1.95117188 1.6875-1.95117188h4.01132812c.34101563 0 .61523438.31992188.61523438.71015625 0 .39023438-.27421875.71015625-.61523438.71015625h-4.01132812c-.253125 0-.45703125.23554688-.45703125.52734375v10.06171875c0 .2917969.20390625.5273437.45703125.5273437h4.01132812c.34101563 0 .61523438.3199219.61523438.7101563s-.27773438.7171875-.61523438.7171875z\"/></g></svg>\r\n                  `,\r\n      }\r\n    }\r\n    return null\r\n  }\r\n}\r\n\r\nexport default transactionDataCheck\r\n","import Onboard from 'bnc-onboard'\r\nimport React, { ReactElement } from 'react'\r\n\r\nimport Button from 'src/components/layout/Button'\r\nimport { getNetworkId, getNetworkName } from 'src/config'\r\nimport { getWeb3, setWeb3 } from 'src/logic/wallets/getWeb3'\r\nimport { fetchProvider, removeProvider } from 'src/logic/wallets/store/actions'\r\nimport transactionDataCheck from 'src/logic/wallets/transactionDataCheck'\r\nimport { getSupportedWallets } from 'src/logic/wallets/utils/walletList'\r\nimport { store } from 'src/store'\r\n\r\nconst networkId = getNetworkId()\r\nconst networkName = getNetworkName().toLowerCase()\r\n\r\nlet lastUsedAddress = ''\r\nlet providerName\r\n\r\nconst wallets = getSupportedWallets()\r\n\r\nexport const onboard = Onboard({\r\n  networkId,\r\n  networkName,\r\n  subscriptions: {\r\n    wallet: (wallet) => {\r\n      if (wallet.provider) {\r\n        // this function will intialize web3 and store it somewhere available throughout the dapp and\r\n        // can also instantiate your contracts with the web3 instance\r\n        setWeb3(wallet.provider)\r\n        providerName = wallet.name\r\n      }\r\n    },\r\n    address: (address) => {\r\n      if (!lastUsedAddress && address) {\r\n        lastUsedAddress = address\r\n        store.dispatch(fetchProvider(providerName))\r\n      }\r\n\r\n      // we don't have an unsubscribe event so we rely on this\r\n      if (!address && lastUsedAddress) {\r\n        lastUsedAddress = ''\r\n        providerName = undefined\r\n        store.dispatch(removeProvider())\r\n      }\r\n    },\r\n  },\r\n  walletSelect: {\r\n    description: 'Please select a wallet to connect to Gnosis Safe',\r\n    wallets,\r\n  },\r\n  walletCheck: [\r\n    { checkName: 'derivationPath' },\r\n    { checkName: 'connect' },\r\n    { checkName: 'accounts' },\r\n    { checkName: 'network' },\r\n    transactionDataCheck(),\r\n  ],\r\n})\r\n\r\nexport const onboardUser = async (): Promise<boolean> => {\r\n  // before calling walletSelect you want to check if web3 has been instantiated\r\n  // which indicates that a wallet has already been selected\r\n  // and web3 has been instantiated with that provider\r\n  const web3 = getWeb3()\r\n  const walletSelected = web3 ? true : await onboard.walletSelect()\r\n  return walletSelected && onboard.walletCheck()\r\n}\r\n\r\nexport const onConnectButtonClick = async () => {\r\n  const walletSelected = await onboard.walletSelect()\r\n\r\n  // perform wallet checks only if user selected a wallet\r\n  if (walletSelected) {\r\n    await onboard.walletCheck()\r\n  }\r\n}\r\n\r\nconst ConnectButton = (props): ReactElement => (\r\n  <Button color=\"primary\" minWidth={240} onClick={onConnectButtonClick} variant=\"contained\" {...props}>\r\n    Connect\r\n  </Button>\r\n)\r\n\r\nexport default ConnectButton\r\n","import { WalletInitOptions } from 'bnc-onboard/dist/src/interfaces'\r\n\r\nimport { getNetworkId, getRpcServiceUrl, getNetworkConfigDisabledWallets } from 'src/config'\r\nimport { WALLETS } from 'src/config/networks/network.d'\r\nimport { FORTMATIC_KEY, PORTIS_ID } from 'src/utils/constants'\r\n\r\nconst networkId = getNetworkId()\r\nconst disabledWallets = getNetworkConfigDisabledWallets()\r\n\r\ntype Wallet = WalletInitOptions & {\r\n  desktop: boolean\r\n  walletName: WALLETS\r\n}\r\n\r\nconst rpcUrl = getRpcServiceUrl()\r\nconst wallets: Wallet[] = [\r\n  { walletName: WALLETS.METAMASK, preferred: true, desktop: false },\r\n  {\r\n    walletName: WALLETS.WALLET_CONNECT,\r\n    preferred: true,\r\n    // as stated in the documentation, `infuraKey` is not mandatory if rpc is provided\r\n    rpc: { [networkId]: rpcUrl },\r\n    desktop: true,\r\n    bridge: 'https://safe-walletconnect.gnosis.io/',\r\n  },\r\n  {\r\n    walletName: WALLETS.TREZOR,\r\n    appUrl: 'gnosis-safe.io',\r\n    preferred: true,\r\n    email: 'safe@gnosis.io',\r\n    desktop: true,\r\n    rpcUrl,\r\n  },\r\n  {\r\n    walletName: WALLETS.LEDGER,\r\n    desktop: true,\r\n    preferred: true,\r\n    rpcUrl,\r\n    LedgerTransport: (window as any).TransportNodeHid,\r\n  },\r\n  { walletName: WALLETS.TRUST, preferred: true, desktop: false },\r\n  {\r\n    walletName: WALLETS.LATTICE,\r\n    rpcUrl,\r\n    appName: 'Gnosis Safe',\r\n    desktop: false,\r\n  },\r\n  {\r\n    walletName: WALLETS.FORTMATIC,\r\n    apiKey: FORTMATIC_KEY,\r\n    desktop: true,\r\n  },\r\n  {\r\n    walletName: WALLETS.PORTIS,\r\n    apiKey: PORTIS_ID,\r\n    desktop: true,\r\n  },\r\n  { walletName: WALLETS.AUTHEREUM, desktop: false },\r\n  { walletName: WALLETS.TORUS, desktop: true },\r\n  { walletName: WALLETS.COINBASE, desktop: false },\r\n  { walletName: WALLETS.WALLET_LINK, rpcUrl, desktop: false },\r\n  { walletName: WALLETS.OPERA, desktop: false },\r\n  { walletName: WALLETS.OPERA_TOUCH, desktop: false },\r\n]\r\n\r\nexport const getSupportedWallets = (): WalletInitOptions[] => {\r\n  const { isDesktop } = window as any\r\n  /* eslint-disable no-unused-vars */\r\n  if (isDesktop) {\r\n    return wallets.filter((wallet) => wallet.desktop).map(({ desktop, ...rest }) => rest)\r\n  }\r\n\r\n  return wallets.map(({ desktop, ...rest }) => rest).filter((w) => !disabledWallets.includes(w.walletName))\r\n}\r\n","/**\r\n * When creating a new error type, please try to group them semantically\r\n * with the existing errors in the same hundred. For example, if it's\r\n * related to fetching data from the backend, add it to the 6xx errors.\r\n * This is not a hard requirement, just a useful convention.\r\n */\r\nenum ErrorCodes {\r\n  ___0 = '0: No such error code',\r\n  _100 = '100: Invalid input in the address field',\r\n  _101 = '101: Failed to resolve the address',\r\n  _200 = '200: Failed migrating to the address book v2',\r\n  _600 = '600: Error fetching token list',\r\n  _601 = '601: Error fetching balances',\r\n  _900 = '900: Error loading Safe App',\r\n  _901 = '901: Error processing Safe Apps SDK request',\r\n}\r\n\r\nexport default ErrorCodes\r\n","import * as Sentry from '@sentry/react'\r\nimport { CaptureContext } from '@sentry/types'\r\nimport ErrorCodes from './registry'\r\nimport { IS_PRODUCTION } from 'src/utils/constants'\r\n\r\nexport class CodedException extends Error {\r\n  public readonly code: number\r\n  // the context allows to enrich events, for the list of allowed context keys/data, please check the type or go to\r\n  // https://docs.sentry.io/platforms/javascript/enriching-events/context/\r\n  // The context is not searchable, that means its goal is just to provide additional data for the error\r\n  public readonly context?: CaptureContext\r\n\r\n  constructor(content: ErrorCodes, extraMessage?: string, context?: CaptureContext) {\r\n    super()\r\n\r\n    const codePrefix = content.split(':')[0]\r\n    const code = Number(codePrefix)\r\n    if (isNaN(code)) {\r\n      throw new CodedException(ErrorCodes.___0, codePrefix, context)\r\n    }\r\n\r\n    const extraInfo = extraMessage ? ` (${extraMessage})` : ''\r\n    this.message = `${content}${extraInfo}`\r\n    this.code = code\r\n    this.context = context\r\n  }\r\n\r\n  public log(): void {\r\n    // Filter out the logError fn from the stack trace\r\n    if (this.stack) {\r\n      const newStack = this.stack\r\n        .split('\\n')\r\n        .filter((line) => !line.includes(logError.name))\r\n        .join('\\n')\r\n      try {\r\n        this.stack = newStack\r\n      } catch (e) {}\r\n    }\r\n\r\n    // Log only the message on prod, and the full error on dev\r\n    console.error(IS_PRODUCTION ? this.message : this)\r\n  }\r\n\r\n  public track(): void {\r\n    if (IS_PRODUCTION) {\r\n      Sentry.captureException(this, this.context)\r\n    }\r\n  }\r\n}\r\n\r\ntype ErrorHandler = (content: ErrorCodes, extraMessage?: string, context?: CaptureContext) => CodedException\r\n\r\nexport const logError: ErrorHandler = function logError(...args) {\r\n  const error = new CodedException(...args)\r\n  error.log()\r\n  return error\r\n}\r\n\r\nexport const trackError: ErrorHandler = function trackError(...args) {\r\n  const error = new CodedException(...args)\r\n  error.log()\r\n  error.track()\r\n  return error\r\n}\r\n\r\nexport const Errors = ErrorCodes\r\n","import { Dispatch } from 'src/logic/safe/store/actions/types.d'\r\nimport { createAction } from 'redux-actions'\r\n\r\nimport { onboard } from 'src/components/ConnectButton'\r\nimport { resetWeb3 } from 'src/logic/wallets/getWeb3'\r\n\r\nexport const REMOVE_PROVIDER = 'REMOVE_PROVIDER'\r\n\r\nconst removeProvider = createAction(REMOVE_PROVIDER)\r\n\r\nexport default () => (dispatch: Dispatch): void => {\r\n  onboard.walletReset()\r\n  resetWeb3()\r\n\r\n  dispatch(removeProvider())\r\n}\r\n","import semverLessThan from 'semver/functions/lt'\r\nimport semverSatisfies from 'semver/functions/satisfies'\r\nimport semverValid from 'semver/functions/valid'\r\nimport { GnosisSafe } from 'src/types/contracts/GnosisSafe.d'\r\n\r\nimport { getGnosisSafeInstanceAt, getSafeMasterContract } from 'src/logic/contracts/safeContracts'\r\nimport { LATEST_SAFE_VERSION } from 'src/utils/constants'\r\nimport { isFeatureEnabled } from 'src/config'\r\nimport { FEATURES } from 'src/config/networks/network.d'\r\n\r\ntype FeatureConfigByVersion = {\r\n  name: FEATURES\r\n  validVersion?: string\r\n}\r\n\r\nconst FEATURES_BY_VERSION: FeatureConfigByVersion[] = [\r\n  { name: FEATURES.ERC721 },\r\n  { name: FEATURES.ERC1155, validVersion: '>=1.1.1' },\r\n  { name: FEATURES.SAFE_APPS },\r\n  { name: FEATURES.CONTRACT_INTERACTION },\r\n]\r\n\r\ntype Feature = typeof FEATURES_BY_VERSION[number]\r\n\r\nexport const safeNeedsUpdate = (currentVersion?: string, latestVersion?: string): boolean => {\r\n  if (!currentVersion || !latestVersion) {\r\n    return false\r\n  }\r\n\r\n  const current = semverValid(currentVersion) as string\r\n  const latest = semverValid(latestVersion) as string\r\n\r\n  return latest ? semverLessThan(current, latest) : false\r\n}\r\n\r\nexport const getCurrentSafeVersion = (gnosisSafeInstance: GnosisSafe): Promise<string> =>\r\n  gnosisSafeInstance.methods.VERSION().call()\r\n\r\nconst checkFeatureEnabledByVersion = (featureConfig: FeatureConfigByVersion, version?: string) => {\r\n  if (!version) {\r\n    return false\r\n  }\r\n  return featureConfig.validVersion ? semverSatisfies(version, featureConfig.validVersion) : true\r\n}\r\n\r\nexport const enabledFeatures = (version?: string): FEATURES[] => {\r\n  return FEATURES_BY_VERSION.reduce((acc, feature: Feature) => {\r\n    if (isFeatureEnabled(feature.name) && checkFeatureEnabledByVersion(feature, version)) {\r\n      acc.push(feature.name)\r\n    }\r\n    return acc\r\n  }, [] as FEATURES[])\r\n}\r\n\r\ninterface SafeVersionInfo {\r\n  current: string\r\n  latest: string\r\n  needUpdate: boolean\r\n}\r\n\r\nexport const checkIfSafeNeedsUpdate = async (\r\n  gnosisSafeInstance: GnosisSafe,\r\n  lastSafeVersion: string,\r\n): Promise<SafeVersionInfo> => {\r\n  if (!gnosisSafeInstance || !lastSafeVersion) {\r\n    throw new Error('checkIfSafeNeedsUpdate: No Safe Instance or version provided')\r\n  }\r\n  const safeMasterVersion = await getCurrentSafeVersion(gnosisSafeInstance)\r\n  const current = semverValid(safeMasterVersion) as string\r\n  const latest = semverValid(lastSafeVersion) as string\r\n  const needUpdate = safeNeedsUpdate(safeMasterVersion, lastSafeVersion)\r\n\r\n  return { current, latest, needUpdate }\r\n}\r\n\r\nexport const getCurrentMasterContractLastVersion = async (): Promise<string> => {\r\n  const safeMaster = await getSafeMasterContract()\r\n  let safeMasterVersion\r\n  try {\r\n    safeMasterVersion = await safeMaster.methods.VERSION().call()\r\n  } catch (err) {\r\n    // Default in case that it's not possible to obtain the version from the contract, returns a hardcoded value or an\r\n    // env variable\r\n    safeMasterVersion = LATEST_SAFE_VERSION\r\n  }\r\n  return safeMasterVersion\r\n}\r\n\r\nexport const getSafeVersionInfo = async (safeAddress: string): Promise<SafeVersionInfo> => {\r\n  try {\r\n    const safeMaster = getGnosisSafeInstanceAt(safeAddress)\r\n    const lastSafeVersion = await getCurrentMasterContractLastVersion()\r\n    return checkIfSafeNeedsUpdate(safeMaster, lastSafeVersion)\r\n  } catch (err) {\r\n    console.error(err)\r\n    throw err\r\n  }\r\n}\r\n","import { GnosisSafe } from 'src/types/contracts/GnosisSafe.d'\r\nimport { TxServiceModel } from './transactions/fetchTransactions/loadOutgoingTransactions'\r\nimport axios from 'axios'\r\n\r\nimport { buildTxServiceUrl } from 'src/logic/safe/transactions/txHistory'\r\nimport { SafeInfo } from 'src/logic/safe/utils/safeInformation'\r\nimport { SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\nimport { getSpendingLimits } from 'src/logic/safe/utils/spendingLimits'\r\nimport { buildModulesLinkedList } from 'src/logic/safe/utils/modules'\r\nimport { enabledFeatures, safeNeedsUpdate } from 'src/logic/safe/utils/safeVersion'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\n\r\nexport const getLastTx = async (safeAddress: string): Promise<TxServiceModel | null> => {\r\n  try {\r\n    const url = buildTxServiceUrl(safeAddress)\r\n    const response = await axios.get(url, { params: { limit: 1 } })\r\n\r\n    return response.data.results[0] || null\r\n  } catch (e) {\r\n    console.error('failed to retrieve last Tx from server', e)\r\n    return null\r\n  }\r\n}\r\n\r\nexport const getNewTxNonce = async (lastTx: TxServiceModel | null, safeInstance: GnosisSafe): Promise<string> => {\r\n  // use current's safe nonce as fallback\r\n  return lastTx ? `${lastTx.nonce + 1}` : (await safeInstance.methods.nonce().call()).toString()\r\n}\r\n\r\nexport const shouldExecuteTransaction = async (\r\n  safeInstance: GnosisSafe,\r\n  nonce: string,\r\n  lastTx: TxServiceModel | null,\r\n): Promise<boolean> => {\r\n  const safeNonce = (await safeInstance.methods.nonce().call()).toString()\r\n  const thresholdAsString = await safeInstance.methods.getThreshold().call()\r\n  const threshold = Number(thresholdAsString)\r\n\r\n  // Needs to collect owners signatures\r\n  if (threshold > 1) {\r\n    return false\r\n  }\r\n\r\n  // Allow first tx.\r\n  if (Number(nonce) === 0) {\r\n    return true\r\n  }\r\n\r\n  // Allow if nonce === safeNonce and threshold === 1\r\n  if (nonce === safeNonce) {\r\n    return true\r\n  }\r\n\r\n  // If the previous tx is not executed or the different between lastTx.nonce and nonce is > 1\r\n  // it's delayed using the approval mechanisms.\r\n  // Once the previous tx is executed, the current tx will be available to be executed\r\n  // by the user using the exec button.\r\n  if (lastTx) {\r\n    return lastTx.isExecuted && lastTx.nonce + 1 === Number(nonce)\r\n  }\r\n\r\n  return false\r\n}\r\n\r\n/**\r\n * Recovers Safe's remote information along with its modules and spendingLimits if there's any\r\n * @param {SafeInfo} remoteSafeInfo\r\n * @returns Promise<Partial<SafeRecordProps>>\r\n */\r\nexport const extractRemoteSafeInfo = async (remoteSafeInfo: SafeInfo): Promise<Partial<SafeRecordProps>> => {\r\n  const safeInfo: Partial<SafeRecordProps> = {\r\n    modules: undefined,\r\n    spendingLimits: undefined,\r\n  }\r\n  const safeInfoModules = remoteSafeInfo.modules.map(({ value }) => value)\r\n\r\n  if (safeInfoModules.length) {\r\n    safeInfo.modules = buildModulesLinkedList(safeInfoModules)\r\n    safeInfo.spendingLimits = await getSpendingLimits(safeInfoModules, remoteSafeInfo.address.value)\r\n  }\r\n\r\n  safeInfo.nonce = remoteSafeInfo.nonce\r\n  safeInfo.threshold = remoteSafeInfo.threshold\r\n  safeInfo.currentVersion = remoteSafeInfo.version\r\n  // FixMe: replace '1.1.1' hardcoded value in favor of data provided by services\r\n  //  see: https://github.com/gnosis/safe-react/issues/1383#issuecomment-815425652\r\n  safeInfo.needsUpdate = safeNeedsUpdate(safeInfo.currentVersion, '1.1.1')\r\n  safeInfo.featuresEnabled = enabledFeatures(safeInfo.currentVersion)\r\n\r\n  return safeInfo\r\n}\r\n\r\n/**\r\n * Merges remote owner's information with the locally stored data.\r\n * If there's no remote data, it will go with the locally stored information.\r\n * @param {SafeInfo['owners'] | undefined} remoteSafeOwners\r\n * @param {SafeRecordProps['owners'] | undefined} localSafeOwners\r\n * @returns SafeRecordProps['owners'] | undefined\r\n */\r\nexport const buildSafeOwners = (\r\n  remoteSafeOwners?: SafeInfo['owners'],\r\n  localSafeOwners?: SafeRecordProps['owners'],\r\n): SafeRecordProps['owners'] | undefined => {\r\n  if (remoteSafeOwners) {\r\n    // ToDo: review if checksums addresses is necessary,\r\n    //  as they must be provided already in the checksum form from the services\r\n    return remoteSafeOwners.map(({ value }) => checksumAddress(value))\r\n  }\r\n\r\n  // nothing to do without remote owners, so we return the stored list\r\n  return localSafeOwners\r\n}\r\n","import { createAction } from 'redux-actions'\r\nimport { AnyAction } from 'redux'\r\n\r\nexport const SET_DEFAULT_SAFE = 'SET_DEFAULT_SAFE'\r\n\r\nexport type SetDefaultSafe = (safe: string) => AnyAction\r\n\r\nconst setDefaultSafe: SetDefaultSafe = createAction(SET_DEFAULT_SAFE)\r\n\r\nexport default setDefaultSafe\r\n","import isEqual from 'lodash.isequal'\r\n\r\nimport { SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\n\r\n// This function checks if an object is a Subset of a Safe State and that they have the same values\r\nconst isStateSubset = (superObj, subObj) => {\r\n  return Object.keys(subObj).every((key) => {\r\n    if (subObj[key] && typeof subObj[key] == 'object') {\r\n      if (typeof subObj[key] === 'object' || subObj[key].size >= 0) {\r\n        // If type is Immutable Map, List or Object we use Immutable equals\r\n        return isEqual(superObj[key], subObj[key])\r\n      }\r\n      return isStateSubset(superObj[key], subObj[key])\r\n    }\r\n    return subObj[key] === superObj[key]\r\n  })\r\n}\r\n\r\nexport const shouldSafeStoreBeUpdated = (\r\n  newSafeProps: Partial<SafeRecordProps>,\r\n  oldSafeProps?: SafeRecordProps,\r\n): boolean => {\r\n  if (!oldSafeProps) return true\r\n\r\n  return !isStateSubset(oldSafeProps, newSafeProps)\r\n}\r\n","import { Map, List } from 'immutable'\r\nimport { Action, handleActions } from 'redux-actions'\r\n\r\nimport { REMOVE_SAFE } from 'src/logic/safe/store/actions/removeSafe'\r\nimport { SET_DEFAULT_SAFE } from 'src/logic/safe/store/actions/setDefaultSafe'\r\nimport { SET_LATEST_MASTER_CONTRACT_VERSION } from 'src/logic/safe/store/actions/setLatestMasterContractVersion'\r\nimport { UPDATE_SAFE } from 'src/logic/safe/store/actions/updateSafe'\r\nimport makeSafe, { SafeRecord, SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\nimport { AppReduxState } from 'src/store'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { ADD_OR_UPDATE_SAFE } from 'src/logic/safe/store/actions/addOrUpdateSafe'\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\nimport { shouldSafeStoreBeUpdated } from 'src/logic/safe/utils/shouldSafeStoreBeUpdated'\r\n\r\nexport const SAFE_REDUCER_ID = 'safes'\r\nexport const DEFAULT_SAFE_INITIAL_STATE = 'NOT_ASKED'\r\n\r\nexport const buildSafe = (storedSafe: SafeRecordProps): SafeRecordProps => {\r\n  const owners = storedSafe.owners.map(checksumAddress)\r\n\r\n  return {\r\n    ...storedSafe,\r\n    owners,\r\n    modules: null,\r\n  }\r\n}\r\n\r\nconst updateSafeProps = (prevSafe, safe) => {\r\n  return prevSafe.withMutations((record) => {\r\n    // Every property is updated individually to overcome the issue with nested data being overwritten\r\n    const safeProperties = Object.keys(safe)\r\n\r\n    // We check each safe property sent in action.payload\r\n    safeProperties.forEach((key) => {\r\n      if (safe[key] && typeof safe[key] === 'object') {\r\n        if (safe[key].length >= 0 || Map.isMap(safe[key])) {\r\n          // If type is array we replace it\r\n          // If type is Immutable Map we replace it\r\n          record.update(key, () => safe[key])\r\n        } else if (safe[key].size >= 0) {\r\n          // If type is Immutable List we replace current List\r\n          // If type is Object we do a merge\r\n          List.isList(safe[key])\r\n            ? record.set(key, safe[key])\r\n            : record.update(key, (current) => current.merge(safe[key]))\r\n        }\r\n      } else {\r\n        // By default we overwrite the value. This is for strings, numbers and unset values\r\n        record.set(key, safe[key])\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nexport type SafePayload = { safe: SafeRecord }\r\ntype SafePayloads = SafeRecord | SafePayload | string\r\n\r\ntype BaseOwnerPayload = { safeAddress: string; ownerAddress: string }\r\ntype FullOwnerPayload = BaseOwnerPayload & { ownerName: string }\r\ntype ReplaceOwnerPayload = FullOwnerPayload & { oldOwnerAddress: string }\r\n\r\ntype OwnerPayloads = BaseOwnerPayload | FullOwnerPayload | ReplaceOwnerPayload\r\n\r\ntype SafeWithAddressPayload = SafeRecord & { safeAddress: string }\r\n\r\ntype Payloads = SafePayloads | OwnerPayloads | SafeWithAddressPayload\r\n\r\nexport default handleActions<AppReduxState['safes'], Payloads>(\r\n  {\r\n    [UPDATE_SAFE]: (state, action: Action<SafeRecord>) => {\r\n      const safe = action.payload\r\n      const safeAddress = safe.address\r\n\r\n      const shouldUpdate = shouldSafeStoreBeUpdated(safe, state.getIn(['safes', safeAddress]))\r\n\r\n      return shouldUpdate\r\n        ? state.updateIn(['safes', safeAddress], makeSafe({ address: safeAddress }), (prevSafe) =>\r\n            updateSafeProps(prevSafe, safe),\r\n          )\r\n        : state\r\n    },\r\n    [ADD_OR_UPDATE_SAFE]: (state, action: Action<SafePayload>) => {\r\n      const { safe } = action.payload\r\n      const safeAddress = safe.address\r\n\r\n      if (!state.hasIn(['safes', safeAddress])) {\r\n        return state.setIn(['safes', safeAddress], makeSafe(safe))\r\n      }\r\n\r\n      const shouldUpdate = shouldSafeStoreBeUpdated(safe, state.getIn(['safes', safeAddress]))\r\n      return shouldUpdate\r\n        ? state.updateIn(['safes', safeAddress], makeSafe({ address: safeAddress }), (prevSafe) =>\r\n            updateSafeProps(prevSafe, safe),\r\n          )\r\n        : state\r\n    },\r\n    [REMOVE_SAFE]: (state, action: Action<string>) => {\r\n      const safeAddress = action.payload\r\n\r\n      const currentDefaultSafe = state.get('defaultSafe')\r\n\r\n      let newState = state.deleteIn(['safes', safeAddress])\r\n      if (sameAddress(safeAddress, currentDefaultSafe)) {\r\n        newState = newState.set('defaultSafe', DEFAULT_SAFE_INITIAL_STATE)\r\n      }\r\n\r\n      return newState\r\n    },\r\n    [SET_DEFAULT_SAFE]: (state, action: Action<SafeRecord>) => state.set('defaultSafe', action.payload),\r\n    [SET_LATEST_MASTER_CONTRACT_VERSION]: (state, action: Action<SafeRecord>) =>\r\n      state.set('latestMasterContractVersion', action.payload),\r\n  },\r\n  Map({\r\n    defaultSafe: DEFAULT_SAFE_INITIAL_STATE,\r\n    safes: Map(),\r\n    latestMasterContractVersion: '',\r\n  }) as AppReduxState['safes'],\r\n)\r\n","import { createAction } from 'redux-actions'\r\n\r\nimport { OpenCookieBannerPayload } from 'src/logic/cookies/store/reducer/cookies'\r\n\r\nexport const OPEN_COOKIE_BANNER = 'OPEN_COOKIE_BANNER'\r\n\r\nexport const openCookieBanner = createAction<OpenCookieBannerPayload>(OPEN_COOKIE_BANNER)\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport ReactGA, { EventArgs } from 'react-ga'\r\nimport { getNetworkInfo } from 'src/config'\r\n\r\nimport { getGoogleAnalyticsTrackingID } from 'src/config'\r\nimport { COOKIES_KEY } from 'src/logic/cookies/model/cookie'\r\nimport { loadFromCookie, removeCookie } from 'src/logic/cookies/utils'\r\n\r\nexport const SAFE_NAVIGATION_EVENT = 'Safe Navigation'\r\n\r\nexport const COOKIES_LIST = [\r\n  { name: '_ga', path: '/' },\r\n  { name: '_gat', path: '/' },\r\n  { name: '_gid', path: '/' },\r\n]\r\n\r\nlet analyticsLoaded = false\r\nexport const loadGoogleAnalytics = (): void => {\r\n  if (analyticsLoaded) {\r\n    return\r\n  }\r\n  // eslint-disable-next-line no-console\r\n  console.log('Loading google analytics...')\r\n  const trackingID = getGoogleAnalyticsTrackingID()\r\n  const networkInfo = getNetworkInfo()\r\n  if (!trackingID) {\r\n    console.error('[GoogleAnalytics] - In order to use google analytics you need to add an trackingID')\r\n  } else {\r\n    ReactGA.initialize(trackingID)\r\n    ReactGA.set({\r\n      anonymizeIp: true,\r\n      appName: `Gnosis Safe Multisig (${networkInfo.label})`,\r\n      appId: `io.gnosis.safe.${networkInfo.label.toLowerCase()}`,\r\n      appVersion: process.env.REACT_APP_APP_VERSION,\r\n    })\r\n    analyticsLoaded = true\r\n  }\r\n}\r\n\r\ntype UseAnalyticsResponse = {\r\n  trackPage: (path: string) => void\r\n  trackEvent: (event: EventArgs) => void\r\n}\r\n\r\nexport const useAnalytics = (): UseAnalyticsResponse => {\r\n  const [analyticsAllowed, setAnalyticsAllowed] = useState(false)\r\n\r\n  useEffect(() => {\r\n    async function fetchCookiesFromStorage() {\r\n      const cookiesState = await loadFromCookie(COOKIES_KEY)\r\n      if (cookiesState) {\r\n        const { acceptedAnalytics } = cookiesState\r\n        setAnalyticsAllowed(acceptedAnalytics)\r\n      }\r\n    }\r\n    fetchCookiesFromStorage()\r\n  }, [])\r\n\r\n  const trackPage = useCallback(\r\n    (page) => {\r\n      if (!analyticsAllowed || !analyticsLoaded) {\r\n        return\r\n      }\r\n      ReactGA.pageview(page)\r\n    },\r\n    [analyticsAllowed],\r\n  )\r\n\r\n  const trackEvent = useCallback(\r\n    (event: EventArgs) => {\r\n      if (!analyticsAllowed || !analyticsLoaded) {\r\n        return\r\n      }\r\n      ReactGA.event(event)\r\n    },\r\n    [analyticsAllowed],\r\n  )\r\n\r\n  return { trackPage, trackEvent }\r\n}\r\n\r\n// we remove GA cookies manually as react-ga does not provides a utility for it.\r\nexport const removeCookies = (): void => {\r\n  const subDomain = location.host.split('.').slice(-2).join('.')\r\n  COOKIES_LIST.forEach((cookie) => removeCookie(cookie.name, cookie.path, `.${subDomain}`))\r\n}\r\n","import { createAction } from 'redux-actions'\r\n\r\nimport { SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\n\r\nexport const UPDATE_SAFE = 'UPDATE_SAFE'\r\n\r\nexport const updateSafe = createAction<Partial<SafeRecordProps>>(UPDATE_SAFE)\r\n","import { ThunkDispatch } from 'redux-thunk'\r\nimport { AnyAction } from 'redux'\r\n\r\nimport {\r\n  addHistoryTransactions,\r\n  addQueuedTransactions,\r\n} from 'src/logic/safe/store/actions/transactions/gatewayTransactions'\r\nimport { loadHistoryTransactions, loadQueuedTransactions } from './loadGatewayTransactions'\r\nimport { AppReduxState } from 'src/store'\r\n\r\nexport default (safeAddress: string) => async (\r\n  dispatch: ThunkDispatch<AppReduxState, undefined, AnyAction>,\r\n): Promise<void> => {\r\n  const [history, queued] = await Promise.allSettled([\r\n    loadHistoryTransactions(safeAddress),\r\n    loadQueuedTransactions(safeAddress),\r\n  ])\r\n\r\n  if (history.status === 'fulfilled') {\r\n    const values = history.value\r\n\r\n    if (values.length) {\r\n      dispatch(addHistoryTransactions({ safeAddress, values }))\r\n    }\r\n  } else {\r\n    console.error('Failed to load history transactions', history.reason)\r\n  }\r\n\r\n  if (queued.status === 'fulfilled') {\r\n    const values = queued.value\r\n    dispatch(addQueuedTransactions({ safeAddress, values }))\r\n  } else {\r\n    console.error('Failed to load queued transactions', queued.reason)\r\n  }\r\n}\r\n","import Cookies from 'js-cookie'\r\n\r\nimport { getNetworkName } from 'src/config'\r\n\r\nconst PREFIX = `v1_${getNetworkName()}`\r\n\r\nexport const loadFromCookie = async (key: string, withoutPrefix = false): Promise<undefined | Record<string, any>> => {\r\n  const prefix = withoutPrefix ? '' : `${PREFIX}__`\r\n  try {\r\n    const stringifiedValue = await Cookies.get(`${prefix}${key}`)\r\n    if (stringifiedValue === null || stringifiedValue === undefined) {\r\n      return undefined\r\n    }\r\n\r\n    return JSON.parse(stringifiedValue)\r\n  } catch (err) {\r\n    console.error(`Failed to load ${key} from cookies:`, err)\r\n    return undefined\r\n  }\r\n}\r\n\r\nexport const saveCookie = async (key: string, value: Record<string, any>, expirationDays: number): Promise<void> => {\r\n  try {\r\n    const stringifiedValue = JSON.stringify(value)\r\n    const expiration = expirationDays ? { expires: expirationDays } : undefined\r\n    await Cookies.set(`${PREFIX}__${key}`, stringifiedValue, expiration)\r\n  } catch (err) {\r\n    console.error(`Failed to save ${key} in cookies:`, err)\r\n  }\r\n}\r\n\r\nexport const removeCookie = (key: string, path: string, domain: string): void => Cookies.remove(key, { path, domain })\r\n","import { ETHEREUM_NETWORK } from 'src/config/networks/network.d'\r\nimport { getNetworkId } from 'src/config'\r\n\r\nexport const ADDRESS_BOOK_DEFAULT_NAME = 'UNKNOWN'\r\n\r\nexport type AddressBookEntry = {\r\n  address: string // the contact address\r\n  name: string // human-readable name\r\n  chainId: ETHEREUM_NETWORK // see https://chainid.network\r\n}\r\n\r\nconst networkId = getNetworkId()\r\n\r\nexport const makeAddressBookEntry = ({\r\n  address,\r\n  name,\r\n  chainId = networkId,\r\n}: {\r\n  address: string\r\n  name: string\r\n  chainId?: number\r\n}): AddressBookEntry => ({\r\n  address,\r\n  name,\r\n  chainId,\r\n})\r\n\r\nexport type AddressBookState = AddressBookEntry[]\r\n","import { createAction } from 'redux-actions'\r\n\r\nimport { SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\n\r\nexport const ADD_OR_UPDATE_SAFE = 'ADD_OR_UPDATE_SAFE'\r\n\r\nexport const addOrUpdateSafe = createAction(ADD_OR_UPDATE_SAFE, (safe: SafeRecordProps) => ({\r\n  safe,\r\n}))\r\n","export default __webpack_public_path__ + \"static/media/token_eth.62aa7553.svg\";","import EtherLogo from 'src/config/assets/token_eth.svg'\r\nimport { EnvironmentSettings, ETHEREUM_NETWORK, NetworkConfig } from 'src/config/networks/network.d'\r\n\r\nconst baseConfig: EnvironmentSettings = {\r\n  clientGatewayUrl: 'http://localhost:8001/v1',\r\n  txServiceUrl: 'http://localhost:8000/api/v1',\r\n  relayApiUrl: 'https://safe-relay.staging.gnosisdev.com/api/v1',\r\n  safeAppsUrl: 'http://localhost:3002',\r\n  gasPriceOracle: {\r\n    url: 'https://ethgasstation.info/json/ethgasAPI.json',\r\n    gasParameter: 'average',\r\n  },\r\n  rpcServiceUrl: 'http://localhost:4447',\r\n  networkExplorerName: 'Etherscan',\r\n  networkExplorerUrl: 'https://rinkeby.etherscan.io',\r\n  networkExplorerApiUrl: 'https://api-rinkeby.etherscan.io/api',\r\n}\r\n\r\nconst local: NetworkConfig = {\r\n  environment: {\r\n    production: {\r\n      ...baseConfig,\r\n    },\r\n  },\r\n  network: {\r\n    id: ETHEREUM_NETWORK.LOCAL,\r\n    backgroundColor: '#E8673C',\r\n    textColor: '#ffffff',\r\n    label: 'LocalRPC',\r\n    isTestNet: true,\r\n    nativeCoin: {\r\n      address: '0x0000000000000000000000000000000000000000',\r\n      name: 'Ether',\r\n      symbol: 'ETH',\r\n      decimals: 18,\r\n      logoUri: EtherLogo,\r\n    },\r\n  },\r\n}\r\n\r\nexport default local\r\n","import EtherLogo from 'src/config/assets/token_eth.svg'\r\nimport { EnvironmentSettings, ETHEREUM_NETWORK, NetworkConfig } from 'src/config/networks/network.d'\r\nimport { ETHGASSTATION_API_KEY } from 'src/utils/constants'\r\n\r\nconst baseConfig: EnvironmentSettings = {\r\n  clientGatewayUrl: 'https://safe-client.mainnet.staging.gnosisdev.com/v1',\r\n  txServiceUrl: 'https://safe-transaction.mainnet.staging.gnosisdev.com/api/v1',\r\n  safeAppsUrl: 'https://safe-apps.dev.gnosisdev.com',\r\n  gasPriceOracle: {\r\n    url: 'https://ethgasstation.info/json/ethgasAPI.json',\r\n    gasParameter: 'average',\r\n  },\r\n  rpcServiceUrl: 'https://mainnet.infura.io:443/v3',\r\n  networkExplorerName: 'Etherscan',\r\n  networkExplorerUrl: 'https://etherscan.io',\r\n  networkExplorerApiUrl: 'https://api.etherscan.io/api',\r\n}\r\n\r\nconst mainnet: NetworkConfig = {\r\n  environment: {\r\n    dev: {\r\n      ...baseConfig,\r\n    },\r\n    staging: {\r\n      ...baseConfig,\r\n      safeAppsUrl: 'https://safe-apps.staging.gnosisdev.com',\r\n    },\r\n    production: {\r\n      ...baseConfig,\r\n      clientGatewayUrl: 'https://safe-client.mainnet.gnosis.io/v1',\r\n      txServiceUrl: 'https://safe-transaction.mainnet.gnosis.io/api/v1',\r\n      safeAppsUrl: 'https://apps.gnosis-safe.io',\r\n    },\r\n  },\r\n  network: {\r\n    id: ETHEREUM_NETWORK.MAINNET,\r\n    backgroundColor: '#E8E7E6',\r\n    textColor: '#001428',\r\n    label: 'Mainnet',\r\n    isTestNet: false,\r\n    nativeCoin: {\r\n      address: '0x0000000000000000000000000000000000000000',\r\n      name: 'Ether',\r\n      symbol: 'ETH',\r\n      decimals: 18,\r\n      logoUri: EtherLogo,\r\n    },\r\n  },\r\n}\r\n\r\nexport default mainnet\r\n","import EtherLogo from 'src/config/assets/token_eth.svg'\r\nimport { EnvironmentSettings, ETHEREUM_NETWORK, NetworkConfig, WALLETS } from 'src/config/networks/network.d'\r\nimport { ETHGASSTATION_API_KEY } from 'src/utils/constants'\r\n\r\nconst baseConfig: EnvironmentSettings = {\r\n  clientGatewayUrl: 'https://safe-client.rinkeby.staging.gnosisdev.com/v1',\r\n  txServiceUrl: 'https://safe-transaction.rinkeby.staging.gnosisdev.com/api/v1',\r\n  safeAppsUrl: 'https://safe-apps.dev.gnosisdev.com',\r\n  gasPriceOracle: {\r\n    url: `https://ethgasstation.info/json/ethgasAPI.json?api-key=${ETHGASSTATION_API_KEY}`,\r\n    gasParameter: 'average',\r\n  },\r\n  rpcServiceUrl: 'https://rpctest.meter.io',\r\n  networkExplorerName: 'Warringstakes',\r\n  networkExplorerUrl: 'https://scan-warringstakes.meter.io/',\r\n  networkExplorerApiUrl: 'https://api.meter.io:8000/api',\r\n}\r\n\r\nconst rinkeby: NetworkConfig = {\r\n  environment: {\r\n    dev: {\r\n      ...baseConfig,\r\n    },\r\n    staging: {\r\n      ...baseConfig,\r\n      safeAppsUrl: 'https://safe-apps.staging.gnosisdev.com',\r\n    },\r\n    production: {\r\n      ...baseConfig,\r\n      clientGatewayUrl: 'https://safe-client.rinkeby.gnosis.io/v1',\r\n      txServiceUrl: 'https://safe-transaction.rinkeby.gnosis.io/api/v1',\r\n      safeAppsUrl: 'https://apps.gnosis-safe.io',\r\n    },\r\n  },\r\n  network: {\r\n    id: ETHEREUM_NETWORK.RINKEBY,\r\n    backgroundColor: '#E8673C',\r\n    textColor: '#ffffff',\r\n    label: 'MeterTest',\r\n    isTestNet: true,\r\n    nativeCoin: {\r\n      address: '0x4cb6cEf87d8cADf966B455E8BD58ffF32aBA49D1 ',\r\n      name: 'MeterStable Coin',\r\n      symbol: 'MTR',\r\n      decimals: 18,\r\n      logoUri: EtherLogo,\r\n    },\r\n  },\r\n  disabledWallets: [WALLETS.FORTMATIC],\r\n}\r\n\r\nexport default rinkeby\r\n","export default __webpack_public_path__ + \"static/media/token_xdai.f9f7c363.svg\";","import xDaiLogo from 'src/config/assets/token_xdai.svg'\r\nimport { EnvironmentSettings, ETHEREUM_NETWORK, FEATURES, NetworkConfig, WALLETS } from 'src/config/networks/network.d'\r\n\r\nconst baseConfig: EnvironmentSettings = {\r\n  clientGatewayUrl: 'https://safe-client.xdai.gnosis.io/v1',\r\n  txServiceUrl: 'https://safe-transaction.xdai.gnosis.io/api/v1',\r\n  safeAppsUrl: 'https://safe-apps-xdai.staging.gnosisdev.com',\r\n  gasPrice: 1e9,\r\n  rpcServiceUrl: 'https://dai.poa.network/',\r\n  networkExplorerName: 'Blockscout',\r\n  networkExplorerUrl: 'https://blockscout.com/poa/xdai',\r\n  networkExplorerApiUrl: 'https://blockscout.com/poa/xdai/api',\r\n}\r\n\r\nconst xDai: NetworkConfig = {\r\n  environment: {\r\n    staging: {\r\n      ...baseConfig,\r\n    },\r\n    production: {\r\n      ...baseConfig,\r\n      safeAppsUrl: 'https://apps-xdai.gnosis-safe.io',\r\n    },\r\n  },\r\n  network: {\r\n    id: ETHEREUM_NETWORK.XDAI,\r\n    backgroundColor: '#48A8A6',\r\n    textColor: '#ffffff',\r\n    label: 'xDai',\r\n    isTestNet: false,\r\n    nativeCoin: {\r\n      address: '0x0000000000000000000000000000000000000000',\r\n      name: 'xDai',\r\n      symbol: 'xDai',\r\n      decimals: 18,\r\n      logoUri: xDaiLogo,\r\n    },\r\n  },\r\n  disabledWallets: [\r\n    WALLETS.TREZOR,\r\n    WALLETS.LEDGER,\r\n    WALLETS.COINBASE,\r\n    WALLETS.FORTMATIC,\r\n    WALLETS.OPERA,\r\n    WALLETS.OPERA_TOUCH,\r\n    WALLETS.TORUS,\r\n    WALLETS.TRUST,\r\n    WALLETS.WALLET_LINK,\r\n    WALLETS.AUTHEREUM,\r\n    WALLETS.LATTICE,\r\n  ],\r\n  disabledFeatures: [FEATURES.DOMAIN_LOOKUP],\r\n}\r\n\r\nexport default xDai\r\n","export default __webpack_public_path__ + \"static/media/token_ewc.254c13b1.svg\";","import EwcLogo from 'src/config/assets/token_ewc.svg'\r\nimport { EnvironmentSettings, ETHEREUM_NETWORK, NetworkConfig, WALLETS } from 'src/config/networks/network.d'\r\n\r\n// @todo (agustin) we need to use fixed gasPrice because the oracle is not working right now and it's returning 0\r\n// once the oracle is fixed we need to remove the fixed value\r\nconst baseConfig: EnvironmentSettings = {\r\n  clientGatewayUrl: 'https://safe-client.ewc.gnosis.io/v1',\r\n  txServiceUrl: 'https://safe-transaction.ewc.gnosis.io/api/v1',\r\n  safeAppsUrl: 'https://safe-apps-ewc.staging.gnosisdev.com',\r\n  gasPriceOracle: {\r\n    url: 'https://station.energyweb.org',\r\n    gasParameter: 'standard',\r\n  },\r\n  gasPrice: 1e6,\r\n  rpcServiceUrl: 'https://rpc.energyweb.org',\r\n  networkExplorerName: 'Energy web explorer',\r\n  networkExplorerUrl: 'https://explorer.energyweb.org',\r\n  networkExplorerApiUrl: 'https://explorer.energyweb.org/api',\r\n}\r\n\r\nconst mainnet: NetworkConfig = {\r\n  environment: {\r\n    dev: {\r\n      ...baseConfig,\r\n    },\r\n    staging: {\r\n      ...baseConfig,\r\n    },\r\n    production: {\r\n      ...baseConfig,\r\n      safeAppsUrl: 'https://apps-ewc.gnosis-safe.io',\r\n    },\r\n  },\r\n  network: {\r\n    id: ETHEREUM_NETWORK.ENERGY_WEB_CHAIN,\r\n    backgroundColor: '#A566FF',\r\n    textColor: '#ffffff',\r\n    label: 'EWC',\r\n    isTestNet: false,\r\n    nativeCoin: {\r\n      address: '0x0000000000000000000000000000000000000000',\r\n      name: 'Energy web token',\r\n      symbol: 'EWT',\r\n      decimals: 18,\r\n      logoUri: EwcLogo,\r\n    },\r\n  },\r\n  disabledWallets: [\r\n    WALLETS.TREZOR,\r\n    WALLETS.LEDGER,\r\n    WALLETS.COINBASE,\r\n    WALLETS.FORTMATIC,\r\n    WALLETS.OPERA,\r\n    WALLETS.OPERA_TOUCH,\r\n    WALLETS.PORTIS,\r\n    WALLETS.TORUS,\r\n    WALLETS.TRUST,\r\n    WALLETS.WALLET_LINK,\r\n    WALLETS.AUTHEREUM,\r\n    WALLETS.LATTICE,\r\n  ],\r\n}\r\n\r\nexport default mainnet\r\n","import EwcLogo from 'src/config/assets/token_ewc.svg'\r\nimport { EnvironmentSettings, ETHEREUM_NETWORK, NetworkConfig, WALLETS } from 'src/config/networks/network.d'\r\n\r\nconst baseConfig: EnvironmentSettings = {\r\n  clientGatewayUrl: 'https://safe-client.volta.gnosis.io/v1',\r\n  txServiceUrl: 'https://safe-transaction.volta.gnosis.io/api/v1',\r\n  safeAppsUrl: 'https://safe-apps-volta.staging.gnosisdev.com',\r\n  gasPriceOracle: {\r\n    url: 'https://station.energyweb.org',\r\n    gasParameter: 'standard',\r\n  },\r\n  rpcServiceUrl: 'https://volta-rpc.energyweb.org',\r\n  networkExplorerName: 'Volta explorer',\r\n  networkExplorerUrl: 'https://volta-explorer.energyweb.org',\r\n  networkExplorerApiUrl: 'https://volta-explorer.energyweb.org/api',\r\n}\r\n\r\nconst mainnet: NetworkConfig = {\r\n  environment: {\r\n    dev: {\r\n      ...baseConfig,\r\n    },\r\n    staging: {\r\n      ...baseConfig,\r\n    },\r\n    production: {\r\n      ...baseConfig,\r\n      safeAppsUrl: 'https://apps-volta.gnosis-safe.io',\r\n    },\r\n  },\r\n  network: {\r\n    id: ETHEREUM_NETWORK.VOLTA,\r\n    backgroundColor: '#514989',\r\n    textColor: '#ffffff',\r\n    label: 'Volta',\r\n    isTestNet: true,\r\n    nativeCoin: {\r\n      address: '0x0000000000000000000000000000000000000000',\r\n      name: 'Volta Token',\r\n      symbol: 'VT',\r\n      decimals: 18,\r\n      logoUri: EwcLogo,\r\n    },\r\n  },\r\n  disabledWallets: [\r\n    WALLETS.TREZOR,\r\n    WALLETS.LEDGER,\r\n    WALLETS.COINBASE,\r\n    WALLETS.FORTMATIC,\r\n    WALLETS.OPERA,\r\n    WALLETS.OPERA_TOUCH,\r\n    WALLETS.PORTIS,\r\n    WALLETS.TORUS,\r\n    WALLETS.TRUST,\r\n    WALLETS.WALLET_LINK,\r\n    WALLETS.AUTHEREUM,\r\n    WALLETS.LATTICE,\r\n  ],\r\n}\r\n\r\nexport default mainnet\r\n","import local from './local'\r\nimport mainnet from './mainnet'\r\nimport rinkeby from './rinkeby'\r\nimport xdai from './xdai'\r\nimport energy_web_chain from './energy_web_chain'\r\nimport volta from './volta'\r\n\r\nexport default {\r\n  local,\r\n  mainnet,\r\n  rinkeby,\r\n  xdai,\r\n  energy_web_chain,\r\n  volta,\r\n}\r\n","import memoize from 'lodash.memoize'\r\n\r\nimport networks from 'src/config/networks'\r\nimport {\r\n  EnvironmentSettings,\r\n  ETHEREUM_NETWORK,\r\n  FEATURES,\r\n  GasPriceOracle,\r\n  NetworkSettings,\r\n  SafeFeatures,\r\n  Wallets,\r\n} from 'src/config/networks/network.d'\r\nimport { APP_ENV, ETHERSCAN_API_KEY, GOOGLE_ANALYTICS_ID, INFURA_TOKEN, NETWORK, NODE_ENV } from 'src/utils/constants'\r\nimport { ensureOnce } from 'src/utils/singleton'\r\n\r\nexport const getNetworkId = (): ETHEREUM_NETWORK => ETHEREUM_NETWORK[NETWORK]\r\n\r\nexport const getNetworkName = (): string => ETHEREUM_NETWORK[getNetworkId()]\r\n\r\nexport const usesInfuraRPC = [ETHEREUM_NETWORK.MAINNET, ETHEREUM_NETWORK.RINKEBY].includes(getNetworkId())\r\n\r\nconst getCurrentEnvironment = (): string => {\r\n  switch (NODE_ENV) {\r\n    case 'test': {\r\n      return 'test'\r\n    }\r\n    case 'production': {\r\n      return APP_ENV === 'production' ? 'production' : 'staging'\r\n    }\r\n    default: {\r\n      return 'dev'\r\n    }\r\n  }\r\n}\r\n\r\ntype NetworkSpecificConfiguration = EnvironmentSettings & {\r\n  network: NetworkSettings\r\n  disabledFeatures?: SafeFeatures\r\n  disabledWallets?: Wallets\r\n}\r\n\r\nconst configuration = (): NetworkSpecificConfiguration => {\r\n  const currentEnvironment = getCurrentEnvironment()\r\n\r\n  // special case for test environment\r\n  if (currentEnvironment === 'test') {\r\n    const configFile = networks.local\r\n\r\n    return {\r\n      ...configFile.environment.production,\r\n      network: configFile.network,\r\n      disabledFeatures: configFile.disabledFeatures,\r\n    }\r\n  }\r\n\r\n  // lookup the config file based on the network specified in the NETWORK variable\r\n  const configFile = networks[getNetworkName().toLowerCase()]\r\n  // defaults to 'production' as it's the only environment that is required for the network configs\r\n  const networkBaseConfig = configFile.environment[currentEnvironment] ?? configFile.environment.production\r\n\r\n  return {\r\n    ...networkBaseConfig,\r\n    network: configFile.network,\r\n    disabledFeatures: configFile.disabledFeatures,\r\n    disabledWallets: configFile.disabledWallets,\r\n  }\r\n}\r\n\r\nconst getConfig: () => NetworkSpecificConfiguration = ensureOnce(configuration)\r\n\r\nexport const getClientGatewayUrl = (): string => getConfig().clientGatewayUrl\r\n\r\nexport const getTxServiceUrl = (): string => getConfig().txServiceUrl\r\n\r\nexport const getRelayUrl = (): string | undefined => getConfig().relayApiUrl\r\n\r\nexport const getGnosisSafeAppsUrl = (): string => getConfig().safeAppsUrl\r\n\r\nexport const getGasPrice = (): number | undefined => getConfig()?.gasPrice\r\n\r\nexport const getGasPriceOracle = (): GasPriceOracle | undefined => getConfig()?.gasPriceOracle\r\n\r\nexport const getRpcServiceUrl = (): string =>\r\n  usesInfuraRPC ? `${getConfig().rpcServiceUrl}/${INFURA_TOKEN}` : getConfig().rpcServiceUrl\r\n\r\nexport const getSafeClientGatewayBaseUrl = (safeAddress: string) => `${getClientGatewayUrl()}/safes/${safeAddress}`\r\n\r\nexport const getTxDetailsUrl = (clientGatewayTxId: string) =>\r\n  `${getClientGatewayUrl()}/transactions/${clientGatewayTxId}`\r\n\r\nexport const getSafeServiceBaseUrl = (safeAddress: string) => `${getTxServiceUrl()}/safes/${safeAddress}`\r\n\r\nexport const getTokensServiceBaseUrl = () => `${getTxServiceUrl()}/tokens`\r\n\r\nexport const getNetworkExplorerInfo = (): { name: string; url: string; apiUrl: string } => ({\r\n  name: getConfig().networkExplorerName,\r\n  url: getConfig().networkExplorerUrl,\r\n  apiUrl: getConfig().networkExplorerApiUrl,\r\n})\r\n\r\nexport const getNetworkConfigDisabledFeatures = (): SafeFeatures => getConfig().disabledFeatures || []\r\n\r\n/**\r\n * Checks if a particular feature is enabled in the current network configuration\r\n * @params {FEATURES} feature\r\n * @returns boolean\r\n */\r\nexport const isFeatureEnabled = memoize((feature: FEATURES): boolean => {\r\n  const disabledFeatures = getNetworkConfigDisabledFeatures()\r\n  return !disabledFeatures.some((disabledFeature) => disabledFeature === feature)\r\n})\r\n\r\nexport const getNetworkConfigDisabledWallets = (): Wallets => getConfig()?.disabledWallets || []\r\n\r\nexport const getNetworkInfo = (): NetworkSettings => getConfig().network\r\n\r\nexport const getGoogleAnalyticsTrackingID = (): string => GOOGLE_ANALYTICS_ID\r\n\r\nconst fetchContractABI = memoize(\r\n  async (url: string, contractAddress: string, apiKey?: string) => {\r\n    let params: Record<string, string> = {\r\n      module: 'contract',\r\n      action: 'getAbi',\r\n      address: contractAddress,\r\n    }\r\n\r\n    if (apiKey) {\r\n      params = { ...params, apiKey }\r\n    }\r\n\r\n    const response = await fetch(`${url}?${new URLSearchParams(params)}`)\r\n\r\n    if (!response.ok) {\r\n      return { status: 0, result: [] }\r\n    }\r\n\r\n    return response.json()\r\n  },\r\n  (url, contractAddress) => `${url}_${contractAddress}`,\r\n)\r\n\r\nconst getNetworkExplorerApiKey = (networkExplorerName: string): string | undefined => {\r\n  switch (networkExplorerName.toLowerCase()) {\r\n    case 'etherscan': {\r\n      return ETHERSCAN_API_KEY\r\n    }\r\n    default: {\r\n      return undefined\r\n    }\r\n  }\r\n}\r\n\r\nexport const getContractABI = async (contractAddress: string) => {\r\n  const { apiUrl, name } = getNetworkExplorerInfo()\r\n\r\n  const apiKey = getNetworkExplorerApiKey(name)\r\n\r\n  try {\r\n    const { result, status } = await fetchContractABI(apiUrl, contractAddress, apiKey)\r\n\r\n    if (status === '0') {\r\n      return []\r\n    }\r\n\r\n    return result\r\n  } catch (e) {\r\n    console.error('Failed to retrieve ABI', e)\r\n    return undefined\r\n  }\r\n}\r\n\r\nexport type BlockScanInfo = () => {\r\n  alt: string\r\n  url: string\r\n}\r\n\r\nexport const getExplorerInfo = (hash: string): BlockScanInfo => {\r\n  const { name, url } = getNetworkExplorerInfo()\r\n  const networkInfo = getNetworkInfo()\r\n\r\n  switch (networkInfo.id) {\r\n    default: {\r\n      const type = hash.length > 42 ? 'tx' : 'address'\r\n      return () => ({\r\n        url: `${url}/${type}/${hash}`,\r\n        alt: name || '',\r\n      })\r\n    }\r\n  }\r\n}\r\n","import ReactGA from 'react-ga'\r\nimport { Dispatch } from 'redux'\r\n\r\nimport addProvider from './addProvider'\r\n\r\nimport { getNetworkId, getNetworkInfo } from 'src/config'\r\nimport { NOTIFICATIONS, enhanceSnackbarForAction } from 'src/logic/notifications'\r\nimport enqueueSnackbar from 'src/logic/notifications/store/actions/enqueueSnackbar'\r\nimport { getProviderInfo, getWeb3 } from 'src/logic/wallets/getWeb3'\r\nimport { makeProvider } from 'src/logic/wallets/store/model/provider'\r\n\r\nexport const processProviderResponse = (dispatch, provider) => {\r\n  const walletRecord = makeProvider(provider)\r\n  dispatch(addProvider(walletRecord))\r\n}\r\n\r\nconst handleProviderNotification = (provider, dispatch) => {\r\n  const { available, loaded, network } = provider\r\n\r\n  if (!loaded) {\r\n    dispatch(enqueueSnackbar(enhanceSnackbarForAction(NOTIFICATIONS.CONNECT_WALLET_ERROR_MSG)))\r\n    return\r\n  }\r\n\r\n  if (network !== getNetworkId()) {\r\n    dispatch(enqueueSnackbar(NOTIFICATIONS.WRONG_NETWORK_MSG))\r\n    return\r\n  }\r\n\r\n  if (getNetworkInfo().isTestNet) {\r\n    dispatch(enqueueSnackbar(enhanceSnackbarForAction(NOTIFICATIONS.TESTNET_VERSION_MSG)))\r\n  }\r\n\r\n  if (available) {\r\n    // NOTE:\r\n    // if you want to be able to dispatch a `closeSnackbar` action later on,\r\n    // you SHOULD pass your own `key` in the options. `key` can be any sequence\r\n    // of number or characters, but it has to be unique to a given snackbar.\r\n\r\n    ReactGA.event({\r\n      category: 'Wallets',\r\n      action: 'Connect a wallet',\r\n      label: provider.name,\r\n    })\r\n  } else {\r\n    dispatch(enqueueSnackbar(enhanceSnackbarForAction(NOTIFICATIONS.UNLOCK_WALLET_MSG)))\r\n  }\r\n}\r\n\r\nexport default (providerName: string) => async (dispatch: Dispatch): Promise<void> => {\r\n  const web3 = getWeb3()\r\n  const providerInfo = await getProviderInfo(web3, providerName)\r\n  await handleProviderNotification(providerInfo, dispatch)\r\n  processProviderResponse(dispatch, providerInfo)\r\n}\r\n","import { Action, handleActions } from 'redux-actions'\r\nimport { SET_CURRENT_CURRENCY } from 'src/logic/currencyValues/store/actions/setSelectedCurrency'\r\nimport { AppReduxState } from 'src/store'\r\nimport { SET_AVAILABLE_CURRENCIES } from 'src/logic/currencyValues/store/actions/setAvailableCurrencies'\r\n\r\nexport const CURRENCY_VALUES_KEY = 'currencyValues'\r\n\r\nexport type CurrencyValuesState = {\r\n  selectedCurrency: string\r\n  availableCurrencies: string[]\r\n}\r\n\r\nexport const initialState = {\r\n  selectedCurrency: 'USD',\r\n  availableCurrencies: ['USD'],\r\n}\r\n\r\nexport type SelectedCurrencyPayload = { selectedCurrency: string }\r\nexport type AvailableCurrenciesPayload = { availableCurrencies: string[] }\r\n\r\nexport default handleActions<AppReduxState['currencyValues'], CurrencyValuesState>(\r\n  {\r\n    [SET_CURRENT_CURRENCY]: (state, action: Action<SelectedCurrencyPayload>) => {\r\n      const { selectedCurrency } = action.payload\r\n      state.selectedCurrency = selectedCurrency\r\n      return state\r\n    },\r\n    [SET_AVAILABLE_CURRENCIES]: (state, action: Action<AvailableCurrenciesPayload>) => {\r\n      const { availableCurrencies } = action.payload\r\n      state.availableCurrencies = availableCurrencies\r\n      return state\r\n    },\r\n  },\r\n  initialState,\r\n)\r\n","export const COOKIES_KEY = 'COOKIES'\r\n","// This is pretty new so I'll leave the docs here\r\n// https://v8.dev/features/intl-numberformat\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat\r\n\r\n// Locale is an empty array because we want it to use user's locale\r\nconst lt1kFormatter = new Intl.NumberFormat([], { maximumFractionDigits: 5 })\r\nconst lt10kFormatter = new Intl.NumberFormat([], { maximumFractionDigits: 4 })\r\nconst lt100kFormatter = new Intl.NumberFormat([], { maximumFractionDigits: 3 })\r\nconst lt1mFormatter = new Intl.NumberFormat([], { maximumFractionDigits: 2 })\r\nconst lt10mFormatter = new Intl.NumberFormat([], { maximumFractionDigits: 1 })\r\nconst lt100mFormatter = new Intl.NumberFormat([], { maximumFractionDigits: 0 })\r\n// same format for billions and trillions\r\nconst lt1000tFormatter = new Intl.NumberFormat([], { maximumFractionDigits: 3, notation: 'compact' } as any)\r\n\r\nexport const formatAmount = (number: string): string => {\r\n  let numberFloat: number | string = parseFloat(number)\r\n\r\n  if (numberFloat === 0) {\r\n    numberFloat = '0'\r\n  } else if (numberFloat < 0.001) {\r\n    numberFloat = '< 0.001'\r\n  } else if (numberFloat < 1000) {\r\n    numberFloat = lt1kFormatter.format(numberFloat)\r\n  } else if (numberFloat < 10000) {\r\n    numberFloat = lt10kFormatter.format(numberFloat)\r\n  } else if (numberFloat < 100000) {\r\n    numberFloat = lt100kFormatter.format(numberFloat)\r\n  } else if (numberFloat < 1000000) {\r\n    numberFloat = lt1mFormatter.format(numberFloat)\r\n  } else if (numberFloat < 10000000) {\r\n    numberFloat = lt10mFormatter.format(numberFloat)\r\n  } else if (numberFloat < 100000000) {\r\n    numberFloat = lt100mFormatter.format(numberFloat)\r\n  } else if (numberFloat < 10 ** 15) {\r\n    numberFloat = lt1000tFormatter.format(numberFloat)\r\n  } else {\r\n    numberFloat = '> 1000T'\r\n  }\r\n\r\n  return numberFloat\r\n}\r\n\r\nconst options = { style: 'currency', currency: 'USD', minimumFractionDigits: 2, maximumFractionDigits: 8 }\r\nconst usNumberFormatter = new Intl.NumberFormat('en-US', options)\r\n\r\nexport const formatAmountInUsFormat = (amount: string): string => {\r\n  const numberFloat: number = parseFloat(amount)\r\n  return usNumberFormatter.format(numberFloat).replace('$', '')\r\n}\r\n","import { Record, RecordOf } from 'immutable'\r\nimport { TokenType } from 'src/logic/safe/store/models/types/gateway'\r\nimport { BalanceRecord } from 'src/logic/tokens/store/actions/fetchSafeTokens'\r\n\r\nexport type TokenProps = {\r\n  address: string\r\n  name: string\r\n  symbol: string\r\n  decimals: number | string\r\n  logoUri: string\r\n  balance: BalanceRecord\r\n  type?: TokenType\r\n}\r\n\r\nexport const makeToken = Record<TokenProps>({\r\n  address: '',\r\n  name: '',\r\n  symbol: '',\r\n  decimals: 0,\r\n  logoUri: '',\r\n  balance: {\r\n    fiatBalance: '0',\r\n    tokenBalance: '0',\r\n  },\r\n})\r\n// balance is only set in extendedSafeTokensSelector when we display user's token balances\r\n\r\nexport type Token = RecordOf<TokenProps>\r\n","import { List } from 'immutable'\r\nimport { Confirmation } from 'src/logic/safe/store/models/types/confirmation'\r\nimport { EMPTY_DATA } from 'src/logic/wallets/ethTransactions'\r\nimport semverSatisfies from 'semver/functions/satisfies'\r\nimport { SAFE_VERSION_FOR_OFF_CHAIN_SIGNATURES } from './transactions/offchainSigner'\r\n\r\n// Here we're checking that safe contract version is greater or equal 1.1.1, but\r\n// theoretically EIP712 should also work for 1.0.0 contracts\r\n// Also, offchain signatures are not working for ledger/trezor wallet because of a bug in their library:\r\n// https://github.com/LedgerHQ/ledgerjs/issues/378\r\n// Couldn't find an issue for trezor but the error is almost the same\r\nexport const checkIfOffChainSignatureIsPossible = (\r\n  isExecution: boolean,\r\n  isSmartContractWallet: boolean,\r\n  safeVersion?: string,\r\n): boolean =>\r\n  !isExecution &&\r\n  !isSmartContractWallet &&\r\n  !!safeVersion &&\r\n  semverSatisfies(safeVersion, SAFE_VERSION_FOR_OFF_CHAIN_SIGNATURES)\r\n\r\n// https://docs.gnosis.io/safe/docs/contracts_signatures/#pre-validated-signatures\r\nexport const getPreValidatedSignatures = (from: string, initialString: string = EMPTY_DATA): string => {\r\n  return `${initialString}000000000000000000000000${from.replace(\r\n    EMPTY_DATA,\r\n    '',\r\n  )}000000000000000000000000000000000000000000000000000000000000000001`\r\n}\r\n\r\nexport const generateSignaturesFromTxConfirmations = (\r\n  confirmations?: List<Confirmation>,\r\n  preApprovingOwner?: string,\r\n): string => {\r\n  let confirmationsMap =\r\n    confirmations?.map((value) => {\r\n      return {\r\n        signature: value.signature,\r\n        owner: value.owner.toLowerCase(),\r\n      }\r\n    }) || List([])\r\n\r\n  if (preApprovingOwner) {\r\n    confirmationsMap = confirmationsMap.push({ owner: preApprovingOwner, signature: null })\r\n  }\r\n\r\n  // The constant parts need to be sorted so that the recovered signers are sorted ascending\r\n  // (natural order) by address (not checksummed).\r\n  confirmationsMap = confirmationsMap.sort((ownerA, ownerB) => ownerA.owner.localeCompare(ownerB.owner))\r\n\r\n  let sigs = '0x'\r\n  confirmationsMap.forEach(({ signature, owner }) => {\r\n    if (signature) {\r\n      sigs += signature.slice(2)\r\n    } else {\r\n      // https://docs.gnosis.io/safe/docs/contracts_signatures/#pre-validated-signatures\r\n      sigs += getPreValidatedSignatures(owner, '')\r\n    }\r\n  })\r\n\r\n  return sigs\r\n}\r\n","import { Record, RecordOf } from 'immutable'\r\n\r\nimport { ETHEREUM_NETWORK } from 'src/config/networks/network.d'\r\n\r\nexport type ProviderProps = {\r\n  name: string\r\n  loaded: boolean\r\n  available: boolean\r\n  account: string\r\n  network: ETHEREUM_NETWORK\r\n  smartContractWallet: boolean\r\n  hardwareWallet: boolean\r\n}\r\n\r\nexport const makeProvider = Record<ProviderProps>({\r\n  name: '',\r\n  loaded: false,\r\n  available: false,\r\n  account: '',\r\n  network: ETHEREUM_NETWORK.UNKNOWN,\r\n  smartContractWallet: false,\r\n  hardwareWallet: false,\r\n})\r\n\r\n// Usage const someProvider: Provider = makeProvider({ name: 'METAMASK', loaded: false, available: false })\r\n\r\nexport type ProviderRecord = RecordOf<ProviderProps>\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const ADD_NFT_ASSETS = 'ADD_NFT_ASSETS'\r\nexport const ADD_NFT_TOKENS = 'ADD_NFT_TOKENS'\r\n\r\nexport const addNftAssets = createAction(ADD_NFT_ASSETS, (nftAssets) => ({\r\n  nftAssets,\r\n}))\r\n\r\nexport const addNftTokens = createAction(ADD_NFT_TOKENS, (nftTokens) => ({\r\n  nftTokens,\r\n}))\r\n","import { Record, RecordOf } from 'immutable'\r\n\r\nimport { FEATURES } from 'src/config/networks/network.d'\r\nimport { BalanceRecord } from 'src/logic/tokens/store/actions/fetchSafeTokens'\r\n\r\nexport type SafeOwner = string\r\n\r\nexport type ModulePair = [\r\n  // previous module\r\n  string,\r\n  // module\r\n  string,\r\n]\r\n\r\nexport type SpendingLimit = {\r\n  delegate: string\r\n  token: string\r\n  amount: string\r\n  spent: string\r\n  resetTimeMin: string\r\n  lastResetMin: string\r\n  nonce: string\r\n}\r\n\r\nexport type SafeRecordProps = {\r\n  address: string\r\n  threshold: number\r\n  ethBalance: string\r\n  totalFiatBalance: string\r\n  owners: SafeOwner[]\r\n  modules?: ModulePair[] | null\r\n  spendingLimits?: SpendingLimit[] | null\r\n  balances: BalanceRecord[]\r\n  nonce: number\r\n  recurringUser?: boolean\r\n  currentVersion: string\r\n  needsUpdate: boolean\r\n  featuresEnabled: Array<FEATURES>\r\n  loadedViaUrl: boolean\r\n}\r\n\r\nconst makeSafe = Record<SafeRecordProps>({\r\n  address: '',\r\n  threshold: 0,\r\n  ethBalance: '0',\r\n  totalFiatBalance: '0',\r\n  owners: [],\r\n  modules: [],\r\n  spendingLimits: [],\r\n  balances: [],\r\n  nonce: 0,\r\n  recurringUser: undefined,\r\n  currentVersion: '',\r\n  needsUpdate: false,\r\n  featuresEnabled: [],\r\n  loadedViaUrl: true,\r\n})\r\n\r\nexport type SafeRecord = RecordOf<SafeRecordProps>\r\n\r\nexport default makeSafe\r\n","import { createSelector } from 'reselect'\r\n\r\nimport { getNetworkId } from 'src/config'\r\nimport { ADDRESS_BOOK_DEFAULT_NAME, AddressBookEntry } from 'src/logic/addressBook/model/addressBook'\r\nimport { AppReduxState } from 'src/store'\r\nimport { Overwrite } from 'src/types/helpers'\r\n\r\nconst networkId = getNetworkId()\r\n\r\nexport const addressBookSelector = (state: AppReduxState): AppReduxState['addressBook'] => state['addressBook']\r\n\r\ntype AddressBookMap = {\r\n  [chainId: number]: {\r\n    [address: string]: AddressBookEntry\r\n  }\r\n}\r\n\r\nexport const addressBookMapSelector = createSelector(\r\n  [addressBookSelector],\r\n  (addressBook): AddressBookMap => {\r\n    const addressBookMap = {}\r\n\r\n    addressBook.forEach((entry) => {\r\n      const { address, chainId } = entry\r\n      if (!addressBookMap[chainId]) {\r\n        addressBookMap[chainId] = { [address]: entry }\r\n      } else {\r\n        addressBookMap[chainId][address] = entry\r\n      }\r\n    })\r\n\r\n    return addressBookMap\r\n  },\r\n)\r\n\r\nexport const addressBookAddressesListSelector = createSelector([addressBookSelector], (addressBook): string[] =>\r\n  addressBook.map(({ address }) => address),\r\n)\r\n\r\ntype GetNameParams = Overwrite<\r\n  AddressBookEntry,\r\n  { chainId?: AddressBookEntry['chainId']; name?: AddressBookEntry['name'] }\r\n>\r\n\r\ntype GetNameReturnObject = Overwrite<GetNameParams, { chainId: AddressBookEntry['chainId'] }>\r\n\r\nexport const getNameFromAddressBookSelector = createSelector(\r\n  [\r\n    addressBookMapSelector,\r\n    (_, { address, chainId = networkId }: GetNameParams): GetNameReturnObject => ({\r\n      address,\r\n      chainId,\r\n    }),\r\n  ],\r\n  (addressBook, entry) => addressBook?.[entry.chainId]?.[entry.address]?.name ?? ADDRESS_BOOK_DEFAULT_NAME,\r\n)\r\n","import { BigNumber } from 'bignumber.js'\r\n\r\nexport const humanReadableValue = (value: number | string, decimals = 18): string => {\r\n  return new BigNumber(value).times(`1e-${decimals}`).toFixed()\r\n}\r\n\r\nexport const fromTokenUnit = (amount: number | string, decimals: string | number): string =>\r\n  new BigNumber(amount).times(`1e-${decimals}`).toFixed()\r\n\r\nexport const toTokenUnit = (amount: number | string, decimals: string | number): string =>\r\n  new BigNumber(amount).times(`1e${decimals}`).toFixed(0, BigNumber.ROUND_DOWN)\r\n","import { handleActions } from 'redux-actions'\r\n\r\nimport { ADD_NFT_ASSETS, ADD_NFT_TOKENS } from 'src/logic/collectibles/store/actions/addCollectibles'\r\nimport { NFTAssets, NFTTokens } from 'src/logic/collectibles/sources/collectibles'\r\nimport { AppReduxState } from 'src/store'\r\n\r\nexport const NFT_ASSETS_REDUCER_ID = 'nftAssets'\r\nexport const NFT_TOKENS_REDUCER_ID = 'nftTokens'\r\n\r\ntype NFTAssetsPayload = { nftAssets: NFTAssets }\r\n\r\nexport const nftAssetReducer = handleActions<AppReduxState['nftAssets'], NFTAssetsPayload>(\r\n  {\r\n    [ADD_NFT_ASSETS]: (state, action) => {\r\n      const { nftAssets } = action.payload\r\n\r\n      return nftAssets\r\n    },\r\n  },\r\n  {},\r\n)\r\n\r\ntype NFTTokensPayload = { nftTokens: NFTTokens }\r\n\r\nexport const nftTokensReducer = handleActions<AppReduxState['nftTokens'], NFTTokensPayload>(\r\n  {\r\n    [ADD_NFT_TOKENS]: (state, action) => {\r\n      const { nftTokens } = action.payload\r\n\r\n      return nftTokens\r\n    },\r\n  },\r\n  [],\r\n)\r\n","import { createAction } from 'redux-actions'\r\nimport { SelectedCurrencyPayload } from 'src/logic/currencyValues/store/reducer/currencyValues'\r\n\r\nexport const SET_CURRENT_CURRENCY = 'SET_CURRENT_CURRENCY'\r\n\r\nexport const setSelectedCurrency = createAction<SelectedCurrencyPayload>(SET_CURRENT_CURRENCY)\r\n","import axios, { AxiosResponse } from 'axios'\r\nimport { buildSafeInformationUrl } from './buildSafeInformationUrl'\r\n\r\ntype AddressValue = {\r\n  value: string\r\n}\r\n\r\ntype AddressInfo = AddressValue & {\r\n  name?: string\r\n  logoUrl?: string\r\n}\r\n\r\nexport type SafeInfo = {\r\n  address: AddressValue\r\n  nonce: number\r\n  threshold: number\r\n  implementation: AddressInfo\r\n  owners: AddressValue[]\r\n  modules: AddressValue[]\r\n  fallbackHandler: AddressInfo\r\n  version: string\r\n}\r\n\r\nexport type SafeInfoError = {\r\n  code: number\r\n  message: string\r\n  arguments: string[]\r\n}\r\n\r\nexport const getSafeInfo = (safeAddress: string): Promise<SafeInfo> => {\r\n  const safeInfoUrl = buildSafeInformationUrl(safeAddress)\r\n  return axios.get<SafeInfo, AxiosResponse<SafeInfo>>(safeInfoUrl).then((response) => response.data)\r\n}\r\n","import { getSafeClientGatewayBaseUrl } from 'src/config'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\n\r\nexport const buildSafeInformationUrl = (safeAddress: string): string => {\r\n  const address = checksumAddress(safeAddress)\r\n  const url = getSafeClientGatewayBaseUrl(address)\r\n  return `${url}/`\r\n}\r\n","import * as React from 'react'\r\n\r\nimport { border } from 'src/theme/variables'\r\n\r\nconst style = {\r\n  borderRight: `solid 2px ${border}`,\r\n  height: '100%',\r\n}\r\n\r\nconst Divider = ({ className }: any) => <div className={className} style={style} />\r\n\r\nexport default Divider\r\n","import { handleActions } from 'redux-actions'\r\n\r\nimport { ADD_PROVIDER } from 'src/logic/wallets/store/actions/addProvider'\r\nimport { REMOVE_PROVIDER } from 'src/logic/wallets/store/actions/removeProvider'\r\nimport { makeProvider, ProviderRecord, ProviderProps } from 'src/logic/wallets/store/model/provider'\r\n\r\nexport const PROVIDER_REDUCER_ID = 'providers'\r\n\r\nexport type ProviderState = ProviderRecord\r\n\r\nexport default handleActions(\r\n  {\r\n    [ADD_PROVIDER]: (state: ProviderState, { payload }: { payload: ProviderProps }): ProviderState =>\r\n      makeProvider(payload),\r\n    [REMOVE_PROVIDER]: (): ProviderState => makeProvider(),\r\n  },\r\n  makeProvider(),\r\n)\r\n","import { Map } from 'immutable'\r\nimport { handleActions } from 'redux-actions'\r\nimport { OPEN_COOKIE_BANNER } from 'src/logic/cookies/store/actions/openCookieBanner'\r\nimport { AppReduxState } from 'src/store'\r\n\r\nexport const COOKIES_REDUCER_ID = 'cookies'\r\n\r\nexport type OpenCookieBannerPayload = { cookieBannerOpen: boolean; intercomAlertDisplayed?: boolean }\r\n\r\nexport default handleActions<AppReduxState['cookies'], OpenCookieBannerPayload>(\r\n  {\r\n    [OPEN_COOKIE_BANNER]: (state, action) => {\r\n      const { intercomAlertDisplayed = false, cookieBannerOpen } = action.payload\r\n      return state.set('cookieBannerOpen', { intercomAlertDisplayed, cookieBannerOpen })\r\n    },\r\n  },\r\n  Map(),\r\n)\r\n","import { Map } from 'immutable'\r\nimport { Action, handleActions } from 'redux-actions'\r\n\r\nimport { Notification } from 'src/logic/notifications/notificationTypes'\r\nimport { AppReduxState } from 'src/store'\r\nimport { CLOSE_SNACKBAR } from '../actions/closeSnackbar'\r\nimport { ENQUEUE_SNACKBAR } from '../actions/enqueueSnackbar'\r\nimport { REMOVE_SNACKBAR } from '../actions/removeSnackbar'\r\n\r\nexport const NOTIFICATIONS_REDUCER_ID = 'notifications'\r\n\r\ntype CloseSnackBarPayload = { key: string; dismissAll: boolean }\r\ntype Payloads = Notification | CloseSnackBarPayload | string\r\n\r\nexport default handleActions<AppReduxState['notifications'], Payloads>(\r\n  {\r\n    [ENQUEUE_SNACKBAR]: (state, action: Action<Notification>) => {\r\n      const notification = action.payload\r\n\r\n      if (!notification.key) {\r\n        return state\r\n      }\r\n\r\n      return state.set(notification.key, notification)\r\n    },\r\n    [CLOSE_SNACKBAR]: (state, action: Action<CloseSnackBarPayload>) => {\r\n      const { dismissAll, key } = action.payload\r\n\r\n      if (key && state.get(key)) {\r\n        return state.update(key, (notification) => {\r\n          if (notification) {\r\n            return {\r\n              ...notification,\r\n              dismissed: true,\r\n            }\r\n          }\r\n\r\n          return notification\r\n        })\r\n      }\r\n\r\n      if (dismissAll) {\r\n        return state.withMutations((map) => {\r\n          map.forEach((notification, notificationKey) => {\r\n            map.set(notificationKey, { ...notification, dismissed: true })\r\n          })\r\n        })\r\n      }\r\n\r\n      return state\r\n    },\r\n    [REMOVE_SNACKBAR]: (state, action: Action<string>) => {\r\n      const key = action.payload\r\n\r\n      return state.delete(key)\r\n    },\r\n  },\r\n  Map(),\r\n)\r\n","export const sortObject = (obj: Record<string, unknown>, order = 'asc'): any => {\r\n  return Object.keys(obj)\r\n    .sort((a: string, b: string) => Number(order === 'desc' ? b : a) - Number(order === 'desc' ? a : b))\r\n    .reduce(\r\n      (acc, key) => ({\r\n        ...acc,\r\n        [key]: obj[key],\r\n      }),\r\n      {},\r\n    )\r\n}\r\n","import get from 'lodash.get'\r\nimport merge from 'lodash.merge'\r\nimport { Action, handleActions } from 'redux-actions'\r\n\r\nimport {\r\n  ADD_HISTORY_TRANSACTIONS,\r\n  ADD_QUEUED_TRANSACTIONS,\r\n} from 'src/logic/safe/store/actions/transactions/gatewayTransactions'\r\nimport { UPDATE_TRANSACTION_STATUS } from 'src/logic/safe/store/actions/updateTransactionStatus'\r\nimport {\r\n  HistoryGatewayResponse,\r\n  isConflictHeader,\r\n  isDateLabel,\r\n  isLabel,\r\n  isTransactionSummary,\r\n  QueuedGatewayResponse,\r\n  StoreStructure,\r\n  Transaction,\r\n  TransactionStatus,\r\n  TxLocation,\r\n} from 'src/logic/safe/store/models/types/gateway.d'\r\nimport { UPDATE_TRANSACTION_DETAILS } from 'src/logic/safe/store/actions/fetchTransactionDetails'\r\n\r\nimport { AppReduxState } from 'src/store'\r\nimport { getLocalStartOfDate } from 'src/utils/date'\r\nimport { sameString } from 'src/utils/strings'\r\nimport { sortObject } from 'src/utils/objects'\r\n\r\nexport const GATEWAY_TRANSACTIONS_ID = 'gatewayTransactions'\r\n\r\ntype BasePayload = { safeAddress: string; isTail?: boolean }\r\nexport type HistoryPayload = BasePayload & { values: HistoryGatewayResponse['results'] }\r\nexport type QueuedPayload = BasePayload & { values: QueuedGatewayResponse['results'] }\r\nexport type TransactionDetailsPayload = {\r\n  safeAddress: string\r\n  txLocation: TxLocation\r\n  transactionId: string\r\n  value: Transaction['txDetails']\r\n}\r\nexport type TransactionStatusPayload = {\r\n  safeAddress: string\r\n  nonce: number\r\n  id?: string\r\n  txStatus: TransactionStatus\r\n}\r\n\r\ntype Payload = HistoryPayload | QueuedPayload | TransactionDetailsPayload | TransactionStatusPayload\r\n\r\nconst findTransactionLocation = (\r\n  transactionsGroup: { [p: number]: Transaction[] },\r\n  transactionId: string,\r\n): { key: string; index: number } => {\r\n  let key\r\n  let index\r\n  let transactions\r\n\r\n  for ([key, transactions] of Object.entries(transactionsGroup)) {\r\n    index = transactions.findIndex(({ id }) => sameString(id, transactionId))\r\n\r\n    if (index !== -1) {\r\n      break\r\n    }\r\n  }\r\n\r\n  return { key, index }\r\n}\r\n\r\nexport const gatewayTransactions = handleActions<AppReduxState['gatewayTransactions'], Payload>(\r\n  {\r\n    [ADD_HISTORY_TRANSACTIONS]: (state, action: Action<HistoryPayload>) => {\r\n      const { safeAddress, values, isTail = false } = action.payload\r\n      const history: StoreStructure['history'] = Object.assign({}, state[safeAddress]?.history)\r\n\r\n      values.forEach((value) => {\r\n        if (isDateLabel(value)) {\r\n          // DATE_LABEL is discarded as it's not needed for the current implementation\r\n          return\r\n        }\r\n\r\n        if (isTransactionSummary(value)) {\r\n          const startOfDate = getLocalStartOfDate(value.transaction.timestamp)\r\n\r\n          if (typeof history[startOfDate] === 'undefined') {\r\n            history[startOfDate] = []\r\n          }\r\n\r\n          const txExist = history[startOfDate].some(({ id }) => sameString(id, value.transaction.id))\r\n\r\n          if (!txExist) {\r\n            history[startOfDate].push(value.transaction)\r\n            // pushing a newer transaction to the existing list messes the transactions order\r\n            // this happens when most recent transactions are added to the existing txs in the store\r\n            history[startOfDate] = history[startOfDate].sort((a, b) => b.timestamp - a.timestamp)\r\n          }\r\n          return\r\n        }\r\n      })\r\n\r\n      return {\r\n        // all the safes with their respective states\r\n        ...state,\r\n        // current safe\r\n        [safeAddress]: {\r\n          // keep queued list\r\n          ...state[safeAddress],\r\n          // extend history list\r\n          history: isTail ? history : sortObject(history, 'desc'),\r\n        },\r\n      }\r\n    },\r\n    [ADD_QUEUED_TRANSACTIONS]: (state, action: Action<QueuedPayload>) => {\r\n      // we're assuming that `next` and `queued` labels will be provided in the first page\r\n      // as for usage experience there were no more than 5 transactions competing for the same nonce.\r\n      // Thus, given the client-gateway page size of 20, we have plenty of \"room\" to be provided with\r\n      // `next` and `queued` transactions in the first page.\r\n      const { safeAddress, values } = action.payload\r\n      let next = Object.assign({}, state[safeAddress]?.queued?.next)\r\n      const queued = Object.assign({}, state[safeAddress]?.queued?.queued)\r\n\r\n      let label: 'next' | 'queued' | undefined\r\n      values.forEach((value) => {\r\n        if (isLabel(value)) {\r\n          // we're assuming that the first page will always provide `next` and `queued` labels\r\n          label = value.label.toLowerCase() as 'next' | 'queued'\r\n          return\r\n        }\r\n\r\n        if (isConflictHeader(value)) {\r\n          // conflict header is discarded as it's not needed for the current implementation\r\n          return\r\n        }\r\n\r\n        if (isTransactionSummary(value)) {\r\n          const txNonce = value.transaction.executionInfo?.nonce\r\n\r\n          if (typeof txNonce === 'undefined') {\r\n            console.warn('A transaction without nonce was provided by client-gateway:', JSON.stringify(value))\r\n            return\r\n          }\r\n\r\n          if (typeof label === 'undefined') {\r\n            label = next[txNonce] ? 'next' : 'queued'\r\n          }\r\n\r\n          switch (label) {\r\n            case 'next': {\r\n              if (next[txNonce]) {\r\n                const txIndex = next[txNonce].findIndex(({ id }) => sameString(id, value.transaction.id))\r\n\r\n                if (txIndex !== -1) {\r\n                  const storedTransaction = next[txNonce][txIndex]\r\n                  const updateFromService =\r\n                    storedTransaction.executionInfo?.confirmationsSubmitted !==\r\n                    value.transaction.executionInfo?.confirmationsSubmitted\r\n\r\n                  if (storedTransaction.txStatus === 'PENDING' && !updateFromService) {\r\n                    // we're waiting for a tx resolution. Thus, we'll prioritize 'PENDING' status\r\n                    value.transaction.txStatus = 'PENDING'\r\n                  }\r\n\r\n                  next[txNonce][txIndex] = updateFromService\r\n                    ? // by replacing the current transaction with the one returned by the service\r\n                      // we remove the `txDetails`, so this will force a re-request of the data\r\n                      value.transaction\r\n                    : // we merge, to keep the current unchanged information\r\n                      merge(storedTransaction, value.transaction)\r\n                  break\r\n                }\r\n\r\n                // we add the transaction returned by the service to the list of transactions\r\n                next[txNonce] = [...next[txNonce], value.transaction]\r\n                break\r\n              }\r\n\r\n              // a new tx has arrived to the `next` queue\r\n              // we re-create the `next` object with the new transaction\r\n              next = { [txNonce]: [value.transaction] }\r\n\r\n              // we remove the new `next` transaction from the `queue` list, if it exist\r\n              queued[txNonce] && delete queued[txNonce]\r\n\r\n              break\r\n            }\r\n            case 'queued': {\r\n              if (queued[txNonce]) {\r\n                const txIndex = queued[txNonce].findIndex(({ id }) => sameString(id, value.transaction.id))\r\n\r\n                if (txIndex !== -1) {\r\n                  const storedTransaction = queued[txNonce][txIndex]\r\n                  const updateFromService =\r\n                    storedTransaction.executionInfo?.confirmationsSubmitted !==\r\n                    value.transaction.executionInfo?.confirmationsSubmitted\r\n\r\n                  if (storedTransaction.txStatus === 'PENDING' && !updateFromService) {\r\n                    // we're waiting for a tx resolution. Thus, we'll prioritize 'PENDING' status\r\n                    value.transaction.txStatus = 'PENDING'\r\n                  }\r\n\r\n                  queued[txNonce][txIndex] = updateFromService\r\n                    ? // by replacing the current transaction with the one returned by the service\r\n                      // we remove the `txDetails`, so this will force a re-request of the data\r\n                      value.transaction\r\n                    : // we merge, to keep the current unchanged information\r\n                      merge(storedTransaction, value.transaction)\r\n                  break\r\n                }\r\n\r\n                // we add the transaction returned by the service to the list of transactions\r\n                queued[txNonce] = [...queued[txNonce], value.transaction]\r\n                break\r\n              }\r\n\r\n              queued[txNonce] = [value.transaction]\r\n              break\r\n            }\r\n          }\r\n          return\r\n        }\r\n      })\r\n\r\n      // no new transactions\r\n      if (!values.length) {\r\n        // queued list already empty\r\n        if (!Object.keys(queued).length) {\r\n          // there was an existing next transaction\r\n          if (Object.keys(next).length === 1) {\r\n            // we cleanup the next queue\r\n            next = {}\r\n          }\r\n        }\r\n      }\r\n\r\n      return {\r\n        // all the safes with their respective states\r\n        ...state,\r\n        // current safe\r\n        [safeAddress]: {\r\n          // keep history list\r\n          ...state[safeAddress],\r\n          // overwrites queued lists\r\n          queued: {\r\n            next,\r\n            queued,\r\n          },\r\n        },\r\n      }\r\n    },\r\n    [UPDATE_TRANSACTION_DETAILS]: (state, action: Action<TransactionDetailsPayload>) => {\r\n      const { safeAddress, transactionId, txLocation, value } = action.payload\r\n      const storedTransactions = Object.assign({}, state[safeAddress])\r\n      const { queued } = storedTransactions\r\n      let { history } = storedTransactions\r\n\r\n      // get the tx group (it will be `queued.next`, `queued.queued` or `history`)\r\n      const txGroup: StoreStructure['queued']['next' | 'queued'] | StoreStructure['history'] = get(\r\n        storedTransactions,\r\n        txLocation,\r\n      )\r\n\r\n      // find the transaction location\r\n      const { key, index } = findTransactionLocation(txGroup, transactionId)\r\n      // add details to tx object\r\n      txGroup[key][index]['txDetails'] = value\r\n\r\n      // replace the updated group in its corresponding location\r\n      switch (txLocation) {\r\n        case 'history':\r\n          history = txGroup\r\n          break\r\n        case 'queued.next':\r\n          queued['next'] = txGroup\r\n          break\r\n        case 'queued.queued':\r\n          queued['queued'] = txGroup\r\n          break\r\n      }\r\n\r\n      // update state\r\n      return {\r\n        // all the safes with their respective states\r\n        ...state,\r\n        // current safe\r\n        [safeAddress]: {\r\n          history,\r\n          queued,\r\n        },\r\n      }\r\n    },\r\n    [UPDATE_TRANSACTION_STATUS]: (state, action: Action<TransactionStatusPayload>) => {\r\n      // if we provide the tx ID that sole tx will have the _pending_ status.\r\n      // if not, all the txs that share the same nonce will have the _pending_ status.\r\n      const { nonce, id, safeAddress, txStatus } = action.payload\r\n      const storedTransactions = Object.assign({}, state[safeAddress])\r\n      const { queued } = storedTransactions\r\n      const { history } = storedTransactions\r\n\r\n      let txLocation: TxLocation | undefined\r\n      let historyLocation: string | undefined\r\n\r\n      if (queued.next[nonce]) {\r\n        txLocation = 'queued.next'\r\n      } else if (queued.queued[nonce]) {\r\n        txLocation = 'queued.queued'\r\n      } else {\r\n        Object.entries(history).forEach(([timestamp, transactions]) => {\r\n          const txIndex = transactions.findIndex((transaction) => Number(transaction.executionInfo?.nonce) === nonce)\r\n\r\n          if (txIndex !== -1) {\r\n            txLocation = 'history'\r\n            historyLocation = `${timestamp}[${txIndex}]`\r\n          }\r\n        })\r\n      }\r\n\r\n      if (!txLocation) {\r\n        return state\r\n      }\r\n\r\n      switch (txLocation) {\r\n        case 'history': {\r\n          if (historyLocation) {\r\n            const txToUpdate = get(history, historyLocation)\r\n            txToUpdate.txStatus = txStatus\r\n          }\r\n          break\r\n        }\r\n        case 'queued.next': {\r\n          queued.next[nonce] = queued.next[nonce].map((txToUpdate) => {\r\n            // prevent setting `PENDING_FAILED` status, if previous status wasn't `PENDING`\r\n            if (txStatus === 'PENDING_FAILED' && txToUpdate.txStatus !== 'PENDING') {\r\n              return txToUpdate\r\n            }\r\n\r\n            if (typeof id !== 'undefined') {\r\n              if (sameString(txToUpdate.id, id)) {\r\n                txToUpdate.txStatus = txStatus\r\n              }\r\n            } else {\r\n              txToUpdate.txStatus = txStatus\r\n            }\r\n            return txToUpdate\r\n          })\r\n          break\r\n        }\r\n        case 'queued.queued': {\r\n          queued.queued[nonce] = queued.queued[nonce].map((txToUpdate) => {\r\n            // TODO: review if is this `PENDING` status required under `queued.queued` list\r\n            // prevent setting `PENDING_FAILED` status, if previous status wasn't `PENDING`\r\n            if (txStatus === 'PENDING_FAILED' && txToUpdate.txStatus !== 'PENDING') {\r\n              return txToUpdate\r\n            }\r\n\r\n            if (typeof id !== 'undefined') {\r\n              if (sameString(txToUpdate.id, id)) {\r\n                txToUpdate.txStatus = txStatus\r\n              }\r\n            } else {\r\n              txToUpdate.txStatus = txStatus\r\n            }\r\n            return txToUpdate\r\n          })\r\n          break\r\n        }\r\n      }\r\n\r\n      // update state\r\n      return {\r\n        // all the safes with their respective states\r\n        ...state,\r\n        // current safe\r\n        [safeAddress]: {\r\n          history,\r\n          queued,\r\n        },\r\n      }\r\n    },\r\n  },\r\n  {},\r\n)\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const ADD_TOKEN = 'ADD_TOKEN'\r\n\r\nexport const addToken = createAction(ADD_TOKEN, (token) => ({\r\n  token,\r\n}))\r\n","import { List, Map } from 'immutable'\r\nimport { Action, handleActions } from 'redux-actions'\r\n\r\nimport { ADD_TOKEN } from 'src/logic/tokens/store/actions/addToken'\r\nimport { ADD_TOKENS } from 'src/logic/tokens/store/actions/addTokens'\r\nimport { makeToken, Token } from 'src/logic/tokens/store/model/token'\r\nimport { AppReduxState } from 'src/store'\r\n\r\nexport const TOKEN_REDUCER_ID = 'tokens'\r\n\r\nexport type TokenState = Map<string, Token>\r\n\r\ntype TokensPayload = { tokens: List<Token> }\r\ntype TokenPayload = { token: Token }\r\ntype Payloads = TokensPayload | TokenPayload\r\n\r\nexport default handleActions<AppReduxState['tokens'], Payloads>(\r\n  {\r\n    [ADD_TOKENS]: (state: TokenState, action: Action<TokensPayload>) => {\r\n      const { tokens } = action.payload\r\n\r\n      return state.withMutations((map) => {\r\n        tokens.forEach((token: Token) => {\r\n          map.set(token.address, token)\r\n        })\r\n      })\r\n    },\r\n    [ADD_TOKEN]: (state: TokenState, action: Action<TokenPayload>) => {\r\n      const { token } = action.payload\r\n      const { address: tokenAddress } = token\r\n\r\n      return state.set(tokenAddress, makeToken(token))\r\n    },\r\n  },\r\n  Map(),\r\n)\r\n","import { Button, Icon, Loader, theme, Title as TitleSRC } from '@gnosis.pm/safe-react-components'\r\nimport { ButtonProps as ButtonPropsMUI, Modal as ModalMUI } from '@material-ui/core'\r\nimport cn from 'classnames'\r\nimport React, { ReactElement, ReactNode, ReactNodeArray } from 'react'\r\nimport styled from 'styled-components'\r\n\r\ntype Theme = typeof theme\r\n\r\nconst ModalStyled = styled(ModalMUI)`\r\n  & {\r\n    align-items: center;\r\n    flex-direction: column;\r\n    display: flex;\r\n    overflow-y: scroll;\r\n  }\r\n\r\n  .overlay {\r\n    background-color: rgba(232, 231, 230, 0.75) !important;\r\n  }\r\n\r\n  .paper {\r\n    position: relative;\r\n    top: 68px;\r\n    width: 500px;\r\n    border-radius: 8px;\r\n    background-color: #ffffff;\r\n    box-shadow: 1px 2px 10px 0 rgba(40, 54, 61, 0.18);\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n\r\n    // TODO: replace class-based styles by params\r\n    &.receive-modal {\r\n      height: auto;\r\n      max-width: calc(100% - 130px);\r\n      min-height: 544px;\r\n      overflow: hidden;\r\n    }\r\n\r\n    &.bigger-modal-window {\r\n      width: 775px;\r\n      height: auto;\r\n    }\r\n\r\n    &.smaller-modal-window {\r\n      height: auto;\r\n    }\r\n\r\n    &.modal {\r\n      height: auto;\r\n      max-width: calc(100% - 130px);\r\n    }\r\n  }\r\n`\r\n\r\ninterface GnoModalProps {\r\n  children: ReactNode\r\n  description: string\r\n  // type copied from Material-UI Modal's `close` prop\r\n  handleClose?: (event: Record<string, unknown>, reason: 'backdropClick' | 'escapeKeyDown') => void\r\n  open: boolean\r\n  paperClassName?: string\r\n  title: string\r\n}\r\n\r\nconst GnoModal = ({ children, description, handleClose, open, paperClassName, title }: GnoModalProps): ReactElement => {\r\n  return (\r\n    <ModalStyled\r\n      BackdropProps={{ className: 'overlay' }}\r\n      aria-describedby={description}\r\n      aria-labelledby={title}\r\n      onClose={handleClose}\r\n      open={open}\r\n    >\r\n      <div className={cn('paper', paperClassName)}>{children}</div>\r\n    </ModalStyled>\r\n  )\r\n}\r\n\r\nexport default GnoModal\r\n\r\n/*****************/\r\n/* Generic Modal */\r\n/*****************/\r\n\r\n/*** Header ***/\r\nconst HeaderSection = styled.div`\r\n  display: flex;\r\n  padding: 24px 18px 24px 24px;\r\n  border-bottom: 2px solid ${({ theme }) => theme.colors.separator};\r\n\r\n  h5 {\r\n    color: ${({ theme }) => theme.colors.text};\r\n  }\r\n\r\n  .close-button {\r\n    align-self: flex-end;\r\n    background: none;\r\n    border: none;\r\n    padding: 5px;\r\n    width: 26px;\r\n    height: 26px;\r\n\r\n    span {\r\n      margin-right: 0;\r\n    }\r\n\r\n    :hover {\r\n      background: ${({ theme }) => theme.colors.separator};\r\n      border-radius: 16px;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`\r\n\r\nconst TitleStyled = styled(TitleSRC)`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-basis: 100%;\r\n\r\n  .image,\r\n  img {\r\n    width: 20px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .note,\r\n  span {\r\n    margin-left: 12px;\r\n  }\r\n`\r\n\r\ninterface TitleProps {\r\n  children: string | ReactNode\r\n  size?: keyof Theme['title']['size']\r\n  withoutMargin?: boolean\r\n  strong?: boolean\r\n}\r\n\r\nconst Title = ({ children, ...props }: TitleProps): ReactElement => (\r\n  <TitleStyled size=\"xs\" withoutMargin {...props}>\r\n    {children}\r\n  </TitleStyled>\r\n)\r\n\r\ninterface HeaderProps {\r\n  children?: ReactNode\r\n  onClose?: (event: any) => void\r\n}\r\n\r\nconst Header = ({ children, onClose }: HeaderProps): ReactElement => {\r\n  return (\r\n    <HeaderSection className=\"modal-header\">\r\n      {children}\r\n\r\n      {onClose && (\r\n        <button className=\"close-button\" onClick={onClose}>\r\n          <Icon size=\"sm\" type=\"cross\" />\r\n        </button>\r\n      )}\r\n    </HeaderSection>\r\n  )\r\n}\r\n\r\nHeader.Title = Title\r\n\r\n/*** Body ***/\r\nconst BodySection = styled.div<{ withoutPadding: BodyProps['withoutPadding'] }>`\r\n  padding: ${({ withoutPadding }) => (withoutPadding ? 0 : '24px')};\r\n  min-height: 200px;\r\n`\r\n\r\ninterface BodyProps {\r\n  children: ReactNode | ReactNodeArray\r\n  withoutPadding?: boolean\r\n}\r\n\r\nconst Body = ({ children, withoutPadding = false }: BodyProps): ReactElement => (\r\n  <BodySection className=\"modal-body\" withoutPadding={withoutPadding}>\r\n    {children}\r\n  </BodySection>\r\n)\r\n\r\n/*** Footer ***/\r\nconst FooterSection = styled.div<{ withoutBorder: boolean }>`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-top: ${({ withoutBorder }) => (withoutBorder ? '0' : '2px')} solid ${({ theme }) => theme.colors.separator};\r\n  height: 84px;\r\n  gap: 16px;\r\n`\r\n\r\nconst LoaderText = styled.span`\r\n  margin-left: 10px;\r\n`\r\n\r\nexport enum ButtonStatus {\r\n  ERROR = -1,\r\n  DISABLED,\r\n  READY,\r\n  LOADING,\r\n}\r\n\r\ntype CustomButtonMUIProps = Omit<ButtonPropsMUI, 'size' | 'color' | 'variant'> & {\r\n  to?: string\r\n  component?: ReactNode\r\n}\r\n\r\nexport interface ButtonProps extends CustomButtonMUIProps {\r\n  text?: string\r\n  status?: ButtonStatus\r\n  size?: keyof Theme['buttons']['size']\r\n  color?: 'primary' | 'secondary' | 'error'\r\n  variant?: 'bordered' | 'contained' | 'outlined'\r\n  testId?: string\r\n}\r\n\r\ninterface ButtonsProps {\r\n  cancelButtonProps?: ButtonProps\r\n  confirmButtonProps?: ButtonProps\r\n}\r\n\r\nconst Buttons = ({ cancelButtonProps = {}, confirmButtonProps = {} }: ButtonsProps): ReactElement => {\r\n  const {\r\n    disabled: cancelDisabled,\r\n    status: cancelStatus = ButtonStatus.READY,\r\n    text: cancelText = ButtonStatus.LOADING === cancelStatus ? 'Cancelling' : 'Cancel',\r\n    testId: cancelTestId = '',\r\n    ...cancelProps\r\n  } = cancelButtonProps\r\n  const {\r\n    disabled: confirmDisabled,\r\n    status: confirmStatus = ButtonStatus.READY,\r\n    text: confirmText = ButtonStatus.LOADING === confirmStatus ? 'Submitting' : 'Submit',\r\n    testId: confirmTestId = '',\r\n    ...confirmProps\r\n  } = confirmButtonProps\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        size=\"md\"\r\n        color=\"primary\"\r\n        variant=\"outlined\"\r\n        type={cancelProps?.onClick ? 'button' : 'submit'}\r\n        disabled={cancelDisabled || [ButtonStatus.DISABLED, ButtonStatus.LOADING].includes(cancelStatus)}\r\n        data-testid={cancelTestId}\r\n        {...cancelProps}\r\n      >\r\n        {ButtonStatus.LOADING === cancelStatus ? (\r\n          <>\r\n            <Loader size=\"xs\" color=\"secondaryLight\" />\r\n            <LoaderText>{cancelText}</LoaderText>\r\n          </>\r\n        ) : (\r\n          cancelText\r\n        )}\r\n      </Button>\r\n      <Button\r\n        size=\"md\"\r\n        type={confirmProps?.onClick ? 'button' : 'submit'}\r\n        disabled={confirmDisabled || [ButtonStatus.DISABLED, ButtonStatus.LOADING].includes(confirmStatus)}\r\n        data-testid={confirmTestId}\r\n        {...confirmProps}\r\n      >\r\n        {ButtonStatus.LOADING === confirmStatus ? (\r\n          <>\r\n            <Loader size=\"xs\" color=\"secondaryLight\" />\r\n            <LoaderText>{confirmText}</LoaderText>\r\n          </>\r\n        ) : (\r\n          confirmText\r\n        )}\r\n      </Button>\r\n    </>\r\n  )\r\n}\r\n\r\ninterface FooterProps {\r\n  children: ReactNode | ReactNodeArray\r\n  withoutBorder?: boolean\r\n}\r\n\r\nconst Footer = ({ children, withoutBorder = false }: FooterProps): ReactElement => (\r\n  <FooterSection className=\"modal-footer\" withoutBorder={withoutBorder}>\r\n    {children}\r\n  </FooterSection>\r\n)\r\n\r\nFooter.Buttons = Buttons\r\n\r\ninterface ModalProps {\r\n  children: ReactNode\r\n  description?: string\r\n  handleClose: () => void\r\n  open?: boolean\r\n  title?: string\r\n}\r\n\r\nexport const Modal = ({ children, description = '', open = true, title = '', ...props }: ModalProps): ReactElement => {\r\n  return (\r\n    <GnoModal {...props} description={description} open={open} title={title} paperClassName=\"modal\">\r\n      {children}\r\n    </GnoModal>\r\n  )\r\n}\r\n\r\nModal.Header = Header\r\nModal.Body = Body\r\nModal.Footer = Footer\r\n","import * as Sentry from '@sentry/react'\r\nimport { List } from 'immutable'\r\nimport { createSelector } from 'reselect'\r\n\r\nimport { Token } from 'src/logic/tokens/store/model/token'\r\nimport { tokensSelector } from 'src/logic/tokens/store/selectors'\r\nimport { getEthAsToken } from 'src/logic/tokens/utils/tokenHelpers'\r\nimport { isUserAnOwner, sameAddress } from 'src/logic/wallets/ethAddresses'\r\nimport { userAccountSelector } from 'src/logic/wallets/store/selectors'\r\n\r\nimport { safeBalancesSelector, safeSelector } from 'src/logic/safe/store/selectors'\r\nimport { SafeRecord } from 'src/logic/safe/store/models/safe'\r\n\r\nexport const grantedSelector = createSelector(\r\n  userAccountSelector,\r\n  safeSelector,\r\n  (userAccount: string, safe: SafeRecord): boolean => isUserAnOwner(safe, userAccount),\r\n)\r\n\r\nconst safeEthAsTokenSelector = createSelector(safeSelector, (safe?: SafeRecord): Token | undefined => {\r\n  if (!safe) {\r\n    return undefined\r\n  }\r\n\r\n  return getEthAsToken(safe.ethBalance)\r\n})\r\n\r\nexport const extendedSafeTokensSelector = createSelector(\r\n  safeBalancesSelector,\r\n  tokensSelector,\r\n  safeEthAsTokenSelector,\r\n  (safeBalances, tokensList, ethAsToken): List<Token> => {\r\n    const extendedTokens: Array<Token> = []\r\n\r\n    if (!Array.isArray(safeBalances)) {\r\n      // We migrated from immutable Map to array in v3.5.0. Previously stored safes could be still using an object\r\n      // to store balances. We add this check to avoid the app to break and refetch the information correctly\r\n      Sentry.captureMessage(\r\n        'There was an error loading `safeBalances` in `extendedSafeTokensSelector`, probably safe loaded prior to v3.5.0',\r\n      )\r\n      return List([])\r\n    }\r\n\r\n    safeBalances.forEach((safeBalance) => {\r\n      const tokenAddress = safeBalance.tokenAddress\r\n\r\n      if (!tokenAddress) {\r\n        return\r\n      }\r\n\r\n      const baseToken = sameAddress(tokenAddress, ethAsToken?.address) ? ethAsToken : tokensList.get(tokenAddress)\r\n\r\n      if (!baseToken) {\r\n        return\r\n      }\r\n\r\n      const token = baseToken.set('balance', safeBalance)\r\n      extendedTokens.push(token)\r\n    })\r\n\r\n    return List(extendedTokens)\r\n  },\r\n)\r\n\r\nexport const safeKnownCoins = createSelector(\r\n  tokensSelector,\r\n  safeEthAsTokenSelector,\r\n  (safeTokens, nativeCoinAsToken): List<Token> => {\r\n    if (nativeCoinAsToken) {\r\n      return safeTokens.set(nativeCoinAsToken.address, nativeCoinAsToken).toList()\r\n    }\r\n\r\n    return safeTokens.toList()\r\n  },\r\n)\r\n","import styled from 'styled-components'\r\n\r\nexport const LoadingContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n","import { List } from 'immutable'\r\n\r\nimport { getNetworkInfo } from 'src/config'\r\nimport { makeToken, Token } from 'src/logic/tokens/store/model/token'\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\n\r\nexport const getEthAsToken = (balance: string | number): Token => {\r\n  const { nativeCoin } = getNetworkInfo()\r\n  return makeToken({\r\n    ...nativeCoin,\r\n    balance: {\r\n      tokenBalance: balance.toString(),\r\n    },\r\n  })\r\n}\r\n\r\nexport type GetTokenByAddress = {\r\n  tokenAddress: string\r\n  tokens: List<Token>\r\n}\r\n\r\ntype TokenFound = {\r\n  balance: string | number\r\n  decimals: string | number\r\n}\r\n\r\n/**\r\n * Finds and returns a Token object by the provided address\r\n * @param {string} tokenAddress\r\n * @param {List<Token>} tokens\r\n * @returns Token | undefined\r\n */\r\nexport const getBalanceAndDecimalsFromToken = ({ tokenAddress, tokens }: GetTokenByAddress): TokenFound | undefined => {\r\n  const token = tokens?.find(({ address }) => sameAddress(address, tokenAddress))\r\n\r\n  if (!token) {\r\n    return\r\n  }\r\n\r\n  return {\r\n    balance: token.balance.tokenBalance ?? 0,\r\n    decimals: token.decimals ?? 0,\r\n  }\r\n}\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const ADD_TOKENS = 'ADD_TOKENS'\r\n\r\nexport const addTokens = createAction(ADD_TOKENS, (tokens) => ({\r\n  tokens,\r\n}))\r\n","import UnstoppableResolution from '@unstoppabledomains/resolution'\r\nimport { getRpcServiceUrl } from 'src/config'\r\n\r\nlet unstoppableResolver\r\n\r\nexport const getAddressFromUnstoppableDomain = (name: string) => {\r\n  if (!unstoppableResolver) {\r\n    unstoppableResolver = new UnstoppableResolution({\r\n      blockchain: {\r\n        cns: {\r\n          url: getRpcServiceUrl(),\r\n        },\r\n      },\r\n    })\r\n  }\r\n\r\n  return unstoppableResolver.addr(name, 'ETH')\r\n}\r\n","import Web3 from 'web3'\r\nimport { provider as Provider } from 'web3-core'\r\nimport { ContentHash } from 'web3-eth-ens'\r\nimport { sameAddress } from './ethAddresses'\r\nimport { EMPTY_DATA } from './ethTransactions'\r\nimport { ProviderProps } from './store/model/provider'\r\nimport { NODE_ENV } from 'src/utils/constants'\r\nimport { getRpcServiceUrl } from 'src/config'\r\nimport { isValidCryptoDomainName } from 'src/logic/wallets/ethAddresses'\r\nimport { getAddressFromUnstoppableDomain } from './utils/unstoppableDomains'\r\n\r\n// This providers have direct relation with name assigned in bnc-onboard configuration\r\nexport const WALLET_PROVIDER = {\r\n  SAFE: 'SAFE',\r\n  METAMASK: 'METAMASK',\r\n  REMOTE: 'REMOTE',\r\n  TORUS: 'TORUS',\r\n  PORTIS: 'PORTIS',\r\n  FORTMATIC: 'FORTMATIC',\r\n  SQUARELINK: 'SQUARELINK',\r\n  WALLETCONNECT: 'WALLETCONNECT',\r\n  OPERA: 'OPERA',\r\n  // This is the provider for WALLET_LINK configuration on bnc-onboard\r\n  COINBASE_WALLET: 'COINBASE WALLET',\r\n  AUTHEREUM: 'AUTHEREUM',\r\n  LEDGER: 'LEDGER',\r\n  TREZOR: 'TREZOR',\r\n  LATTICE: 'LATTICE',\r\n}\r\n\r\n// With some wallets from web3connect you have to use their provider instance only for signing\r\n// And our own one to fetch data\r\nconst httpProviderOptions = {\r\n  timeout: 10_000,\r\n}\r\nexport const web3ReadOnly = new Web3(\r\n  process.env.NODE_ENV !== 'test'\r\n    ? new Web3.providers.HttpProvider(getRpcServiceUrl(), httpProviderOptions)\r\n    : 'ws://localhost:8545',\r\n)\r\n\r\nlet web3 = web3ReadOnly\r\nexport const getWeb3 = (): Web3 => web3\r\n\r\nexport const resetWeb3 = (): void => {\r\n  web3 = web3ReadOnly\r\n}\r\n\r\nexport const getAccountFrom = async (web3Provider: Web3): Promise<string | null> => {\r\n  const accounts = await web3Provider.eth.getAccounts()\r\n\r\n  if (NODE_ENV === 'test' && window.testAccountIndex) {\r\n    return accounts[window.testAccountIndex]\r\n  }\r\n\r\n  return accounts && accounts.length > 0 ? accounts[0] : null\r\n}\r\n\r\nexport const getNetworkIdFrom = (web3Provider: Web3): Promise<number> => web3Provider.eth.net.getId()\r\n\r\nconst isHardwareWallet = (walletName: string) =>\r\n  sameAddress(WALLET_PROVIDER.LEDGER, walletName) || sameAddress(WALLET_PROVIDER.TREZOR, walletName)\r\n\r\nconst isSmartContractWallet = async (web3Provider: Web3, account: string): Promise<boolean> => {\r\n  const contractCode = await web3Provider.eth.getCode(account)\r\n\r\n  return !!contractCode && contractCode.replace(EMPTY_DATA, '').replace(/0/g, '') !== ''\r\n}\r\n\r\nexport const getProviderInfo = async (web3Instance: Web3, providerName = 'Wallet'): Promise<ProviderProps> => {\r\n  const account = (await getAccountFrom(web3Instance)) || ''\r\n  const network = await getNetworkIdFrom(web3Instance)\r\n  const smartContractWallet = await isSmartContractWallet(web3Instance, account)\r\n  const hardwareWallet = isHardwareWallet(providerName)\r\n\r\n  const available = account !== null\r\n\r\n  return {\r\n    name: providerName,\r\n    available,\r\n    loaded: true,\r\n    account,\r\n    network,\r\n    smartContractWallet,\r\n    hardwareWallet,\r\n  }\r\n}\r\n\r\nexport const getAddressFromDomain = (name: string): Promise<string> => {\r\n  if (isValidCryptoDomainName(name)) {\r\n    return getAddressFromUnstoppableDomain(name)\r\n  }\r\n  return web3.eth.ens.getAddress(name)\r\n}\r\n\r\nexport const getContentFromENS = (name: string): Promise<ContentHash> => web3.eth.ens.getContenthash(name)\r\n\r\nexport const setWeb3 = (provider: Provider): void => {\r\n  web3 = new Web3(provider)\r\n}\r\n","import { AppReduxState } from 'src/store'\r\nimport { CURRENCY_VALUES_KEY, CurrencyValuesState } from 'src/logic/currencyValues/store/reducer/currencyValues'\r\n\r\nexport const currencyValuesSelector = (state: AppReduxState): CurrencyValuesState => state[CURRENCY_VALUES_KEY]\r\n\r\nexport const currentCurrencySelector = (state: AppReduxState): string => {\r\n  return state[CURRENCY_VALUES_KEY].selectedCurrency\r\n}\r\n\r\nexport const availableCurrenciesSelector = (state: AppReduxState): string[] => {\r\n  return state[CURRENCY_VALUES_KEY].availableCurrencies\r\n}\r\n","/**\r\n * Helper function to handle multiple async calls\r\n * It will return the expected value for each parameter passed when fulfilled or a `null` in case of an error\r\n * @param args\r\n * @returns Array<ExpectedValues>\r\n */\r\nexport const allSettled = async <ExpectedValues extends unknown[]>(...args: unknown[]): Promise<ExpectedValues> => {\r\n  const data = new Array(args.length).fill(null)\r\n  const promises = await Promise.allSettled(args)\r\n\r\n  promises.forEach((promise, index) => {\r\n    if (promise.status !== 'fulfilled') {\r\n      console.error('Failed to retrieve async information', promise.reason)\r\n    } else {\r\n      data[index] = promise.value\r\n    }\r\n  })\r\n\r\n  return data as ExpectedValues\r\n}\r\n","import { Dispatch } from 'redux'\r\nimport { Action } from 'redux-actions'\r\n\r\nimport { updateSafe } from 'src/logic/safe/store/actions/updateSafe'\r\nimport { SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\nimport { getLocalSafe } from 'src/logic/safe/utils'\r\nimport { allSettled } from 'src/logic/safe/utils/allSettled'\r\nimport { getSafeInfo, SafeInfo } from 'src/logic/safe/utils/safeInformation'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { buildSafeOwners, extractRemoteSafeInfo } from './utils'\r\n\r\n/**\r\n * Builds a Safe Record that will be added to the app's store\r\n * It recovers, and merges information from client-gateway and localStore\r\n *\r\n * @note It's being used by \"Load Existing Safe\" and \"Create New Safe\" flows\r\n *\r\n * @param {string} safeAddress\r\n * @returns Promise<SafeRecordProps>\r\n */\r\nexport const buildSafe = async (safeAddress: string): Promise<SafeRecordProps> => {\r\n  const address = checksumAddress(safeAddress)\r\n  // setting `loadedViaUrl` to false, as `buildSafe` is called on safe Load or Open flows\r\n  const safeInfo: Partial<SafeRecordProps> = { address, loadedViaUrl: false }\r\n\r\n  const [remote, localSafeInfo] = await allSettled<[SafeInfo | null, SafeRecordProps | undefined | null]>(\r\n    getSafeInfo(safeAddress),\r\n    getLocalSafe(safeAddress),\r\n  )\r\n\r\n  // remote (client-gateway)\r\n  const remoteSafeInfo = remote ? await extractRemoteSafeInfo(remote) : {}\r\n\r\n  // update owner's information\r\n  const owners = buildSafeOwners(remote?.owners, localSafeInfo?.owners)\r\n\r\n  return { ...localSafeInfo, ...safeInfo, ...remoteSafeInfo, owners } as SafeRecordProps\r\n}\r\n\r\n/**\r\n * Updates the app's store with Safe Record built from data provided by client-gateway\r\n *\r\n * @note It's being used by the app when it loads for the first time and for the Safe's data polling\r\n *\r\n * @param {string} safeAddress\r\n */\r\nexport const fetchSafe = (safeAddress: string) => async (\r\n  dispatch: Dispatch,\r\n): Promise<Action<Partial<SafeRecordProps>>> => {\r\n  const address = checksumAddress(safeAddress)\r\n\r\n  const [remoteSafeInfo] = await allSettled<[SafeInfo | null]>(getSafeInfo(address))\r\n\r\n  // remote (client-gateway)\r\n  const safeInfo = remoteSafeInfo ? await extractRemoteSafeInfo(remoteSafeInfo) : {}\r\n\r\n  // update owner's information\r\n  const owners = remoteSafeInfo\r\n    ? // if we have remote info, we use it\r\n      buildSafeOwners(remoteSafeInfo.owners)\r\n    : // if there's no remote info, we keep what's in memory\r\n      undefined\r\n\r\n  return dispatch(updateSafe({ address, ...safeInfo, owners }))\r\n}\r\n","import { List } from 'immutable'\r\nimport { SafeRecord } from 'src/logic/safe/store/models/safe'\r\nimport { sameString } from 'src/utils/strings'\r\nimport { EMPTY_DATA } from 'src/logic/wallets/ethTransactions'\r\nexport const ZERO_ADDRESS = '0x0000000000000000000000000000000000000000'\r\n\r\nexport const sameAddress = (firstAddress: string | undefined, secondAddress: string | undefined): boolean => {\r\n  return sameString(firstAddress, secondAddress)\r\n}\r\n\r\nexport const isEmptyAddress = (address: string | undefined): boolean => {\r\n  if (!address) return true\r\n  return sameAddress(address, EMPTY_DATA) || sameAddress(address, ZERO_ADDRESS)\r\n}\r\n\r\nexport const shortVersionOf = (value: string, cut: number): string => {\r\n  if (!value) {\r\n    return 'Unknown'\r\n  }\r\n\r\n  const final = value.length - cut\r\n  if (value.length <= cut) {\r\n    return value\r\n  }\r\n\r\n  return `${value.substring(0, cut)}...${value.substring(final)}`\r\n}\r\n\r\nexport const isUserAnOwner = (safe: SafeRecord, userAccount: string): boolean => {\r\n  if (!safe) {\r\n    return false\r\n  }\r\n\r\n  if (!userAccount) {\r\n    return false\r\n  }\r\n\r\n  const { owners } = safe\r\n  if (!owners) {\r\n    return false\r\n  }\r\n\r\n  return owners.find((address) => sameAddress(address, userAccount)) !== undefined\r\n}\r\n\r\nexport const isUserAnOwnerOfAnySafe = (safes: List<SafeRecord> | SafeRecord[], userAccount: string): boolean =>\r\n  safes.some((safe: SafeRecord) => isUserAnOwner(safe, userAccount))\r\n\r\nexport const isValidEnsName = (name: string): boolean => /^([\\w-]+\\.)+(eth|test|xyz|luxe|ewc)$/.test(name)\r\n\r\nexport const isValidCryptoDomainName = (name: string): boolean => /^([\\w-]+\\.)+(crypto)$/.test(name)\r\n","import { AbstractProvider } from 'web3-core'\r\nimport { getWeb3 } from 'src/logic/wallets/getWeb3'\r\nimport { EMPTY_DATA } from 'src/logic/wallets/ethTransactions'\r\n\r\nconst EIP712_NOT_SUPPORTED_ERROR_MSG = \"EIP712 is not supported by user's wallet\"\r\n\r\nconst generateTypedDataFrom = async ({\r\n  baseGas,\r\n  data,\r\n  gasPrice,\r\n  gasToken,\r\n  nonce,\r\n  operation,\r\n  refundReceiver,\r\n  safeAddress,\r\n  safeTxGas,\r\n  to,\r\n  valueInWei,\r\n}) => {\r\n  const typedData = {\r\n    types: {\r\n      EIP712Domain: [\r\n        {\r\n          type: 'address',\r\n          name: 'verifyingContract',\r\n        },\r\n      ],\r\n      SafeTx: [\r\n        { type: 'address', name: 'to' },\r\n        { type: 'uint256', name: 'value' },\r\n        { type: 'bytes', name: 'data' },\r\n        { type: 'uint8', name: 'operation' },\r\n        { type: 'uint256', name: 'safeTxGas' },\r\n        { type: 'uint256', name: 'baseGas' },\r\n        { type: 'uint256', name: 'gasPrice' },\r\n        { type: 'address', name: 'gasToken' },\r\n        { type: 'address', name: 'refundReceiver' },\r\n        { type: 'uint256', name: 'nonce' },\r\n      ],\r\n    },\r\n    domain: {\r\n      verifyingContract: safeAddress,\r\n    },\r\n    primaryType: 'SafeTx',\r\n    message: {\r\n      to,\r\n      value: valueInWei,\r\n      data,\r\n      operation,\r\n      safeTxGas,\r\n      baseGas,\r\n      gasPrice,\r\n      gasToken,\r\n      refundReceiver,\r\n      nonce: Number(nonce),\r\n    },\r\n  }\r\n\r\n  return typedData\r\n}\r\n\r\nexport const getEIP712Signer = (version?: string) => async (txArgs) => {\r\n  const web3 = getWeb3()\r\n  const typedData = await generateTypedDataFrom(txArgs)\r\n\r\n  let method = 'eth_signTypedData_v3'\r\n  if (version === 'v4') {\r\n    method = 'eth_signTypedData_v4'\r\n  }\r\n  if (!version) {\r\n    method = 'eth_signTypedData'\r\n  }\r\n\r\n  const jsonTypedData = JSON.stringify(typedData)\r\n  const signedTypedData = {\r\n    jsonrpc: '2.0',\r\n    method,\r\n    params: version === 'v3' || version === 'v4' ? [txArgs.sender, jsonTypedData] : [jsonTypedData, txArgs.sender],\r\n    from: txArgs.sender,\r\n    id: new Date().getTime(),\r\n  }\r\n\r\n  return new Promise((resolve, reject) => {\r\n    const provider = web3.currentProvider as AbstractProvider\r\n    provider.sendAsync(signedTypedData, (err, signature) => {\r\n      if (err) {\r\n        reject(err)\r\n        return\r\n      }\r\n\r\n      if (signature?.result == null) {\r\n        reject(new Error(EIP712_NOT_SUPPORTED_ERROR_MSG))\r\n        return\r\n      }\r\n\r\n      resolve(signature.result.replace(EMPTY_DATA, ''))\r\n    })\r\n  })\r\n}\r\n","import { EMPTY_DATA } from 'src/logic/wallets/ethTransactions'\r\nimport { getWeb3 } from 'src/logic/wallets/getWeb3'\r\nimport { AbstractProvider } from 'web3-core/types'\r\n\r\nconst ETH_SIGN_NOT_SUPPORTED_ERROR_MSG = 'ETH_SIGN_NOT_SUPPORTED'\r\n\r\ntype EthSignerArgs = {\r\n  safeTxHash: string\r\n  sender: string\r\n}\r\n\r\nexport const ethSigner = async ({ safeTxHash, sender }: EthSignerArgs): Promise<string> => {\r\n  const web3 = getWeb3()\r\n\r\n  return new Promise(function (resolve, reject) {\r\n    const provider = web3.currentProvider as AbstractProvider\r\n    provider.sendAsync(\r\n      {\r\n        jsonrpc: '2.0',\r\n        method: 'eth_sign',\r\n        params: [sender, safeTxHash],\r\n        id: new Date().getTime(),\r\n      },\r\n      async function (err, signature) {\r\n        if (err) {\r\n          return reject(err)\r\n        }\r\n\r\n        if (signature?.result == null) {\r\n          reject(new Error(ETH_SIGN_NOT_SUPPORTED_ERROR_MSG))\r\n          return\r\n        }\r\n\r\n        const sig = signature.result.replace(EMPTY_DATA, '')\r\n        let sigV = parseInt(sig.slice(-2), 16)\r\n\r\n        // Metamask with ledger returns v = 01, this is not valid for ethereum\r\n        // For ethereum valid V is 27 or 28\r\n        // In case V = 0 or 01 we add it to 27 and then add 4\r\n        // Adding 4 is required to make signature valid for safe contracts:\r\n        // https://gnosis-safe.readthedocs.io/en/latest/contracts/signatures.html#eth-sign-signature\r\n        switch (sigV) {\r\n          case 0:\r\n          case 1:\r\n            sigV += 31\r\n            break\r\n          case 27:\r\n          case 28:\r\n            sigV += 4\r\n            break\r\n          default:\r\n            throw new Error('Invalid signature')\r\n        }\r\n\r\n        resolve(sig.slice(0, -2) + sigV.toString(16))\r\n      },\r\n    )\r\n  })\r\n}\r\n","import semverSatisfies from 'semver/functions/satisfies'\r\n\r\nimport { METAMASK_REJECT_CONFIRM_TX_ERROR_CODE } from 'src/logic/safe/store/actions/createTransaction'\r\nimport { getEIP712Signer } from './EIP712Signer'\r\nimport { ethSigner } from './ethSigner'\r\n\r\n// 1. we try to sign via EIP-712 if user's wallet supports it\r\n// 2. If not, try to use eth_sign (Safe version has to be >1.1.1)\r\n// If eth_sign, doesn't work continue with the regular flow (on-chain signatures, more in createTransaction.ts)\r\n\r\nconst SIGNERS = {\r\n  EIP712_V3: getEIP712Signer('v3'),\r\n  EIP712_V4: getEIP712Signer('v4'),\r\n  EIP712: getEIP712Signer(),\r\n  ETH_SIGN: ethSigner,\r\n}\r\n\r\nexport const SAFE_VERSION_FOR_OFF_CHAIN_SIGNATURES = '>=1.0.0'\r\n\r\n// hardware wallets support eth_sign only\r\n// eth_sign is only supported by safes >= 1.1.0\r\nconst getSupportedSigners = (isHW: boolean, safeVersion: string) => {\r\n  const safeSupportsEthSigner = semverSatisfies(safeVersion, '>=1.1.0')\r\n\r\n  const signers = isHW ? [] : [SIGNERS.EIP712_V3, SIGNERS.EIP712_V4, SIGNERS.EIP712]\r\n\r\n  if (safeSupportsEthSigner) {\r\n    signers.push(SIGNERS.ETH_SIGN)\r\n  }\r\n\r\n  return signers\r\n}\r\n\r\nexport const tryOffChainSigning = async (\r\n  safeTxHash: string,\r\n  txArgs,\r\n  isHW: boolean,\r\n  safeVersion: string,\r\n): Promise<string | undefined> => {\r\n  let signature\r\n\r\n  const signerByWallet = getSupportedSigners(isHW, safeVersion)\r\n  for (const signingFunc of signerByWallet) {\r\n    try {\r\n      signature = await signingFunc({ ...txArgs, safeTxHash })\r\n\r\n      break\r\n    } catch (err) {\r\n      console.error(err)\r\n      if (err.code === METAMASK_REJECT_CONFIRM_TX_ERROR_CODE) {\r\n        throw err\r\n      }\r\n    }\r\n  }\r\n\r\n  return signature\r\n}\r\n","import { getNotificationsFromTxType } from 'src/logic/notifications'\r\nimport {\r\n  isStatusFailed,\r\n  isTransactionSummary,\r\n  TransactionGatewayResult,\r\n} from 'src/logic/safe/store/models/types/gateway.d'\r\nimport { HistoryPayload } from 'src/logic/safe/store/reducer/gatewayTransactions'\r\nimport { TX_NOTIFICATION_TYPES } from 'src/logic/safe/transactions'\r\nimport { isUserAnOwner } from 'src/logic/wallets/ethAddresses'\r\nimport { SafesMap } from 'src/routes/safe/store/reducer/types/safe'\r\n\r\nlet nonce: number | undefined\r\n\r\nexport const setNonce = (newNonce: typeof nonce): void => {\r\n  nonce = newNonce\r\n}\r\n\r\nexport const getNotification = (\r\n  { safeAddress, values }: HistoryPayload,\r\n  userAddress: string,\r\n  safes: SafesMap,\r\n): undefined => {\r\n  const currentSafe = safes.get(safeAddress)\r\n\r\n  // no notification if not in the current safe or if its not an owner\r\n  if (!currentSafe || !isUserAnOwner(currentSafe, userAddress)) {\r\n    return\r\n  }\r\n\r\n  // if we have a nonce, then we have a tx that is about to be executed\r\n  if (nonce !== undefined) {\r\n    const executedTx = values\r\n      .filter(isTransactionSummary)\r\n      .map((item: TransactionGatewayResult) => item.transaction)\r\n      .find((transaction) => transaction.executionInfo?.nonce === nonce)\r\n\r\n    // transaction that was pending, was moved into history\r\n    // that is: it was executed\r\n    if (executedTx !== undefined) {\r\n      const notificationsQueue = getNotificationsFromTxType(TX_NOTIFICATION_TYPES.STANDARD_TX)\r\n      const notification = isStatusFailed(executedTx.txStatus)\r\n        ? notificationsQueue.afterExecutionError\r\n        : notificationsQueue.afterExecution.noMoreConfirmationsNeeded\r\n\r\n      // reset nonce value\r\n      setNonce(undefined)\r\n\r\n      return notification\r\n    }\r\n  }\r\n}\r\n","import axios from 'axios'\r\n\r\nimport { GnosisSafe } from 'src/types/contracts/GnosisSafe.d'\r\nimport { getSafeServiceBaseUrl } from 'src/config'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\n\r\nconst calculateBodyFrom = async (\r\n  safeInstance: GnosisSafe,\r\n  to,\r\n  valueInWei,\r\n  data,\r\n  operation,\r\n  nonce,\r\n  safeTxGas,\r\n  baseGas,\r\n  gasPrice,\r\n  gasToken,\r\n  refundReceiver,\r\n  transactionHash,\r\n  sender,\r\n  origin,\r\n  signature,\r\n) => {\r\n  const contractTransactionHash = await safeInstance.methods\r\n    .getTransactionHash(to, valueInWei, data, operation, safeTxGas, baseGas, gasPrice, gasToken, refundReceiver, nonce)\r\n    .call()\r\n\r\n  return {\r\n    to: checksumAddress(to),\r\n    value: valueInWei,\r\n    data,\r\n    operation,\r\n    nonce,\r\n    safeTxGas,\r\n    baseGas,\r\n    gasPrice,\r\n    gasToken,\r\n    refundReceiver,\r\n    contractTransactionHash,\r\n    transactionHash,\r\n    sender: checksumAddress(sender),\r\n    origin,\r\n    signature,\r\n  }\r\n}\r\n\r\nexport const buildTxServiceUrl = (safeAddress: string): string => {\r\n  const address = checksumAddress(safeAddress)\r\n  return `${getSafeServiceBaseUrl(address)}/multisig-transactions/?has_confirmations=True`\r\n}\r\n\r\nconst SUCCESS_STATUS = 201 // CREATED status\r\n\r\ninterface SaveTxToHistoryArgs {\r\n  safeInstance: GnosisSafe\r\n  [key: string]: any\r\n}\r\n\r\nexport const saveTxToHistory = async ({\r\n  baseGas,\r\n  data,\r\n  gasPrice,\r\n  gasToken,\r\n  nonce,\r\n  operation,\r\n  origin,\r\n  refundReceiver,\r\n  safeInstance,\r\n  safeTxGas,\r\n  sender,\r\n  signature,\r\n  to,\r\n  txHash,\r\n  valueInWei,\r\n}: SaveTxToHistoryArgs): Promise<void> => {\r\n  const url = buildTxServiceUrl(safeInstance.options.address)\r\n  const body = await calculateBodyFrom(\r\n    safeInstance,\r\n    to,\r\n    valueInWei,\r\n    data,\r\n    operation,\r\n    nonce,\r\n    safeTxGas,\r\n    baseGas,\r\n    gasPrice,\r\n    gasToken,\r\n    refundReceiver,\r\n    txHash || null,\r\n    sender,\r\n    origin || null,\r\n    signature,\r\n  )\r\n  const response = await axios.post(url, body)\r\n\r\n  if (response.status !== SUCCESS_STATUS) {\r\n    return Promise.reject(new Error('Error submitting the transaction'))\r\n  }\r\n\r\n  return Promise.resolve()\r\n}\r\n","import { getGnosisSafeInstanceAt, SENTINEL_ADDRESS } from 'src/logic/contracts/safeContracts'\r\nimport { CreateTransactionArgs } from 'src/logic/safe/store/actions/createTransaction'\r\nimport { ModulePair } from 'src/logic/safe/store/models/safe'\r\nimport { CALL, TX_NOTIFICATION_TYPES } from 'src/logic/safe/transactions'\r\n\r\n/**\r\n * Builds a collection of tuples with (prev, module) module addresses\r\n *\r\n * The `modules` param, is organized from the most recently added to the oldest.\r\n *\r\n * By assuming this, we are able to recreate the linked list that's defined at contract level\r\n *   considering `0x1` (SENTINEL_ADDRESS) address as the list's initial node.\r\n *\r\n * Given this scenario, we have a linked list in the form of\r\n *\r\n *  **`0x1->modules[n]->module[n-1]->module[0]->0x1`**\r\n *\r\n * So,\r\n *  - if we want to disable `module[n]`, we need to pass `(module[n], 0x1)` as arguments,\r\n *  - if we want to disable `module[n-1]`, we need to pass `(module[n-1], module[n])`,\r\n *  - ... and so on\r\n * @param {Array<string>} modules\r\n * @returns null | Array<ModulePair>\r\n */\r\nexport const buildModulesLinkedList = (modules: string[]): Array<ModulePair> | null => {\r\n  if (modules?.length) {\r\n    return modules.map((moduleAddress, index, modules) => {\r\n      if (index === 0) {\r\n        return [SENTINEL_ADDRESS, moduleAddress]\r\n      }\r\n      return [modules[index - 1], moduleAddress]\r\n    })\r\n  }\r\n\r\n  // no modules\r\n  return null\r\n}\r\n\r\nexport const getDisableModuleTxData = (modulePair: ModulePair, safeAddress: string): string => {\r\n  const [previousModule, module] = modulePair\r\n  const safeInstance = getGnosisSafeInstanceAt(safeAddress)\r\n\r\n  return safeInstance.methods.disableModule(previousModule, module).encodeABI()\r\n}\r\n\r\ntype EnableModuleParams = {\r\n  moduleAddress: string\r\n  safeAddress: string\r\n}\r\nexport const enableModuleTx = ({ moduleAddress, safeAddress }: EnableModuleParams): CreateTransactionArgs => {\r\n  const safeInstance = getGnosisSafeInstanceAt(safeAddress)\r\n\r\n  return {\r\n    safeAddress,\r\n    to: safeAddress,\r\n    operation: CALL,\r\n    valueInWei: '0',\r\n    txData: safeInstance.methods.enableModule(moduleAddress).encodeABI(),\r\n    notifiedTransaction: TX_NOTIFICATION_TYPES.SETTINGS_CHANGE_TX,\r\n  }\r\n}\r\n","export enum SAFE_APP_FETCH_STATUS {\r\n  LOADING = 'LOADING',\r\n  SUCCESS = 'SUCCESS',\r\n  ERROR = 'ERROR',\r\n}\r\n\r\nexport type SafeApp = {\r\n  id: string\r\n  url: string\r\n  name: string\r\n  iconUrl: string\r\n  disabled?: boolean\r\n  description: string\r\n  error: boolean\r\n  fetchStatus: SAFE_APP_FETCH_STATUS\r\n}\r\n\r\nexport type StoredSafeApp = {\r\n  url: string\r\n}\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const REMOVE_SAFE = 'REMOVE_SAFE'\r\n\r\nconst removeSafe = createAction(REMOVE_SAFE)\r\n\r\nexport default removeSafe\r\n","import { List } from 'immutable'\r\nimport { Dispatch } from 'redux'\r\n\r\nimport {\r\n  BalanceEndpoint,\r\n  fetchTokenCurrenciesBalances,\r\n  TokenBalance,\r\n} from 'src/logic/safe/api/fetchTokenCurrenciesBalances'\r\nimport { addTokens } from 'src/logic/tokens/store/actions/addTokens'\r\nimport { makeToken, Token } from 'src/logic/tokens/store/model/token'\r\nimport { updateSafe } from 'src/logic/safe/store/actions/updateSafe'\r\nimport { AppReduxState } from 'src/store'\r\nimport { humanReadableValue } from 'src/logic/tokens/utils/humanReadableValue'\r\nimport { safeSelector } from 'src/logic/safe/store/selectors'\r\nimport BigNumber from 'bignumber.js'\r\nimport { currentCurrencySelector } from 'src/logic/currencyValues/store/selectors'\r\nimport { ZERO_ADDRESS, sameAddress } from 'src/logic/wallets/ethAddresses'\r\nimport { Errors, logError } from 'src/logic/exceptions/CodedException'\r\n\r\nexport type BalanceRecord = {\r\n  tokenAddress?: string\r\n  tokenBalance: string\r\n  fiatBalance?: string\r\n}\r\n\r\ninterface ExtractedData {\r\n  balances: Array<BalanceRecord>\r\n  ethBalance: string\r\n  tokens: List<Token>\r\n}\r\n\r\nconst extractDataFromResult = (\r\n  acc: ExtractedData,\r\n  { balance, fiatBalance, tokenInfo }: TokenBalance,\r\n): ExtractedData => {\r\n  const { address, decimals } = tokenInfo\r\n\r\n  acc.balances.push({\r\n    tokenAddress: address,\r\n    fiatBalance,\r\n    tokenBalance: humanReadableValue(balance, Number(decimals)),\r\n  })\r\n\r\n  // Extract network token balance from backend balances\r\n  if (sameAddress(address, ZERO_ADDRESS)) {\r\n    acc.ethBalance = humanReadableValue(balance, Number(decimals))\r\n  } else {\r\n    acc.tokens = acc.tokens.push(makeToken({ ...tokenInfo }))\r\n  }\r\n\r\n  return acc\r\n}\r\n\r\nexport const fetchSafeTokens = (safeAddress: string, currencySelected?: string) => async (\r\n  dispatch: Dispatch,\r\n  getState: () => AppReduxState,\r\n): Promise<void> => {\r\n  const state = getState()\r\n  const safe = safeSelector(state)\r\n\r\n  if (!safe) {\r\n    return\r\n  }\r\n  const selectedCurrency = currentCurrencySelector(state)\r\n\r\n  let tokenCurrenciesBalances: BalanceEndpoint\r\n  try {\r\n    tokenCurrenciesBalances = await fetchTokenCurrenciesBalances({\r\n      safeAddress,\r\n      selectedCurrency: currencySelected ?? selectedCurrency,\r\n    })\r\n  } catch (e) {\r\n    logError(Errors._601, e.message)\r\n    return\r\n  }\r\n\r\n  const { balances, ethBalance, tokens } = tokenCurrenciesBalances.items.reduce<ExtractedData>(extractDataFromResult, {\r\n    balances: [],\r\n    ethBalance: '0',\r\n    tokens: List(),\r\n  })\r\n\r\n  dispatch(\r\n    updateSafe({\r\n      address: safeAddress,\r\n      balances,\r\n      ethBalance,\r\n      totalFiatBalance: new BigNumber(tokenCurrenciesBalances.fiatTotal).toFixed(2),\r\n    }),\r\n  )\r\n  dispatch(addTokens(tokens))\r\n}\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const LOAD_CURRENT_SESSION = 'LOAD_CURRENT_SESSION'\r\n\r\nconst loadCurrentSession = createAction(LOAD_CURRENT_SESSION)\r\n\r\nexport default loadCurrentSession\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const UPDATE_VIEWED_SAFES = 'UPDATE_VIEWED_SAFES'\r\n\r\nconst updateViewedSafes = createAction(UPDATE_VIEWED_SAFES)\r\n\r\nexport default updateViewedSafes\r\n","import { loadFromStorage, saveToStorage } from 'src/utils/storage'\r\nimport { CurrentSessionState } from 'src/logic/currentSession/store/reducer/currentSession'\r\n\r\nconst CURRENT_SESSION_STORAGE_KEY = 'CURRENT_SESSION'\r\n\r\nexport const getCurrentSessionFromStorage = async (): Promise<CurrentSessionState | undefined> =>\r\n  loadFromStorage(CURRENT_SESSION_STORAGE_KEY)\r\n\r\nexport const saveCurrentSessionToStorage = async (currentSession) => {\r\n  try {\r\n    await saveToStorage(CURRENT_SESSION_STORAGE_KEY, currentSession)\r\n  } catch (err) {\r\n    console.error('Error storing currentSession in localStorage', err)\r\n  }\r\n}\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const REMOVE_SNACKBAR = 'REMOVE_SNACKBAR'\r\n\r\nconst removeSnackbar = createAction(REMOVE_SNACKBAR)\r\n\r\nexport default removeSnackbar\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const SET_LATEST_MASTER_CONTRACT_VERSION = 'SET_LATEST_MASTER_CONTRACT_VERSION'\r\n\r\nconst setLatestMasterContractVersion = createAction(SET_LATEST_MASTER_CONTRACT_VERSION)\r\n\r\nexport default setLatestMasterContractVersion\r\n","import closeSnackbar from 'src/logic/notifications/store/actions/closeSnackbar'\r\nimport { getProviderInfo, getWeb3 } from 'src/logic/wallets/getWeb3'\r\nimport { fetchProvider } from 'src/logic/wallets/store/actions'\r\nimport { ADD_PROVIDER } from 'src/logic/wallets/store/actions/addProvider'\r\nimport { REMOVE_PROVIDER } from 'src/logic/wallets/store/actions/removeProvider'\r\n\r\nimport { loadFromStorage, removeFromStorage, saveToStorage } from 'src/utils/storage'\r\n\r\nconst watchedActions = [ADD_PROVIDER, REMOVE_PROVIDER]\r\n\r\nconst LAST_USED_PROVIDER_KEY = 'LAST_USED_PROVIDER'\r\n\r\nexport const loadLastUsedProvider = async (): Promise<string | undefined> => {\r\n  const lastUsedProvider = await loadFromStorage<string>(LAST_USED_PROVIDER_KEY)\r\n\r\n  return lastUsedProvider\r\n}\r\n\r\nlet watcherInterval\r\nconst providerWatcherMware = (store) => (next) => async (action) => {\r\n  const handledAction = next(action)\r\n\r\n  if (watchedActions.includes(action.type)) {\r\n    switch (action.type) {\r\n      case ADD_PROVIDER: {\r\n        const currentProviderProps = action.payload.toJS()\r\n\r\n        if (watcherInterval) {\r\n          clearInterval(watcherInterval)\r\n        }\r\n\r\n        saveToStorage(LAST_USED_PROVIDER_KEY, currentProviderProps.name)\r\n\r\n        watcherInterval = setInterval(async () => {\r\n          const web3 = getWeb3()\r\n          const providerInfo = await getProviderInfo(web3)\r\n\r\n          const networkChanged = currentProviderProps.network !== providerInfo.network\r\n\r\n          if (networkChanged) {\r\n            store.dispatch(closeSnackbar({ dismissAll: true }))\r\n          }\r\n\r\n          if (currentProviderProps.account !== providerInfo.account || networkChanged) {\r\n            store.dispatch(fetchProvider(currentProviderProps.name))\r\n          }\r\n        }, 2000)\r\n\r\n        break\r\n      }\r\n      case REMOVE_PROVIDER:\r\n        clearInterval(watcherInterval)\r\n        removeFromStorage(LAST_USED_PROVIDER_KEY)\r\n        break\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  return handledAction\r\n}\r\n\r\nexport default providerWatcherMware\r\n","import { createAction } from 'redux-actions'\r\nimport { AvailableCurrenciesPayload } from 'src/logic/currencyValues/store/reducer/currencyValues'\r\n\r\nexport const SET_AVAILABLE_CURRENCIES = 'SET_AVAILABLE_CURRENCIES'\r\n\r\nexport const setAvailableCurrencies = createAction<AvailableCurrenciesPayload>(SET_AVAILABLE_CURRENCIES)\r\n","export default __webpack_public_path__ + \"static/media/nft_icon.85f106fa.png\";","export const APP_ENV = process.env.REACT_APP_ENV\r\nexport const NODE_ENV = process.env.NODE_ENV\r\nexport const IS_PRODUCTION = process.env.NODE_ENV === 'production'\r\nexport const NETWORK = process.env.REACT_APP_NETWORK?.toUpperCase() || 'RINKEBY'\r\nexport const INTERCOM_ID = APP_ENV === 'production' ? process.env.REACT_APP_INTERCOM_ID : 'plssl1fl'\r\nexport const GOOGLE_ANALYTICS_ID = process.env.REACT_APP_GOOGLE_ANALYTICS || ''\r\nexport const SENTRY_DSN = process.env.REACT_APP_SENTRY_DSN || ''\r\nexport const PORTIS_ID = process.env.REACT_APP_PORTIS_ID ?? '852b763d-f28b-4463-80cb-846d7ec5806b'\r\nexport const FORTMATIC_KEY = process.env.REACT_APP_FORTMATIC_KEY ?? 'pk_test_CAD437AA29BE0A40'\r\n/*\r\n * Not being used\r\nexport const SQUARELINK_ID = {\r\n  [ETHEREUM_NETWORK.RINKEBY]: '46ce08fe50913cfa1b78',\r\n  [ETHEREUM_NETWORK.MAINNET]: process.env.REACT_APP_SQUARELINK_ID,\r\n  [ETHEREUM_NETWORK.XDAI]: process.env.REACT_APP_SQUARELINK_ID,\r\n}\r\n */\r\nexport const INFURA_TOKEN = process.env.REACT_APP_INFURA_TOKEN || ''\r\nexport const LATEST_SAFE_VERSION = process.env.REACT_APP_LATEST_SAFE_VERSION || '1.1.1'\r\nexport const LOADED_SAFE_KEY = 'Gnosis Safe'\r\nexport const APP_VERSION = process.env.REACT_APP_APP_VERSION || 'not-defined'\r\nexport const OPENSEA_API_KEY = process.env.REACT_APP_OPENSEA_API_KEY || ''\r\nexport const COLLECTIBLES_SOURCE = process.env.REACT_APP_COLLECTIBLES_SOURCE || 'Gnosis'\r\nexport const TIMEOUT = process.env.NODE_ENV === 'test' ? 1500 : 5000\r\nexport const ETHERSCAN_API_KEY = process.env.REACT_APP_ETHERSCAN_API_KEY\r\nexport const ETHGASSTATION_API_KEY = process.env.REACT_APP_ETHGASSTATION_API_KEY\r\nexport const SAFE_APPS_LIST_URL =\r\n  process.env.REACT_APP_SAFE_APPS_LIST_URL ||\r\n  'https://raw.githubusercontent.com/gnosis/safe-apps-list/main/public/gnosis-default.applist.json'\r\nexport const IPFS_GATEWAY = process.env.REACT_APP_IPFS_GATEWAY\r\nexport const SPENDING_LIMIT_MODULE_ADDRESS =\r\n  process.env.REACT_APP_SPENDING_LIMIT_MODULE_ADDRESS || '0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134'\r\nexport const KNOWN_MODULES = {\r\n  [SPENDING_LIMIT_MODULE_ADDRESS]: 'Spending limit',\r\n}\r\n","import { createSelector } from 'reselect'\r\n\r\nimport { TOKEN_REDUCER_ID, TokenState } from 'src/logic/tokens/store/reducer/tokens'\r\nimport { AppReduxState } from 'src/store'\r\n\r\nexport const tokensSelector = (state: AppReduxState): TokenState => state[TOKEN_REDUCER_ID]\r\n\r\nexport const tokenListSelector = createSelector(tokensSelector, (tokens) => tokens.toList())\r\n\r\nexport const orderedTokenListSelector = createSelector(tokenListSelector, (tokens) =>\r\n  tokens.sortBy((token) => token.get('symbol')),\r\n)\r\n","const background = '#f7f5f5'\r\nconst border = '#e8e7e6'\r\nconst connectedColor = '#008C73'\r\nconst disabled = '#5D6D74'\r\nconst errorColor = '#f02525'\r\nconst fancyColor = '#f02525'\r\nconst fontColor = '#001428'\r\nconst headerHeight = '52px'\r\nconst lg = '24px'\r\nconst marginButtonImg = '12px'\r\nconst md = '16px'\r\nconst primary = '#001428'\r\nconst secondary = '#008C73'\r\nconst secondaryTextOrSvg = '#B2B5B2'\r\nconst secondaryBackground = '#f0efee'\r\nconst sm = '8px'\r\nconst warningColor = '#ffc05f'\r\nconst xl = '32px'\r\nconst xs = '4px'\r\nconst xxl = '40px'\r\n\r\nmodule.exports = {\r\n  background,\r\n  boldFont: 700,\r\n  bolderFont: 500,\r\n  border,\r\n  buttonLargeFontSize: '16px',\r\n  connected: connectedColor,\r\n  disabled,\r\n  error: errorColor,\r\n  extraBoldFont: 800,\r\n  extraLargeFontSize: '20px',\r\n  extraSmallFontSize: '11px',\r\n  fancy: fancyColor,\r\n  fontColor,\r\n  fontSizeHeadingLg: 32,\r\n  fontSizeHeadingMd: 20,\r\n  fontSizeHeadingSm: 16,\r\n  fontSizeHeadingXs: 13,\r\n  headerHeight,\r\n  largeFontSize: '16px',\r\n  lg,\r\n  lightFont: 300,\r\n  mainFontFamily: 'Averta, sans-serif',\r\n  marginButtonImg,\r\n  md,\r\n  mediumFontSize: '14px',\r\n  primary,\r\n  regularFont: 400,\r\n  screenLg: 1200,\r\n  screenMd: 992,\r\n  screenMdMax: 1199,\r\n  screenSm: 768,\r\n  screenSmMax: 991,\r\n  screenXs: 480,\r\n  screenXsMax: 767,\r\n  secondary,\r\n  secondaryFontFamily: 'Averta, monospace',\r\n  secondaryText: secondaryTextOrSvg,\r\n  secondaryBackground,\r\n  sm,\r\n  smallFontSize: '12px',\r\n  warning: warningColor,\r\n  xl,\r\n  xs,\r\n  xxl,\r\n  xxlFontSize: '32px',\r\n}\r\n","import axios, { AxiosResponse } from 'axios'\r\n\r\nimport { getSafeClientGatewayBaseUrl } from 'src/config'\r\nimport { HistoryGatewayResponse, QueuedGatewayResponse } from 'src/logic/safe/store/models/types/gateway'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\n\r\n/*************/\r\n/*  HISTORY  */\r\n/*************/\r\nconst getHistoryTransactionsUrl = (safeAddress: string): string => {\r\n  const address = checksumAddress(safeAddress)\r\n  return `${getSafeClientGatewayBaseUrl(address)}/transactions/history/`\r\n}\r\n\r\nconst historyPointers: { [safeAddress: string]: { next: string | null; previous: string | null } } = {}\r\n\r\n/**\r\n * Fetch next page if there is a next pointer for the safeAddress.\r\n * If the fetch was success, updates the pointers.\r\n * @param {string} safeAddress\r\n */\r\nexport const loadPagedHistoryTransactions = async (\r\n  safeAddress: string,\r\n): Promise<{ values: HistoryGatewayResponse['results']; next: string | null } | undefined> => {\r\n  // if `historyPointers[safeAddress] is `undefined` it means `loadHistoryTransactions` wasn't called\r\n  // if `historyPointers[safeAddress].next is `null`, it means it reached the last page in gateway-client\r\n  if (!historyPointers[safeAddress]?.next) {\r\n    return\r\n  }\r\n\r\n  const {\r\n    data: { results, ...pointers },\r\n  } = await axios.get<HistoryGatewayResponse, AxiosResponse<HistoryGatewayResponse>>(\r\n    historyPointers[safeAddress].next as string,\r\n  )\r\n\r\n  historyPointers[safeAddress] = pointers\r\n\r\n  return { values: results, next: historyPointers[safeAddress].next }\r\n}\r\n\r\nexport const loadHistoryTransactions = async (safeAddress: string): Promise<HistoryGatewayResponse['results']> => {\r\n  const historyTransactionsUrl = getHistoryTransactionsUrl(safeAddress)\r\n\r\n  try {\r\n    const {\r\n      data: { results, ...pointers },\r\n    } = await axios.get<HistoryGatewayResponse, AxiosResponse<HistoryGatewayResponse>>(historyTransactionsUrl)\r\n\r\n    if (!historyPointers[safeAddress]) {\r\n      historyPointers[safeAddress] = pointers\r\n    }\r\n\r\n    return results\r\n  } catch (error) {\r\n    // When the safe is just created there is a delay until the gateway recognize the\r\n    // safe address, when that happens it returns 404.\r\n    if (error.response.status === 404) {\r\n      return []\r\n    }\r\n\r\n    throw Error(`There was an error trying to fetch history txs from safeAddress ${safeAddress}`)\r\n  }\r\n}\r\n\r\n/************/\r\n/*  QUEUED  */\r\n/************/\r\nconst getQueuedTransactionsUrl = (safeAddress: string): string => {\r\n  const address = checksumAddress(safeAddress)\r\n  return `${getSafeClientGatewayBaseUrl(address)}/transactions/queued/`\r\n}\r\n\r\nconst queuedPointers: { [safeAddress: string]: { next: string | null; previous: string | null } } = {}\r\n\r\n/**\r\n * Fetch next page if there is a next pointer for the safeAddress.\r\n * If the fetch was success, updates the pointers.\r\n * @param {string} safeAddress\r\n */\r\nexport const loadPagedQueuedTransactions = async (\r\n  safeAddress: string,\r\n): Promise<{ values: QueuedGatewayResponse['results']; next: string | null } | undefined> => {\r\n  // if `queuedPointers[safeAddress] is `undefined` it means `loadHistoryTransactions` wasn't called\r\n  // if `queuedPointers[safeAddress].next is `null`, it means it reached the last page in gateway-client\r\n  if (!queuedPointers[safeAddress]?.next) {\r\n    return\r\n  }\r\n\r\n  const {\r\n    data: { results, ...pointers },\r\n  } = await axios.get<QueuedGatewayResponse, AxiosResponse<QueuedGatewayResponse>>(\r\n    queuedPointers[safeAddress].next as string,\r\n  )\r\n\r\n  queuedPointers[safeAddress] = pointers\r\n\r\n  return { values: results, next: queuedPointers[safeAddress].next }\r\n}\r\n\r\nexport const loadQueuedTransactions = async (safeAddress: string): Promise<QueuedGatewayResponse['results']> => {\r\n  const queuedTransactionsUrl = getQueuedTransactionsUrl(safeAddress)\r\n  try {\r\n    const {\r\n      data: { results, ...pointers },\r\n    } = await axios.get<QueuedGatewayResponse, AxiosResponse<QueuedGatewayResponse>>(queuedTransactionsUrl)\r\n\r\n    if (!queuedPointers[safeAddress] || queuedPointers[safeAddress].next === null) {\r\n      queuedPointers[safeAddress] = pointers\r\n    }\r\n\r\n    return results\r\n  } catch (error) {\r\n    // When the safe is just created there is a delay until the gateway recognize the\r\n    // safe address, when that happens it returns 404.\r\n    if (error.response.status === 404) {\r\n      return []\r\n    }\r\n\r\n    throw Error(`There was an error trying to fetch queued txs from safeAddress ${safeAddress}`)\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"Img_img__1WwP4\",\"bordered\":\"Img_bordered__2JsKw\",\"fullwidth\":\"Img_fullwidth__2Bpab\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"Row_row__3wHBt\",\"grow\":\"Row_grow__2o_AY\",\"marginXs\":\"Row_marginXs__23AZ4\",\"marginSm\":\"Row_marginSm__3N_Uh\",\"marginMd\":\"Row_marginMd__1NXXR\",\"marginLg\":\"Row_marginLg__2fvDE\",\"marginXl\":\"Row_marginXl__RJkNk\",\"alignStart\":\"Row_alignStart__3y7r_\",\"alignEnd\":\"Row_alignEnd__1Bq1n\",\"alignCenter\":\"Row_alignCenter__14Rj9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paragraph\":\"Paragraph_paragraph__PeKXp\",\"soft\":\"Paragraph_soft__1R6vp\",\"medium\":\"Paragraph_medium__2AIe5\",\"dark\":\"Paragraph_dark__22K4O\",\"fancy\":\"Paragraph_fancy__1VQnW\",\"warning\":\"Paragraph_warning__32QPA\",\"primary\":\"Paragraph_primary__2e6ot\",\"secondary\":\"Paragraph_secondary__3eB5m\",\"disabled\":\"Paragraph_disabled__QJpyU\",\"error\":\"Paragraph_error__2Z8No\",\"white\":\"Paragraph_white__1ALYR\",\"capitalize\":\"Paragraph_capitalize__3pErO\",\"lowercase\":\"Paragraph_lowercase__1ZUSB\",\"uppercase\":\"Paragraph_uppercase__2UC88\",\"noMargin\":\"Paragraph_noMargin__2r9lV\",\"center\":\"Paragraph_center__jSNOD\",\"left\":\"Paragraph_left__DxARu\",\"right\":\"Paragraph_right__m2D8m\",\"xs\":\"Paragraph_xs__1rLyf\",\"sm\":\"Paragraph_sm__3PU6t\",\"md\":\"Paragraph_md__24qrc\",\"lg\":\"Paragraph_lg__32kND\",\"xl\":\"Paragraph_xl__3cl3e\",\"xxl\":\"Paragraph_xxl__d21fX\",\"light\":\"Paragraph_light__2uJ0X\",\"regular\":\"Paragraph_regular__1e4S4\",\"bolder\":\"Paragraph_bolder__1R3hx\",\"bold\":\"Paragraph_bold__1wNV0\",\"dot\":\"Paragraph_dot__3Mkgk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnLink\":\"ButtonLink_btnLink__239xP\",\"sm\":\"ButtonLink_sm__6CiN9\",\"md\":\"ButtonLink_md__37ABa\",\"lg\":\"ButtonLink_lg__1s2sf\",\"xl\":\"ButtonLink_xl__1aD16\",\"xxl\":\"ButtonLink_xxl__1CnCj\",\"light\":\"ButtonLink_light__1e4rG\",\"regular\":\"ButtonLink_regular__gXus3\",\"bolder\":\"ButtonLink_bolder__31rkU\",\"bold\":\"ButtonLink_bold__2oIGR\",\"soft\":\"ButtonLink_soft__39zeQ\",\"medium\":\"ButtonLink_medium__3fKvU\",\"dark\":\"ButtonLink_dark__11F6o\",\"fancy\":\"ButtonLink_fancy__1IpA3\",\"warning\":\"ButtonLink_warning__2Sz5_\",\"primary\":\"ButtonLink_primary__3SBjR\",\"secondary\":\"ButtonLink_secondary__17su5\",\"disabled\":\"ButtonLink_disabled__101LF\",\"error\":\"ButtonLink_error__3d2sh\",\"white\":\"ButtonLink_white__gnAMK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Link_link__2gNgs\",\"regular\":\"Link_regular__GDjhF\",\"white\":\"Link_white__1OkPA\",\"paddingXs\":\"Link_paddingXs__3gK3n\",\"paddingSm\":\"Link_paddingSm__1USQT\",\"paddingMd\":\"Link_paddingMd__QiMSW\"};","import memoize from 'lodash.memoize'\r\n\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\nimport { getWeb3 } from 'src/logic/wallets/getWeb3'\r\nimport { isFeatureEnabled } from 'src/config'\r\nimport { FEATURES } from 'src/config/networks/network.d'\r\nimport { isValidAddress } from 'src/utils/isValidAddress'\r\nimport { ADDRESS_BOOK_INVALID_NAMES, isValidAddressBookName } from 'src/logic/addressBook/utils'\r\n\r\ntype ValidatorReturnType = string | undefined\r\nexport type GenericValidatorType = (...args: unknown[]) => ValidatorReturnType\r\ntype AsyncValidator = (...args: unknown[]) => Promise<ValidatorReturnType>\r\nexport type Validator = GenericValidatorType | AsyncValidator\r\n\r\nexport const required = (value?: string): ValidatorReturnType => {\r\n  const required = 'Required'\r\n\r\n  if (!value) {\r\n    return required\r\n  }\r\n\r\n  if (typeof value === 'string' && !value.trim().length) {\r\n    return required\r\n  }\r\n\r\n  return undefined\r\n}\r\n\r\nexport const mustBeInteger = (value: string): ValidatorReturnType =>\r\n  !Number.isInteger(Number(value)) || value.includes('.') ? 'Must be an integer' : undefined\r\n\r\nexport const mustBeFloat = (value: string): ValidatorReturnType =>\r\n  value && Number.isNaN(Number(value)) ? 'Must be a number' : undefined\r\n\r\nconst regexQuery = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i\r\nconst url = new RegExp(regexQuery)\r\nexport const mustBeUrl = (value: string): ValidatorReturnType => {\r\n  if (url.test(value)) {\r\n    return undefined\r\n  }\r\n\r\n  return 'Please, provide a valid url'\r\n}\r\n\r\nexport const minValue = (min: number | string, inclusive = true) => (value: string): ValidatorReturnType => {\r\n  if (!value) {\r\n    return undefined\r\n  }\r\n\r\n  if (Number.parseFloat(value) > Number(min) || (inclusive && Number.parseFloat(value) >= Number(min))) {\r\n    return undefined\r\n  }\r\n\r\n  return `Should be greater than ${inclusive ? 'or equal to ' : ''}${min}`\r\n}\r\n\r\nexport const maxValue = (max: number | string) => (value: string): ValidatorReturnType => {\r\n  if (!max || parseFloat(value) <= parseFloat(max.toString())) {\r\n    return undefined\r\n  }\r\n\r\n  return `Maximum value is ${max}`\r\n}\r\n\r\nexport const ok = (): undefined => undefined\r\n\r\nexport const mustBeHexData = (data: string): ValidatorReturnType => {\r\n  const isData = getWeb3().utils.isHexStrict(data)\r\n\r\n  if (!isData) {\r\n    return 'Has to be a valid strict hex data (it must start with 0x)'\r\n  }\r\n}\r\n\r\nexport const mustBeAddressHash = memoize(\r\n  (address: string): ValidatorReturnType => {\r\n    const errorMessage = 'Must be a valid address'\r\n    return isValidAddress(address) ? undefined : errorMessage\r\n  },\r\n)\r\n\r\nexport const mustBeEthereumAddress = memoize(\r\n  (address: string): ValidatorReturnType => {\r\n    const errorMessage = 'Must be a valid address, ENS or Unstoppable domain'\r\n    const result = mustBeAddressHash(address)\r\n    if (result !== undefined && isFeatureEnabled(FEATURES.DOMAIN_LOOKUP)) {\r\n      return errorMessage\r\n    }\r\n    return result\r\n  },\r\n)\r\n\r\nexport const mustBeEthereumContractAddress = memoize(\r\n  async (address: string): Promise<ValidatorReturnType> => {\r\n    const contractCode = await getWeb3().eth.getCode(address)\r\n\r\n    const errorMessage = `Must resolve to a valid smart contract address.`\r\n\r\n    return !contractCode || contractCode.replace('0x', '').replace(/0/g, '') === '' ? errorMessage : undefined\r\n  },\r\n)\r\n\r\nexport const minMaxLength = (minLen: number, maxLen: number) => (value: string): ValidatorReturnType => {\r\n  const testValue = value || ''\r\n  return testValue.length >= +minLen && testValue.length <= +maxLen\r\n    ? undefined\r\n    : `Should be ${minLen} to ${maxLen} symbols`\r\n}\r\n\r\nexport const minMaxDecimalsLength = (minLen: number, maxLen: number) => (value: string): ValidatorReturnType => {\r\n  const decimals = value.split('.')[1] || '0'\r\n  const minMaxLengthErrMsg = minMaxLength(minLen, maxLen)(decimals)\r\n  return minMaxLengthErrMsg ? `Should be ${minLen} to ${maxLen} decimals` : undefined\r\n}\r\n\r\nexport const ADDRESS_REPEATED_ERROR = 'Address already introduced'\r\nexport const OWNER_ADDRESS_IS_SAFE_ADDRESS_ERROR = 'Cannot use Safe itself as owner.'\r\n\r\nexport const uniqueAddress = (addresses: string[] = []) => (address?: string): string | undefined => {\r\n  const addressExists = addresses.some((addressFromList) => sameAddress(addressFromList, address))\r\n  return addressExists ? ADDRESS_REPEATED_ERROR : undefined\r\n}\r\n\r\nexport const addressIsNotCurrentSafe = (safeAddress: string) => (address?: string): string | undefined =>\r\n  sameAddress(safeAddress, address) ? OWNER_ADDRESS_IS_SAFE_ADDRESS_ERROR : undefined\r\n\r\nexport const composeValidators = (...validators: Validator[]) => (value: unknown): ValidatorReturnType =>\r\n  validators.reduce(\r\n    (error: string | undefined, validator: GenericValidatorType): ValidatorReturnType => error || validator(value),\r\n    undefined,\r\n  )\r\n\r\nexport const differentFrom = (diffValue: number | string) => (value: string): ValidatorReturnType => {\r\n  if (value === diffValue.toString()) {\r\n    return `Value should be different than ${diffValue}`\r\n  }\r\n\r\n  return undefined\r\n}\r\n\r\nexport const noErrorsOn = (name: string, errors: Record<string, unknown>): boolean => errors[name] === undefined\r\n\r\nexport const validAddressBookName = (name: string): string | undefined => {\r\n  const lengthError = minMaxLength(1, 50)(name)\r\n\r\n  if (lengthError === undefined) {\r\n    return isValidAddressBookName(name)\r\n      ? undefined\r\n      : `Name should not include: ${ADDRESS_BOOK_INVALID_NAMES.join(', ')}`\r\n  }\r\n\r\n  return lengthError\r\n}\r\n","import { EMPTY_DATA } from 'src/logic/wallets/ethTransactions'\r\nimport { Transaction, TxArgs } from 'src/logic/safe/store/models/types/transaction'\r\nimport {\r\n  BatchProcessTxsProps,\r\n  TxServiceModel,\r\n} from 'src/logic/safe/store/actions/transactions/fetchTransactions/loadOutgoingTransactions'\r\nimport { TypedDataUtils } from 'eth-sig-util'\r\n\r\nexport const isEmptyData = (data?: string | null): boolean => {\r\n  return !data || data === EMPTY_DATA\r\n}\r\n\r\nexport const isMultiSendTransaction = (tx: BuildTx['tx']): boolean => {\r\n  return !isEmptyData(tx.data) && tx.data?.substring(0, 10) === '0x8d80ff0a' && Number(tx.value) === 0\r\n}\r\n\r\nexport const isUpgradeTransaction = (tx: BuildTx['tx']): boolean => {\r\n  return (\r\n    !isEmptyData(tx.data) &&\r\n    isMultiSendTransaction(tx) &&\r\n    tx.data?.substr(308, 8) === '7de7edef' && // 7de7edef - changeMasterCopy (308, 8)\r\n    tx.data?.substr(550, 8) === 'f08a0323' // f08a0323 - setFallbackHandler (550, 8)\r\n  )\r\n}\r\n\r\nexport type ServiceTx = TxServiceModel | TxToMock\r\n\r\nexport type BuildTx = BatchProcessTxsProps & {\r\n  tx: ServiceTx | Transaction\r\n}\r\n\r\nexport type TxToMock = TxArgs & Partial<TxServiceModel>\r\n\r\nexport function generateSafeTxHash(safeAddress: string, txArgs: TxArgs): string {\r\n  const messageTypes = {\r\n    EIP712Domain: [{ type: 'address', name: 'verifyingContract' }],\r\n    SafeTx: [\r\n      { type: 'address', name: 'to' },\r\n      { type: 'uint256', name: 'value' },\r\n      { type: 'bytes', name: 'data' },\r\n      { type: 'uint8', name: 'operation' },\r\n      { type: 'uint256', name: 'safeTxGas' },\r\n      { type: 'uint256', name: 'baseGas' },\r\n      { type: 'uint256', name: 'gasPrice' },\r\n      { type: 'address', name: 'gasToken' },\r\n      { type: 'address', name: 'refundReceiver' },\r\n      { type: 'uint256', name: 'nonce' },\r\n    ],\r\n  }\r\n\r\n  const primaryType: 'SafeTx' = 'SafeTx' as const\r\n\r\n  const typedData = {\r\n    types: messageTypes,\r\n    domain: {\r\n      verifyingContract: safeAddress,\r\n    },\r\n    primaryType,\r\n    message: {\r\n      to: txArgs.to,\r\n      value: txArgs.valueInWei,\r\n      data: txArgs.data,\r\n      operation: txArgs.operation,\r\n      safeTxGas: txArgs.safeTxGas,\r\n      baseGas: txArgs.baseGas,\r\n      gasPrice: txArgs.gasPrice,\r\n      gasToken: txArgs.gasToken,\r\n      refundReceiver: txArgs.refundReceiver,\r\n      nonce: txArgs.nonce,\r\n    },\r\n  }\r\n\r\n  return `0x${TypedDataUtils.sign<typeof messageTypes>(typedData).toString('hex')}`\r\n}\r\n","import { push } from 'connected-react-router'\r\nimport { ThunkAction } from 'redux-thunk'\r\n\r\nimport { onboardUser } from 'src/components/ConnectButton'\r\nimport { getGnosisSafeInstanceAt } from 'src/logic/contracts/safeContracts'\r\nimport { getNotificationsFromTxType } from 'src/logic/notifications'\r\nimport {\r\n  CALL,\r\n  getApprovalTransaction,\r\n  getExecutionTransaction,\r\n  saveTxToHistory,\r\n  tryOffChainSigning,\r\n} from 'src/logic/safe/transactions'\r\nimport { estimateSafeTxGas } from 'src/logic/safe/transactions/gas'\r\nimport * as aboutToExecuteTx from 'src/logic/safe/utils/aboutToExecuteTx'\r\nimport { getCurrentSafeVersion } from 'src/logic/safe/utils/safeVersion'\r\nimport { ZERO_ADDRESS } from 'src/logic/wallets/ethAddresses'\r\nimport { EMPTY_DATA } from 'src/logic/wallets/ethTransactions'\r\nimport { providerSelector } from 'src/logic/wallets/store/selectors'\r\nimport { SAFELIST_ADDRESS } from 'src/routes/routes'\r\nimport enqueueSnackbar from 'src/logic/notifications/store/actions/enqueueSnackbar'\r\nimport closeSnackbarAction from 'src/logic/notifications/store/actions/closeSnackbar'\r\nimport { generateSafeTxHash } from 'src/logic/safe/store/actions/transactions/utils/transactionHelpers'\r\nimport { getLastTx, getNewTxNonce, shouldExecuteTransaction } from 'src/logic/safe/store/actions/utils'\r\nimport { getErrorMessage } from 'src/test/utils/ethereumErrors'\r\nimport fetchTransactions from './transactions/fetchTransactions'\r\nimport { TxArgs } from 'src/logic/safe/store/models/types/transaction'\r\nimport { AnyAction } from 'redux'\r\nimport { PayableTx } from 'src/types/contracts/types.d'\r\nimport { AppReduxState } from 'src/store'\r\nimport { Dispatch, DispatchReturn } from './types'\r\nimport { checkIfOffChainSignatureIsPossible, getPreValidatedSignatures } from 'src/logic/safe/safeTxSigner'\r\nimport { TxParameters } from 'src/routes/safe/container/hooks/useTransactionParameters'\r\n\r\nexport interface CreateTransactionArgs {\r\n  navigateToTransactionsTab?: boolean\r\n  notifiedTransaction: string\r\n  operation?: number\r\n  origin?: string | null\r\n  safeAddress: string\r\n  to: string\r\n  txData?: string\r\n  txNonce?: number | string\r\n  valueInWei: string\r\n  safeTxGas?: number\r\n  ethParameters?: Pick<TxParameters, 'ethNonce' | 'ethGasLimit' | 'ethGasPriceInGWei'>\r\n}\r\n\r\ntype CreateTransactionAction = ThunkAction<Promise<void | string>, AppReduxState, DispatchReturn, AnyAction>\r\ntype ConfirmEventHandler = (safeTxHash: string) => void\r\ntype ErrorEventHandler = () => void\r\nexport const METAMASK_REJECT_CONFIRM_TX_ERROR_CODE = 4001\r\n\r\nexport const createTransaction = (\r\n  {\r\n    safeAddress,\r\n    to,\r\n    valueInWei,\r\n    txData = EMPTY_DATA,\r\n    notifiedTransaction,\r\n    txNonce,\r\n    operation = CALL,\r\n    navigateToTransactionsTab = true,\r\n    origin = null,\r\n    safeTxGas: safeTxGasArg,\r\n    ethParameters,\r\n  }: CreateTransactionArgs,\r\n  onUserConfirm?: ConfirmEventHandler,\r\n  onError?: ErrorEventHandler,\r\n): CreateTransactionAction => async (dispatch: Dispatch, getState: () => AppReduxState): Promise<DispatchReturn> => {\r\n  const state = getState()\r\n\r\n  if (navigateToTransactionsTab) {\r\n    dispatch(push(`${SAFELIST_ADDRESS}/${safeAddress}/transactions`))\r\n  }\r\n\r\n  const ready = await onboardUser()\r\n  if (!ready) return\r\n\r\n  const { account: from, hardwareWallet, smartContractWallet } = providerSelector(state)\r\n  const safeInstance = getGnosisSafeInstanceAt(safeAddress)\r\n  const lastTx = await getLastTx(safeAddress)\r\n  const nextNonce = await getNewTxNonce(lastTx, safeInstance)\r\n  const nonce = txNonce !== undefined ? txNonce.toString() : nextNonce\r\n\r\n  const isExecution = await shouldExecuteTransaction(safeInstance, nonce, lastTx)\r\n  const safeVersion = await getCurrentSafeVersion(safeInstance)\r\n  let safeTxGas = safeTxGasArg || 0\r\n  try {\r\n    if (safeTxGasArg === undefined) {\r\n      safeTxGas = await estimateSafeTxGas({ safeAddress, txData, txRecipient: to, txAmount: valueInWei, operation })\r\n    }\r\n  } catch (error) {\r\n    safeTxGas = safeTxGasArg || 0\r\n  }\r\n\r\n  const sigs = getPreValidatedSignatures(from)\r\n  const notificationsQueue = getNotificationsFromTxType(notifiedTransaction, origin)\r\n  const beforeExecutionKey = dispatch(enqueueSnackbar(notificationsQueue.beforeExecution))\r\n\r\n  let txHash\r\n  const txArgs: TxArgs = {\r\n    safeInstance,\r\n    to,\r\n    valueInWei,\r\n    data: txData,\r\n    operation,\r\n    nonce: Number.parseInt(nonce),\r\n    safeTxGas,\r\n    baseGas: 0,\r\n    gasPrice: '0',\r\n    gasToken: ZERO_ADDRESS,\r\n    refundReceiver: ZERO_ADDRESS,\r\n    sender: from,\r\n    sigs,\r\n  }\r\n  const safeTxHash = generateSafeTxHash(safeAddress, txArgs)\r\n\r\n  try {\r\n    if (checkIfOffChainSignatureIsPossible(isExecution, smartContractWallet, safeVersion)) {\r\n      const signature = await tryOffChainSigning(safeTxHash, { ...txArgs, safeAddress }, hardwareWallet, safeVersion)\r\n\r\n      if (signature) {\r\n        dispatch(closeSnackbarAction({ key: beforeExecutionKey }))\r\n        dispatch(fetchTransactions(safeAddress))\r\n\r\n        await saveTxToHistory({ ...txArgs, signature, origin })\r\n        onUserConfirm?.(safeTxHash)\r\n        return\r\n      }\r\n    }\r\n\r\n    const tx = isExecution ? getExecutionTransaction(txArgs) : getApprovalTransaction(safeInstance, safeTxHash)\r\n    const sendParams: PayableTx = {\r\n      from,\r\n      value: 0,\r\n      gas: ethParameters?.ethGasLimit,\r\n      gasPrice: ethParameters?.ethGasPriceInGWei,\r\n      nonce: ethParameters?.ethNonce,\r\n    }\r\n\r\n    await tx\r\n      .send(sendParams)\r\n      .once('transactionHash', async (hash) => {\r\n        onUserConfirm?.(safeTxHash)\r\n\r\n        txHash = hash\r\n        dispatch(closeSnackbarAction({ key: beforeExecutionKey }))\r\n\r\n        await saveTxToHistory({ ...txArgs, txHash, origin })\r\n\r\n        // store the pending transaction's nonce\r\n        isExecution && aboutToExecuteTx.setNonce(txArgs.nonce)\r\n\r\n        dispatch(fetchTransactions(safeAddress))\r\n      })\r\n      .on('error', (error) => {\r\n        console.error('Tx error: ', error)\r\n\r\n        onError?.()\r\n      })\r\n      .then(async (receipt) => {\r\n        dispatch(fetchTransactions(safeAddress))\r\n\r\n        return receipt.transactionHash\r\n      })\r\n  } catch (err) {\r\n    const errorMsg = err.message\r\n      ? `${notificationsQueue.afterExecutionError.message} - ${err.message}`\r\n      : notificationsQueue.afterExecutionError.message\r\n\r\n    dispatch(closeSnackbarAction({ key: beforeExecutionKey }))\r\n\r\n    dispatch(enqueueSnackbar({ key: err.code, message: errorMsg, options: { persist: true, variant: 'error' } }))\r\n\r\n    if (err.code !== METAMASK_REJECT_CONFIRM_TX_ERROR_CODE) {\r\n      const executeDataUsedSignatures = safeInstance.methods\r\n        .execTransaction(to, valueInWei, txData, operation, 0, 0, 0, ZERO_ADDRESS, ZERO_ADDRESS, sigs)\r\n        .encodeABI()\r\n      const errMsg = await getErrorMessage(safeInstance.options.address, 0, executeDataUsedSignatures, from)\r\n      console.error(`Error creating the TX - an attempt to get the error message: ${errMsg}`)\r\n    }\r\n  }\r\n\r\n  return txHash\r\n}\r\n","import { BigNumber } from 'bignumber.js'\r\n\r\nimport { getNetworkInfo } from 'src/config'\r\nimport {\r\n  isCustomTxInfo,\r\n  isTransferTxInfo,\r\n  Transaction,\r\n  TransactionInfo,\r\n  Transfer,\r\n} from 'src/logic/safe/store/models/types/gateway.d'\r\n\r\nimport { formatAmount } from 'src/logic/tokens/utils/formatAmount'\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\n\r\nexport const NOT_AVAILABLE = 'n/a'\r\n\r\ninterface AmountData {\r\n  decimals?: number | string\r\n  symbol?: string\r\n  value: number | string\r\n}\r\n\r\nconst getAmountWithSymbol = (\r\n  { decimals = 0, symbol = NOT_AVAILABLE, value }: AmountData,\r\n  formatted = false,\r\n): string => {\r\n  const nonFormattedValue = new BigNumber(value).times(`1e-${decimals}`).toFixed()\r\n  const finalValue = formatted ? formatAmount(nonFormattedValue).toString() : nonFormattedValue\r\n  const txAmount = finalValue === 'NaN' ? NOT_AVAILABLE : finalValue\r\n\r\n  return `${txAmount} ${symbol}`\r\n}\r\n\r\nexport const getTxAmount = (txInfo?: TransactionInfo, formatted = true): string => {\r\n  if (!txInfo || !isTransferTxInfo(txInfo)) {\r\n    return NOT_AVAILABLE\r\n  }\r\n\r\n  switch (txInfo.transferInfo.type) {\r\n    case 'ERC20':\r\n      return getAmountWithSymbol(\r\n        {\r\n          decimals: `${txInfo.transferInfo.decimals ?? 0}`,\r\n          symbol: `${txInfo.transferInfo.tokenSymbol ?? NOT_AVAILABLE}`,\r\n          value: txInfo.transferInfo.value,\r\n        },\r\n        formatted,\r\n      )\r\n    case 'ERC721':\r\n      // simple workaround to avoid displaying unexpected values for incoming NFT transfer\r\n      return `1 ${txInfo.transferInfo.tokenSymbol}`\r\n    case 'ETHER': {\r\n      const { nativeCoin } = getNetworkInfo()\r\n      return getAmountWithSymbol(\r\n        {\r\n          decimals: nativeCoin.decimals,\r\n          symbol: nativeCoin.symbol,\r\n          value: txInfo.transferInfo.value,\r\n        },\r\n        formatted,\r\n      )\r\n    }\r\n    default:\r\n      return NOT_AVAILABLE\r\n  }\r\n}\r\n\r\nconst { nativeCoin } = getNetworkInfo()\r\n\r\ntype txTokenData = {\r\n  address: string\r\n  value: string\r\n  decimals: number | null\r\n}\r\n\r\nexport const getTxTokenData = (txInfo: Transfer): txTokenData => {\r\n  switch (txInfo.transferInfo.type) {\r\n    case 'ERC20':\r\n      return {\r\n        address: txInfo.transferInfo.tokenAddress,\r\n        value: txInfo.transferInfo.value,\r\n        decimals: txInfo.transferInfo.decimals,\r\n      }\r\n    case 'ERC721':\r\n      return { address: txInfo.transferInfo.tokenAddress, value: txInfo.transferInfo.value, decimals: 0 }\r\n    default:\r\n      return { address: nativeCoin.address, value: txInfo.transferInfo.value, decimals: nativeCoin.decimals }\r\n  }\r\n}\r\n\r\nexport const isCancelTxDetails = (txInfo: Transaction['txInfo']): boolean =>\r\n  // custom transaction\r\n  isCustomTxInfo(txInfo) &&\r\n  // flag-based identification\r\n  txInfo.isCancellation\r\n\r\nexport const addressInList = (list: string[] = []) => (address: string): boolean =>\r\n  list.some((ownerAddress) => sameAddress(ownerAddress, address))\r\n\r\nexport const getTxTo = (tx: Transaction): string | undefined => {\r\n  switch (tx.txInfo.type) {\r\n    case 'Transfer': {\r\n      return tx.txInfo.recipient\r\n    }\r\n    case 'SettingsChange': {\r\n      return undefined\r\n    }\r\n    case 'Custom': {\r\n      return tx.txInfo.to\r\n    }\r\n    case 'Creation': {\r\n      return tx.txInfo.factory || undefined\r\n    }\r\n  }\r\n}\r\n","import { NonPayableTransactionObject } from 'src/types/contracts/types.d'\r\nimport { TxArgs } from 'src/logic/safe/store/models/types/transaction'\r\nimport { GnosisSafe } from 'src/types/contracts/GnosisSafe.d'\r\n\r\nexport const CALL = 0\r\nexport const DELEGATE_CALL = 1\r\nexport const TX_TYPE_EXECUTION = 'execution'\r\nexport const TX_TYPE_CONFIRMATION = 'confirmation'\r\n\r\nexport const getTransactionHash = async ({\r\n  baseGas,\r\n  data,\r\n  gasPrice,\r\n  gasToken,\r\n  nonce,\r\n  operation,\r\n  refundReceiver,\r\n  safeInstance,\r\n  safeTxGas,\r\n  sender,\r\n  to,\r\n  valueInWei,\r\n}: TxArgs): Promise<string> => {\r\n  const txHash = await safeInstance.methods\r\n    .getTransactionHash(to, valueInWei, data, operation, safeTxGas, baseGas, gasPrice, gasToken, refundReceiver, nonce)\r\n    .call({\r\n      from: sender,\r\n    })\r\n\r\n  return txHash\r\n}\r\n\r\nexport const getApprovalTransaction = (safeInstance: GnosisSafe, txHash: string): NonPayableTransactionObject<void> => {\r\n  try {\r\n    return safeInstance.methods.approveHash(txHash)\r\n  } catch (err) {\r\n    console.error(`Error while approving transaction: ${err}`)\r\n    throw err\r\n  }\r\n}\r\n\r\nexport const getExecutionTransaction = ({\r\n  baseGas,\r\n  data,\r\n  gasPrice,\r\n  gasToken,\r\n  operation,\r\n  refundReceiver,\r\n  safeInstance,\r\n  safeTxGas,\r\n  sigs,\r\n  to,\r\n  valueInWei,\r\n}: TxArgs): NonPayableTransactionObject<boolean> => {\r\n  try {\r\n    return safeInstance.methods.execTransaction(\r\n      to,\r\n      valueInWei,\r\n      data,\r\n      operation,\r\n      safeTxGas,\r\n      baseGas,\r\n      gasPrice,\r\n      gasToken,\r\n      refundReceiver,\r\n      sigs,\r\n    )\r\n  } catch (err) {\r\n    console.error(`Error while creating transaction: ${err}`)\r\n\r\n    throw err\r\n  }\r\n}\r\n","export const TX_NOTIFICATION_TYPES = {\r\n  STANDARD_TX: 'STANDARD_TX',\r\n  CONFIRMATION_TX: 'CONFIRMATION_TX',\r\n  CANCELLATION_TX: 'CANCELLATION_TX',\r\n  WAITING_TX: 'WAITING_TX',\r\n  SETTINGS_CHANGE_TX: 'SETTINGS_CHANGE_TX',\r\n  NEW_SPENDING_LIMIT_TX: 'NEW_SPENDING_LIMIT_TX',\r\n  REMOVE_SPENDING_LIMIT_TX: 'REMOVE_SPENDING_LIMIT_TX',\r\n  SAFE_NAME_CHANGE_TX: 'SAFE_NAME_CHANGE_TX',\r\n  OWNER_NAME_CHANGE_TX: 'OWNER_NAME_CHANGE_TX',\r\n  ADDRESS_BOOK_NEW_ENTRY: 'ADDRESS_BOOK_NEW_ENTRY',\r\n  ADDRESS_BOOK_EDIT_ENTRY: 'ADDRESS_BOOK_EDIT_ENTRY',\r\n  ADDRESS_BOOK_DELETE_ENTRY: 'ADDRESS_BOOK_DELETE_ENTRY',\r\n  ADDRESS_BOOK_EXPORT_ENTRIES: 'ADDRESS_BOOK_EXPORT_ENTRIES',\r\n  ADDRESS_BOOK_IMPORT_ENTRIES: 'ADDRESS_BOOK_IMPORT_ENTRIES',\r\n}\r\n","import { useSelector } from 'react-redux'\r\n\r\nimport { getNameFromAddressBook } from 'src/logic/addressBook/utils'\r\nimport { addressBookSelector } from 'src/logic/addressBook/store/selectors'\r\n\r\nexport const useSafeName = (safeAddress: string): string => {\r\n  const addressBook = useSelector(addressBookSelector)\r\n\r\n  return getNameFromAddressBook(addressBook, safeAddress) || ''\r\n}\r\n","import format from 'date-fns/format'\r\nimport formatRelative from 'date-fns/formatRelative'\r\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow'\r\n\r\nexport const relativeTime = (baseTimeMin: string, resetTimeMin: string): string => {\r\n  if (resetTimeMin === '0') {\r\n    return 'One-time'\r\n  }\r\n\r\n  const baseTimeSeconds = +baseTimeMin * 60\r\n  const resetTimeSeconds = +resetTimeMin * 60\r\n  const nextResetTimeMilliseconds = (baseTimeSeconds + resetTimeSeconds) * 1000\r\n\r\n  return formatRelative(nextResetTimeMilliseconds, Date.now())\r\n}\r\n\r\nexport const getUTCStartOfDate = (timestamp: number): number => {\r\n  const date = new Date(timestamp)\r\n\r\n  return Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), 0, 0, 0, 0)\r\n}\r\n\r\nexport const getLocalStartOfDate = (timestamp: number): number => {\r\n  const date = new Date(timestamp)\r\n\r\n  return date.setHours(0, 0, 0, 0)\r\n}\r\n\r\nexport const formatWithSchema = (timestamp: number, schema: string): string => format(timestamp, schema)\r\n\r\nexport const formatTime = (timestamp: number): string => formatWithSchema(timestamp, 'h:mm a')\r\n\r\nexport const formatDateTime = (timestamp: number): string => formatWithSchema(timestamp, 'MMM d, yyyy - h:mm:ss a')\r\n\r\nexport const formatTimeInWords = (timestamp: number): string => formatDistanceToNow(timestamp, { addSuffix: true })\r\n","import hash from 'object-hash'\r\nimport isEqual from 'lodash.isequal'\r\nimport memoize from 'lodash.memoize'\r\nimport { createSelectorCreator, defaultMemoize } from 'reselect'\r\n\r\nimport { AppReduxState } from 'src/store'\r\n\r\nexport const createIsEqualSelector = createSelectorCreator(defaultMemoize, isEqual)\r\n\r\nconst hashFn = (gatewayTransactions: AppReduxState['gatewayTransactions'], safeAddress: string): string =>\r\n  hash(gatewayTransactions[safeAddress] ?? {})\r\n\r\nexport const createHashBasedSelector = createSelectorCreator(memoize as any, hashFn)\r\n","import get from 'lodash.get'\r\nimport { createSelector } from 'reselect'\r\n\r\nimport { StoreStructure, Transaction, TxLocation } from 'src/logic/safe/store/models/types/gateway.d'\r\nimport { GATEWAY_TRANSACTIONS_ID } from 'src/logic/safe/store/reducer/gatewayTransactions'\r\nimport { safeParamAddressFromStateSelector } from 'src/logic/safe/store/selectors'\r\nimport { createHashBasedSelector } from 'src/logic/safe/store/selectors/utils'\r\nimport { AppReduxState } from 'src/store'\r\n\r\nexport const gatewayTransactions = (state: AppReduxState): AppReduxState['gatewayTransactions'] => {\r\n  return state[GATEWAY_TRANSACTIONS_ID]\r\n}\r\n\r\nexport const historyTransactions = createHashBasedSelector(\r\n  gatewayTransactions,\r\n  safeParamAddressFromStateSelector,\r\n  (gatewayTransactions, safeAddress): StoreStructure['history'] | undefined => {\r\n    return gatewayTransactions[safeAddress]?.history\r\n  },\r\n)\r\n\r\nexport const pendingTransactions = createSelector(\r\n  gatewayTransactions,\r\n  safeParamAddressFromStateSelector,\r\n  (gatewayTransactions, safeAddress): StoreStructure['queued'] | undefined => {\r\n    return gatewayTransactions[safeAddress]?.queued\r\n  },\r\n)\r\n\r\nexport const nextTransactions = createSelector(pendingTransactions, (pendingTransactions):\r\n  | StoreStructure['queued']['next']\r\n  | undefined => {\r\n  return pendingTransactions?.next\r\n})\r\n\r\nexport const queuedTransactions = createSelector(pendingTransactions, (pendingTransactions):\r\n  | StoreStructure['queued']['queued']\r\n  | undefined => {\r\n  return pendingTransactions?.queued\r\n})\r\n\r\ntype TxByLocationAttr = { attributeName: string; attributeValue: string | number; txLocation: TxLocation }\r\n\r\ntype TxByLocation = {\r\n  attributeName: string\r\n  attributeValue: string | number\r\n  transactions: StoreStructure['history'] | StoreStructure['queued']['queued' | 'next']\r\n}\r\n\r\nconst getTransactionsByLocation = createHashBasedSelector(\r\n  gatewayTransactions,\r\n  safeParamAddressFromStateSelector,\r\n  (gatewayTransactions, safeAddress) => (rest: TxByLocationAttr): TxByLocation => ({\r\n    attributeName: rest.attributeName,\r\n    attributeValue: rest.attributeValue,\r\n    transactions: get(gatewayTransactions[safeAddress], rest.txLocation),\r\n  }),\r\n)\r\n\r\nexport const getTransactionByAttribute = createSelector(\r\n  getTransactionsByLocation,\r\n  (fn: (r: TxByLocationAttr) => TxByLocation) => (rest: TxByLocationAttr): Transaction | undefined => {\r\n    const { attributeName, attributeValue, transactions } = fn(rest)\r\n\r\n    if (transactions && attributeValue) {\r\n      for (const [, txs] of Object.entries(transactions)) {\r\n        const foundTx = txs.find((transaction) => transaction[attributeName] === attributeValue)\r\n\r\n        if (foundTx) {\r\n          return foundTx\r\n        }\r\n      }\r\n    }\r\n  },\r\n)\r\n\r\nexport const getTransactionDetails = createSelector(\r\n  getTransactionByAttribute,\r\n  (fn: (rest: TxByLocationAttr) => Transaction | undefined) => (\r\n    rest: TxByLocationAttr,\r\n  ): Transaction['txDetails'] | undefined => {\r\n    const transaction = fn(rest)\r\n    return transaction?.txDetails\r\n  },\r\n)\r\n\r\nexport const getQueuedTransactionsByNonce = createSelector(\r\n  getTransactionsByLocation,\r\n  (fn: (r: TxByLocationAttr) => TxByLocation) => (rest: TxByLocationAttr): Transaction[] => {\r\n    const { attributeValue, attributeName, transactions } = fn(rest)\r\n\r\n    if (attributeName === 'nonce') {\r\n      return transactions?.[attributeValue] ?? []\r\n    }\r\n\r\n    return []\r\n  },\r\n)\r\n","import axios from 'axios'\r\n\r\nimport { SAFE_APPS_LIST_URL } from 'src/utils/constants'\r\n\r\nexport type TokenListResult = {\r\n  name: string\r\n  timestamp: string\r\n  apps: AppData[]\r\n}\r\n\r\nexport type AppData = {\r\n  url: string\r\n  name?: string\r\n  disabled?: boolean\r\n  description?: string\r\n  networks: number[]\r\n}\r\n\r\nexport const fetchSafeAppsList = async (): Promise<TokenListResult> => {\r\n  return axios.get(SAFE_APPS_LIST_URL).then(({ data }) => data)\r\n}\r\n","import axios from 'axios'\r\nimport memoize from 'lodash.memoize'\r\n\r\nimport { SafeApp, SAFE_APP_FETCH_STATUS } from './types'\r\n\r\nimport { getContentFromENS } from 'src/logic/wallets/getWeb3'\r\nimport appsIconSvg from 'src/assets/icons/apps.svg'\r\nimport { ETHEREUM_NETWORK } from 'src/config/networks/network.d'\r\nimport { logError, Errors } from 'src/logic/exceptions/CodedException'\r\nimport { AppData, fetchSafeAppsList } from './api/fetchSafeAppsList'\r\n\r\nexport const APPS_STORAGE_KEY = 'APPS_STORAGE_KEY'\r\n\r\nconst removeLastTrailingSlash = (url: string): string => {\r\n  if (url.substr(-1) === '/') {\r\n    return url.substr(0, url.length - 1)\r\n  }\r\n  return url\r\n}\r\n\r\nexport type StaticAppInfo = {\r\n  url: string\r\n  disabled: boolean\r\n  networks: number[]\r\n}\r\nexport const staticAppsList: Array<StaticAppInfo> = [\r\n  // 1inch\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/QmUXF1yVGdqUfMbhNyfM3jpP6Bw66cYnKPoWq6iHkhd3Aw`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET],\r\n  },\r\n  // Aave\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/QmQ3w2ezp2zx3u2LYQHyuNzMrLDJFjyL1rjAFTjNMcQ4cK`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET],\r\n  },\r\n  // Aave v2\r\n  {\r\n    url: `https://app.aave.com/`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET],\r\n  },\r\n  //Balancer Exchange\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/QmRb2VfPVYBrv6gi2zDywgVgTg3A19ZCRMqwL13Ez5f5AS`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET],\r\n  },\r\n  // Balancer Pool\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/QmVaxypk2FTyfcTS9oZKxmpQziPUTu2VRhhW7sso1mGysf`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET],\r\n  },\r\n  // CMM\r\n  // Point to a static server to allow app update without Safe deployment\r\n  {\r\n    url: `https://safe-cmm.gnosis.io`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.RINKEBY, ETHEREUM_NETWORK.XDAI],\r\n  },\r\n  // Compound\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/QmX31xCdhFDmJzoVG33Y6kJtJ5Ujw8r5EJJBrsp8Fbjm7k`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET, ETHEREUM_NETWORK.RINKEBY],\r\n  },\r\n  // dHedge\r\n  {\r\n    url: `https://app.dhedge.org/`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET],\r\n  },\r\n  // ENS\r\n  {\r\n    url: `https://app.ens.domains/`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET, ETHEREUM_NETWORK.RINKEBY],\r\n  },\r\n  // Gnosis Starter\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/QmdCwUutYH8GXXNgTShB4cKJ8YJq4PqZ55QxMznKc9DbeS`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET, ETHEREUM_NETWORK.RINKEBY],\r\n  },\r\n  // Idle\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/QmTvrLwJtyjG8QFHgvqdPhcV5DBMQ7oZceSU4uvPw9vQaj`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET, ETHEREUM_NETWORK.RINKEBY],\r\n  },\r\n  // Lido finance\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/Qmde8dsa9r8bB59CNGww6LRiaZABuKaJfuzvu94hFkatJC`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET],\r\n  },\r\n  // Liquity\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/QmYzTAH6Nzexu35tbWmhVrLYwWj9MdbD1iECejgaGHFk8P`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET, ETHEREUM_NETWORK.RINKEBY],\r\n  },\r\n  // Mushrooms finance\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/QmT96aES2YA9BssByc6DVizQDkofmKRErs8gJyqWipjyS8`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET],\r\n  },\r\n  // Pooltogether\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/QmTa21pi77hiT1sLCGy5BeVwcyzExUSp2z7byxZukye8hr`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET, ETHEREUM_NETWORK.RINKEBY],\r\n  },\r\n  // Request\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/QmTBBaiDQyGa17DJ7DdviyHbc51fTVgf6Z5PW5w2YUTkgR`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET],\r\n  },\r\n  // Sablier\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/Qmb1Xpfu9mnX4A3trpoVeBZ9sTiNtEuRoFKEiaVXWntDxB`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET, ETHEREUM_NETWORK.RINKEBY],\r\n  },\r\n  // Synthetix\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/QmXLxxczMH4MBEYDeeN9zoiHDzVkeBmB5rBjA3UniPEFcA`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET, ETHEREUM_NETWORK.RINKEBY],\r\n  },\r\n  // OpenZeppelin\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/QmQovvfYYMUXjZfNbysQDUEXR8nr55iJRwcYgJQGJR7KEA`,\r\n    disabled: false,\r\n    networks: [\r\n      ETHEREUM_NETWORK.MAINNET,\r\n      ETHEREUM_NETWORK.RINKEBY,\r\n      //ETHEREUM_NETWORK.ENERGY_WEB_CHAIN,\r\n      //ETHEREUM_NETWORK.VOLTA,\r\n      // ETHEREUM_NETWORK.XDAI,\r\n    ],\r\n  },\r\n  // TX-Builder\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/QmZBgEvjqi9Jg8xATr9uUgNUVmnfYiECNxZv9Taux7mzgV`,\r\n    disabled: false,\r\n    networks: [\r\n      ETHEREUM_NETWORK.MAINNET,\r\n      ETHEREUM_NETWORK.RINKEBY,\r\n      ETHEREUM_NETWORK.ENERGY_WEB_CHAIN,\r\n      ETHEREUM_NETWORK.VOLTA,\r\n      ETHEREUM_NETWORK.XDAI,\r\n    ],\r\n  },\r\n  // Wallet-Connect\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/QmX9B982ZAaBzbm6yBoZUS3uLgcizYA6wW65RCXVRZkG6f`,\r\n    disabled: false,\r\n    networks: [\r\n      ETHEREUM_NETWORK.MAINNET,\r\n      ETHEREUM_NETWORK.RINKEBY,\r\n      ETHEREUM_NETWORK.ENERGY_WEB_CHAIN,\r\n      ETHEREUM_NETWORK.VOLTA,\r\n      ETHEREUM_NETWORK.XDAI,\r\n    ],\r\n  },\r\n  // Yearn Vaults\r\n  {\r\n    url: `${process.env.REACT_APP_IPFS_GATEWAY}/Qme9HuPPhgCtgfj1CktvaDKhTesMueGCV2Kui1Sqna3Xs9`,\r\n    disabled: false,\r\n    networks: [ETHEREUM_NETWORK.MAINNET],\r\n  },\r\n]\r\n\r\nexport const getAppsList = async (): Promise<AppData[]> => {\r\n  let result\r\n  try {\r\n    result = await fetchSafeAppsList()\r\n  } catch (error) {\r\n    console.error('Could not fetch remote apps list', error)\r\n  }\r\n\r\n  return result?.apps && result?.apps.length ? result.apps : staticAppsList\r\n}\r\n\r\nexport const getAppInfoFromOrigin = (origin: string): { url: string; name: string } | null => {\r\n  try {\r\n    return JSON.parse(origin)\r\n  } catch (error) {\r\n    console.error(`Impossible to parse TX from origin: ${origin}`)\r\n    return null\r\n  }\r\n}\r\n\r\nexport const isAppManifestValid = (appInfo: SafeApp): boolean =>\r\n  // `appInfo` exists and `name` exists\r\n  !!appInfo?.name &&\r\n  // if `name` exists is not 'unknown'\r\n  appInfo.name !== 'unknown' &&\r\n  // `description` exists\r\n  !!appInfo.description &&\r\n  // no `error` (or `error` undefined)\r\n  !appInfo.error\r\n\r\nexport const getEmptySafeApp = (): SafeApp => {\r\n  return {\r\n    id: Math.random().toString(),\r\n    url: '',\r\n    name: 'unknown',\r\n    iconUrl: appsIconSvg,\r\n    error: false,\r\n    description: '',\r\n    fetchStatus: SAFE_APP_FETCH_STATUS.LOADING,\r\n  }\r\n}\r\n\r\nexport const getAppInfoFromUrl = memoize(\r\n  async (appUrl: string): Promise<SafeApp> => {\r\n    let res = {\r\n      ...getEmptySafeApp(),\r\n      error: true,\r\n      loadingStatus: SAFE_APP_FETCH_STATUS.ERROR,\r\n    }\r\n\r\n    if (!appUrl?.length) {\r\n      return res\r\n    }\r\n\r\n    res.url = appUrl.trim()\r\n    const noTrailingSlashUrl = removeLastTrailingSlash(res.url)\r\n\r\n    try {\r\n      const appInfo = await axios.get(`${noTrailingSlashUrl}/manifest.json`, { timeout: 5_000 })\r\n\r\n      // verify imported app fulfil safe requirements\r\n      if (!appInfo?.data || !isAppManifestValid(appInfo.data)) {\r\n        throw Error('The app does not fulfil the structure required.')\r\n      }\r\n\r\n      // the DB origin field has a limit of 100 characters\r\n      const originFieldSize = 100\r\n      const jsonDataLength = 20\r\n      const remainingSpace = originFieldSize - res.url.length - jsonDataLength\r\n\r\n      const appInfoData = {\r\n        name: appInfo.data.name,\r\n        iconPath: appInfo.data.iconPath,\r\n        description: appInfo.data.description,\r\n        providedBy: appInfo.data.providedBy,\r\n      }\r\n\r\n      res = {\r\n        ...res,\r\n        ...appInfoData,\r\n        id: JSON.stringify({ url: res.url, name: appInfo.data.name.substring(0, remainingSpace) }),\r\n        error: false,\r\n        loadingStatus: SAFE_APP_FETCH_STATUS.SUCCESS,\r\n      }\r\n\r\n      if (appInfo.data.iconPath) {\r\n        try {\r\n          const iconInfo = await axios.get(`${noTrailingSlashUrl}/${appInfo.data.iconPath}`, { timeout: 1000 * 10 })\r\n          if (/image\\/\\w/gm.test(iconInfo.headers['content-type'])) {\r\n            res.iconUrl = `${noTrailingSlashUrl}/${appInfo.data.iconPath}`\r\n          }\r\n        } catch (error) {\r\n          console.error(`It was not possible to fetch icon from app ${res.url}`)\r\n        }\r\n      }\r\n      return res\r\n    } catch (error) {\r\n      logError(Errors._900, error.message, {\r\n        contexts: {\r\n          safeApp: {\r\n            url: appUrl,\r\n          },\r\n        },\r\n      })\r\n      return res\r\n    }\r\n  },\r\n)\r\n\r\nexport const getIpfsLinkFromEns = memoize(\r\n  async (name: string): Promise<string | undefined> => {\r\n    try {\r\n      const content = await getContentFromENS(name)\r\n      if (content && content.protocolType === 'ipfs') {\r\n        return `${process.env.REACT_APP_IPFS_GATEWAY}/${content.decoded}/`\r\n      }\r\n    } catch (error) {\r\n      console.error(error)\r\n      return\r\n    }\r\n  },\r\n)\r\n\r\nexport const uniqueApp = (appList: SafeApp[]) => (url: string): string | undefined => {\r\n  const newUrl = new URL(url)\r\n  const exists = appList.some((a) => {\r\n    try {\r\n      const currentUrl = new URL(a.url)\r\n      return currentUrl.href === newUrl.href\r\n    } catch (error) {\r\n      console.error('There was a problem trying to validate the URL existence.', error.message)\r\n      return false\r\n    }\r\n  })\r\n  return exists ? 'This app is already registered.' : undefined\r\n}\r\n","/* eslint-disable react/button-has-type  */\r\nimport cn from 'classnames/bind'\r\nimport * as React from 'react'\r\n\r\nimport styles from './index.module.scss'\r\n\r\nconst cx = cn.bind(styles)\r\n\r\nconst GnoButtonLink = ({\r\n  className = '',\r\n  color = 'secondary',\r\n  size = 'md',\r\n  testId = '',\r\n  type = 'button',\r\n  weight = 'regular',\r\n  ...props\r\n}: any) => (\r\n  <button className={cx(styles.btnLink, size, color, weight, className)} data-testid={testId} type={type} {...props} />\r\n)\r\n\r\nexport default GnoButtonLink\r\n","import { Loader } from '@gnosis.pm/safe-react-components'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport React, { Suspense, useEffect, useState } from 'react'\r\n\r\nimport Modal from 'src/components/Modal'\r\nimport { Erc721Transfer } from 'src/logic/safe/store/models/types/gateway'\r\nimport { CollectibleTx } from './screens/ReviewCollectible'\r\nimport { CustomTx } from './screens/ContractInteraction/ReviewCustomTx'\r\nimport { ContractInteractionTx } from './screens/ContractInteraction'\r\nimport { CustomTxProps } from './screens/ContractInteraction/SendCustomTx'\r\nimport { ReviewTxProp } from './screens/ReviewSendFundsTx'\r\nimport { NFTToken } from 'src/logic/collectibles/sources/collectibles.d'\r\nimport { SendCollectibleTxInfo } from './screens/SendCollectible'\r\n\r\nconst ChooseTxType = React.lazy(() => import('./screens/ChooseTxType'))\r\n\r\nconst SendFunds = React.lazy(() => import('./screens/SendFunds'))\r\n\r\nconst SendCollectible = React.lazy(() => import('./screens/SendCollectible'))\r\n\r\nconst ReviewCollectible = React.lazy(() => import('./screens/ReviewCollectible'))\r\n\r\nconst ReviewSendFundsTx = React.lazy(() => import('./screens/ReviewSendFundsTx'))\r\n\r\nconst ContractInteraction = React.lazy(() => import('./screens/ContractInteraction'))\r\n\r\nconst ContractInteractionReview: any = React.lazy(() => import('./screens/ContractInteraction/Review'))\r\n\r\nconst SendCustomTx = React.lazy(() => import('./screens/ContractInteraction/SendCustomTx'))\r\n\r\nconst ReviewCustomTx = React.lazy(() => import('./screens/ContractInteraction/ReviewCustomTx'))\r\n\r\nconst useStyles = makeStyles({\r\n  loaderStyle: {\r\n    height: '500px',\r\n    width: '100%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n})\r\n\r\nexport type TxType =\r\n  | 'chooseTxType'\r\n  | 'sendFunds'\r\n  | 'sendFundsReviewTx'\r\n  | 'contractInteraction'\r\n  | 'contractInteractionReview'\r\n  | 'reviewCustomTx'\r\n  | 'sendCollectible'\r\n  | 'reviewCollectible'\r\n  | ''\r\n\r\ntype Props = {\r\n  activeScreenType: TxType\r\n  isOpen: boolean\r\n  onClose: () => void\r\n  recipientAddress?: string\r\n  recipientName?: string\r\n  selectedToken?: string | NFTToken | Erc721Transfer\r\n  tokenAmount?: string\r\n}\r\n\r\nconst SendModal = ({\r\n  activeScreenType,\r\n  isOpen,\r\n  onClose,\r\n  recipientAddress,\r\n  recipientName,\r\n  selectedToken,\r\n  tokenAmount,\r\n}: Props): React.ReactElement => {\r\n  const classes = useStyles()\r\n  const [activeScreen, setActiveScreen] = useState<TxType>(activeScreenType || 'chooseTxType')\r\n  const [tx, setTx] = useState<unknown>({})\r\n  const [isABI, setIsABI] = useState(true)\r\n\r\n  const [recipient, setRecipient] = useState<string | undefined>(recipientAddress)\r\n\r\n  useEffect(() => {\r\n    setActiveScreen(activeScreenType || 'chooseTxType')\r\n    setIsABI(true)\r\n    setTx({})\r\n    setRecipient(recipientAddress)\r\n  }, [activeScreenType, isOpen, recipientAddress])\r\n\r\n  const handleTxCreation = (txInfo: SendCollectibleTxInfo) => {\r\n    setActiveScreen('sendFundsReviewTx')\r\n    setTx(txInfo)\r\n  }\r\n\r\n  const handleContractInteractionCreation = (contractInteractionInfo: any, submit: boolean): void => {\r\n    setTx(contractInteractionInfo)\r\n    if (submit) setActiveScreen('contractInteractionReview')\r\n  }\r\n\r\n  const handleCustomTxCreation = (customTxInfo: any, submit: boolean): void => {\r\n    setTx(customTxInfo)\r\n    if (submit) setActiveScreen('reviewCustomTx')\r\n  }\r\n\r\n  const handleSendCollectible = (txInfo) => {\r\n    setActiveScreen('reviewCollectible')\r\n    setTx(txInfo)\r\n  }\r\n\r\n  const handleSwitchMethod = (): void => {\r\n    setIsABI(!isABI)\r\n  }\r\n\r\n  const handleOnPrev = (screen: TxType) => {\r\n    setRecipient((tx as ReviewTxProp).recipientAddress)\r\n    setActiveScreen(screen)\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      description=\"Send Tokens Form\"\r\n      handleClose={onClose}\r\n      open={isOpen}\r\n      paperClassName=\"smaller-modal-window\"\r\n      title=\"Send Tokens\"\r\n    >\r\n      <Suspense\r\n        fallback={\r\n          <div className={classes.loaderStyle}>\r\n            <Loader size=\"md\" />\r\n          </div>\r\n        }\r\n      >\r\n        {activeScreen === 'chooseTxType' && (\r\n          <ChooseTxType\r\n            onClose={onClose}\r\n            recipientName={recipientName}\r\n            recipientAddress={recipient}\r\n            setActiveScreen={setActiveScreen}\r\n          />\r\n        )}\r\n\r\n        {activeScreen === 'sendFunds' && (\r\n          <SendFunds\r\n            initialValues={tx as ReviewTxProp}\r\n            onClose={onClose}\r\n            onReview={handleTxCreation}\r\n            recipientAddress={recipient}\r\n            selectedToken={selectedToken as string}\r\n            amount={tokenAmount}\r\n          />\r\n        )}\r\n\r\n        {activeScreen === 'sendFundsReviewTx' && (\r\n          <ReviewSendFundsTx\r\n            onClose={onClose}\r\n            onPrev={() => {\r\n              handleOnPrev('sendFunds')\r\n            }}\r\n            tx={tx as ReviewTxProp}\r\n          />\r\n        )}\r\n\r\n        {activeScreen === 'contractInteraction' && isABI && (\r\n          <ContractInteraction\r\n            isABI={isABI}\r\n            switchMethod={handleSwitchMethod}\r\n            contractAddress={recipient}\r\n            initialValues={tx as ContractInteractionTx}\r\n            onClose={onClose}\r\n            onNext={handleContractInteractionCreation}\r\n          />\r\n        )}\r\n\r\n        {activeScreen === 'contractInteractionReview' && isABI && tx && (\r\n          <ContractInteractionReview onClose={onClose} onPrev={() => handleOnPrev('contractInteraction')} tx={tx} />\r\n        )}\r\n\r\n        {activeScreen === 'contractInteraction' && !isABI && (\r\n          <SendCustomTx\r\n            initialValues={tx as CustomTxProps}\r\n            isABI={isABI}\r\n            switchMethod={handleSwitchMethod}\r\n            onClose={onClose}\r\n            onNext={handleCustomTxCreation}\r\n            contractAddress={recipient}\r\n          />\r\n        )}\r\n\r\n        {activeScreen === 'reviewCustomTx' && (\r\n          <ReviewCustomTx onClose={onClose} onPrev={() => handleOnPrev('contractInteraction')} tx={tx as CustomTx} />\r\n        )}\r\n\r\n        {activeScreen === 'sendCollectible' && (\r\n          <SendCollectible\r\n            initialValues={tx}\r\n            onClose={onClose}\r\n            onNext={handleSendCollectible}\r\n            recipientAddress={recipient}\r\n            selectedToken={selectedToken as NFTToken | undefined}\r\n          />\r\n        )}\r\n\r\n        {activeScreen === 'reviewCollectible' && (\r\n          <ReviewCollectible\r\n            onClose={onClose}\r\n            onPrev={() => handleOnPrev('sendCollectible')}\r\n            tx={tx as CollectibleTx}\r\n          />\r\n        )}\r\n      </Suspense>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default SendModal\r\n","import { List } from 'immutable'\r\nimport { matchPath, RouteComponentProps } from 'react-router-dom'\r\nimport { createSelector } from 'reselect'\r\n\r\nimport { getNetworkId } from 'src/config'\r\nimport { SAFE_REDUCER_ID } from 'src/logic/safe/store/reducer/safe'\r\nimport { AppReduxState } from 'src/store'\r\n\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { ETHEREUM_NETWORK } from 'src/config/networks/network'\r\nimport { makeAddressBookEntry } from 'src/logic/addressBook/model/addressBook'\r\nimport { addressBookMapSelector, addressBookSelector } from 'src/logic/addressBook/store/selectors'\r\nimport makeSafe, { SafeRecord, SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\nimport { SAFELIST_ADDRESS, SAFE_PARAM_ADDRESS } from 'src/routes/routes'\r\nimport { SafesMap } from 'src/routes/safe/store/reducer/types/safe'\r\nimport { BalanceRecord } from 'src/logic/tokens/store/actions/fetchSafeTokens'\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\n\r\nconst safesStateSelector = (state: AppReduxState) => state[SAFE_REDUCER_ID]\r\n\r\nexport const safesMapSelector = (state: AppReduxState): SafesMap => safesStateSelector(state).get('safes')\r\n\r\nexport const safesListSelector = createSelector(safesMapSelector, (safes): List<SafeRecord> => safes.toList())\r\n\r\nconst chainId = getNetworkId()\r\n\r\ntype SafeRecordWithName = SafeRecordProps & { name: string }\r\n\r\nexport const safesListWithAddressBookNameSelector = createSelector(\r\n  [safesListSelector, addressBookMapSelector],\r\n  (safesList, addressBookMap): List<SafeRecordWithName> => {\r\n    const addressBook = addressBookMap?.[chainId]\r\n\r\n    return safesList\r\n      .filter((safeRecord) => !safeRecord.loadedViaUrl)\r\n      .map((safeRecord) => {\r\n        const safe = safeRecord.toObject()\r\n        const name = addressBook?.[safe.address]?.name ?? ''\r\n        return { ...safe, name }\r\n      })\r\n  },\r\n)\r\n\r\nexport const safeNameSelector = createSelector(\r\n  [safesListWithAddressBookNameSelector, (_, safeName: string) => safeName],\r\n  (safes, safeAddress): string => {\r\n    return safes.find((safe) => sameAddress(safe.address, safeAddress))?.name ?? ''\r\n  },\r\n)\r\n\r\nexport const safesCountSelector = createSelector(safesMapSelector, (safes) => safes.size)\r\n\r\nexport const defaultSafeSelector = createSelector(safesStateSelector, (safeState) => safeState.get('defaultSafe'))\r\n\r\nexport const latestMasterContractVersionSelector = createSelector(safesStateSelector, (safeState) =>\r\n  safeState.get('latestMasterContractVersion'),\r\n)\r\n\r\nexport const safeParamAddressFromStateSelector = (state: AppReduxState): string => {\r\n  const match = matchPath<{ safeAddress: string }>(state.router.location.pathname, {\r\n    path: `${SAFELIST_ADDRESS}/:safeAddress`,\r\n  })\r\n\r\n  if (match) {\r\n    return checksumAddress(match.params.safeAddress)\r\n  }\r\n\r\n  return ''\r\n}\r\n\r\nexport const safeParamAddressSelector = (\r\n  state: AppReduxState,\r\n  props: RouteComponentProps<{ [SAFE_PARAM_ADDRESS]?: string }>,\r\n): string => {\r\n  const urlAdd = props.match.params[SAFE_PARAM_ADDRESS]\r\n  return urlAdd ? checksumAddress(urlAdd) : ''\r\n}\r\n\r\nexport const addressBookQueryParamsSelector = (state: AppReduxState): string | undefined => {\r\n  const { location } = state.router\r\n\r\n  if (location?.query) {\r\n    const { entryAddress } = location.query\r\n    return entryAddress\r\n  }\r\n}\r\n\r\nexport const safeSelector = createSelector(\r\n  safesMapSelector,\r\n  safeParamAddressFromStateSelector,\r\n  (safes: SafesMap, address: string): SafeRecord | undefined => {\r\n    if (!address) {\r\n      return undefined\r\n    }\r\n    const checksumed = checksumAddress(address)\r\n    return safes.get(checksumed)\r\n  },\r\n)\r\n\r\nexport const safeBalancesSelector = createSelector(\r\n  safeSelector,\r\n  (safe): Array<BalanceRecord> => {\r\n    if (!safe) {\r\n      return []\r\n    }\r\n\r\n    return safe.balances\r\n  },\r\n)\r\n\r\nconst baseSafe = makeSafe()\r\n\r\nexport const safeFieldSelector = <K extends keyof SafeRecordProps>(field: K) => (\r\n  safe: SafeRecord,\r\n): SafeRecordProps[K] | undefined => (safe ? safe.get(field, baseSafe.get(field)) : undefined)\r\n\r\nexport const safeEthBalanceSelector = createSelector(safeSelector, safeFieldSelector('ethBalance'))\r\n\r\nexport const safeNeedsUpdateSelector = createSelector(safeSelector, safeFieldSelector('needsUpdate'))\r\n\r\nexport const safeCurrentVersionSelector = createSelector(safeSelector, safeFieldSelector('currentVersion'))\r\n\r\nexport const safeThresholdSelector = createSelector(safeSelector, safeFieldSelector('threshold'))\r\n\r\nexport const safeNonceSelector = createSelector(safeSelector, safeFieldSelector('nonce'))\r\n\r\nexport const safeOwnersSelector = createSelector(safeSelector, safeFieldSelector('owners'))\r\n\r\nexport const safeModulesSelector = createSelector(safeSelector, safeFieldSelector('modules'))\r\n\r\nexport const safeFeaturesEnabledSelector = createSelector(safeSelector, safeFieldSelector('featuresEnabled'))\r\n\r\nexport const safeSpendingLimitsSelector = createSelector(safeSelector, safeFieldSelector('spendingLimits'))\r\n\r\nexport const safeTotalFiatBalanceSelector = createSelector(safeSelector, (currentSafe) => {\r\n  return currentSafe?.totalFiatBalance\r\n})\r\n\r\nexport const safeOwnersWithAddressBookDataSelector = createSelector(\r\n  [safeOwnersSelector, addressBookSelector, (_, chainId: ETHEREUM_NETWORK) => chainId],\r\n  (owners, addressBook, chainId): AppReduxState['addressBook'] | undefined =>\r\n    owners?.map((ownerAddress) => {\r\n      const ownerInAddressBook = addressBook.find(\r\n        (addressBookEntry) =>\r\n          sameAddress(ownerAddress, addressBookEntry.address) && chainId === addressBookEntry.chainId,\r\n      )\r\n\r\n      if (ownerInAddressBook) {\r\n        return ownerInAddressBook\r\n      }\r\n\r\n      // if there's no owner's data in the AB, we create an in-memory AB-like structure\r\n      return makeAddressBookEntry({ address: ownerAddress, name: '' })\r\n    }),\r\n)\r\n","export const ensureOnce = (fn) => {\r\n  let executed = false\r\n  let response\r\n\r\n  return (...args) => {\r\n    if (executed) {\r\n      return response\r\n    }\r\n\r\n    executed = true\r\n    // eslint-disable-next-line\r\n    response = fn.apply(undefined, args)\r\n\r\n    return response\r\n  }\r\n}\r\n\r\nexport const ensureOnceAsync = (fn) => {\r\n  let executed = false\r\n  let response\r\n\r\n  return async (...args) => {\r\n    if (executed) {\r\n      return response\r\n    }\r\n\r\n    executed = true\r\n    // eslint-disable-next-line\r\n    response = await fn.apply(undefined, args)\r\n\r\n    return response\r\n  }\r\n}\r\n","import { isAddress, isHexStrict } from 'web3-utils'\r\n\r\nexport const isValidAddress = (address?: string): boolean => {\r\n  if (address) {\r\n    // `isAddress` do not require the string to start with `0x`\r\n    // `isHexStrict` ensures the address to start with `0x` aside from being a valid hex string\r\n    return isHexStrict(address) && isAddress(address)\r\n  }\r\n\r\n  return false\r\n}\r\n","import axios, { AxiosResponse } from 'axios'\r\n\r\nimport { getTokensServiceBaseUrl } from 'src/config'\r\nimport { TokenType } from 'src/logic/safe/store/models/types/gateway'\r\n\r\nexport type TokenResult = {\r\n  address: string\r\n  decimals?: number\r\n  logoUri: string\r\n  name: string\r\n  symbol: string\r\n  type: TokenType\r\n}\r\n\r\nexport const fetchErc20AndErc721AssetsList = (): Promise<AxiosResponse<{ results: TokenResult[] }>> => {\r\n  const url = getTokensServiceBaseUrl()\r\n\r\n  return axios.get<{ results: TokenResult[] }, AxiosResponse<{ results: TokenResult[] }>>(`${url}/`, {\r\n    params: {\r\n      limit: 3000,\r\n    },\r\n  })\r\n}\r\n","import axios, { AxiosResponse } from 'axios'\r\n\r\nimport { getSafeClientGatewayBaseUrl } from 'src/config'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\n\r\nexport type CollectibleResult = {\r\n  address: string\r\n  description: string | null\r\n  id: string\r\n  imageUri: string | null\r\n  logoUri: string\r\n  metadata: Record<string, unknown>\r\n  name: string | null\r\n  tokenName: string\r\n  tokenSymbol: string\r\n  uri: string | null\r\n}\r\n\r\nexport const fetchSafeCollectibles = async (safeAddress: string): Promise<AxiosResponse<CollectibleResult[]>> => {\r\n  const url = `${getSafeClientGatewayBaseUrl(checksumAddress(safeAddress))}/collectibles/`\r\n  return axios.get<CollectibleResult[], AxiosResponse<CollectibleResult[]>>(url)\r\n}\r\n","import { web3ReadOnly as web3 } from 'src/logic/wallets/getWeb3'\r\nimport { BatchRequest } from 'web3-core'\r\nimport { AbiItem } from 'web3-utils'\r\n\r\n/**\r\n * Generates a batch request for grouping RPC calls\r\n * @param {object} args\r\n * @param {object} args.abi - contract ABI\r\n * @param {string} args.address - contract address\r\n * @param {object|undefined} args.batch - not required. If set, batch must be initialized outside (web3.BatchRequest)\r\n * @param {object|undefined} args.context - not required. Can be any object, to be added to the batch response\r\n * @param {array<{ args: [any], method: string, type: 'eth'|undefined } | string>} args.methods - methods to be called\r\n * @returns {Promise<[*]>}\r\n */\r\ntype MethodsArgsType = Array<string | number>\r\n\r\ninterface Props {\r\n  abi: AbiItem[]\r\n  address: string\r\n  batch?: BatchRequest\r\n  context?: unknown\r\n  methods: Array<string | { method: string; type?: string; args: MethodsArgsType }>\r\n}\r\n\r\nconst generateBatchRequests = <ReturnValues>({\r\n  abi,\r\n  address,\r\n  batch,\r\n  context,\r\n  methods,\r\n}: Props): Promise<ReturnValues> => {\r\n  const contractInstance = new web3.eth.Contract(abi, address)\r\n  const localBatch = new web3.BatchRequest()\r\n\r\n  const values = methods.map((methodObject) => {\r\n    let method,\r\n      type,\r\n      args: MethodsArgsType = []\r\n\r\n    if (typeof methodObject === 'string') {\r\n      method = methodObject\r\n    } else {\r\n      ;({ method, type, args } = methodObject)\r\n    }\r\n\r\n    return new Promise((resolve) => {\r\n      const resolver = (error, result) => {\r\n        if (error) {\r\n          resolve(undefined)\r\n        } else {\r\n          resolve(result)\r\n        }\r\n      }\r\n\r\n      try {\r\n        let request\r\n        if (type !== undefined) {\r\n          request = web3[type][method].request(...args, resolver)\r\n        } else {\r\n          if (address === null) {\r\n            resolve(undefined)\r\n            return\r\n          }\r\n          request = contractInstance.methods[method](...args).call.request(resolver)\r\n        }\r\n\r\n        // If batch was provided add to external batch\r\n        batch ? batch.add(request) : localBatch.add(request)\r\n      } catch (e) {\r\n        console.warn('There was an error trying to batch request from web3.', e)\r\n        resolve(undefined)\r\n      }\r\n    })\r\n  })\r\n\r\n  // TODO fix this so all batch.execute() are handled here\r\n  // If batch was created locally we can already execute it\r\n  // If batch was provided we should execute once we finish to generate the batch,\r\n  // in the outside function where the batch object is created.\r\n  !batch && localBatch.execute()\r\n\r\n  // @ts-ignore\r\n  return Promise.all([context, ...values])\r\n}\r\n\r\nexport default generateBatchRequests\r\n","import { BigNumber } from 'bignumber.js'\r\nimport { AbiItem } from 'web3-utils'\r\n\r\nimport { CreateTransactionArgs } from 'src/logic/safe/store/actions/createTransaction'\r\nimport { CALL, DELEGATE_CALL, TX_NOTIFICATION_TYPES } from 'src/logic/safe/transactions'\r\nimport { enableModuleTx } from 'src/logic/safe/utils/modules'\r\nimport SpendingLimitModule from 'src/logic/contracts/artifacts/AllowanceModule.json'\r\nimport generateBatchRequests from 'src/logic/contracts/generateBatchRequests'\r\nimport { getSpendingLimitContract, MULTI_SEND_ADDRESS } from 'src/logic/contracts/safeContracts'\r\nimport { SpendingLimit } from 'src/logic/safe/store/models/safe'\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\nimport { getWeb3, web3ReadOnly } from 'src/logic/wallets/getWeb3'\r\nimport { SPENDING_LIMIT_MODULE_ADDRESS } from 'src/utils/constants'\r\nimport { getEncodedMultiSendCallData, MultiSendTx } from './upgradeSafe'\r\nimport { fromTokenUnit } from 'src/logic/tokens/utils/humanReadableValue'\r\nimport { getBalanceAndDecimalsFromToken, GetTokenByAddress } from 'src/logic/tokens/utils/tokenHelpers'\r\nimport { sameString } from 'src/utils/strings'\r\n\r\nexport const currentMinutes = (): number => Math.floor(Date.now() / (1000 * 60))\r\n\r\nconst requestTokensByDelegate = async (\r\n  safeAddress: string,\r\n  delegates: string[],\r\n): Promise<[string, string[] | undefined][]> => {\r\n  const batch = new web3ReadOnly.BatchRequest()\r\n\r\n  const whenRequestValues = delegates.map((delegateAddress: string) =>\r\n    generateBatchRequests<[string, string[] | undefined]>({\r\n      abi: SpendingLimitModule.abi as AbiItem[],\r\n      address: SPENDING_LIMIT_MODULE_ADDRESS,\r\n      methods: [{ method: 'getTokens', args: [safeAddress, delegateAddress] }],\r\n      batch,\r\n      context: delegateAddress,\r\n    }),\r\n  )\r\n\r\n  batch.execute()\r\n\r\n  return Promise.all(whenRequestValues)\r\n}\r\n\r\nexport type SpendingLimitRow = {\r\n  delegate: string\r\n  token: string\r\n  amount: string\r\n  spent: string\r\n  resetTimeMin: string\r\n  lastResetMin: string\r\n  nonce: string\r\n}\r\n\r\nconst ZERO_VALUE = '0'\r\n\r\n/**\r\n * Deleted Allowance have their `amount` and `resetTime` set to `0` (zero)\r\n * @param {SpendingLimitRow} allowance\r\n * @returns boolean\r\n */\r\nconst discardZeroAllowance = ({ amount, resetTimeMin }: SpendingLimitRow): boolean =>\r\n  !(sameString(amount, ZERO_VALUE) && sameString(resetTimeMin, ZERO_VALUE))\r\n\r\ntype TokenSpendingLimit = [string, string, string, string, string]\r\n\r\ntype TokenSpendingLimitContext = {\r\n  delegate: string\r\n  token: string\r\n}\r\n\r\ntype TokenSpendingLimitRequest = [TokenSpendingLimitContext, TokenSpendingLimit | undefined]\r\n\r\nconst requestAllowancesByDelegatesAndTokens = async (\r\n  safeAddress: string,\r\n  tokensByDelegate: [string, string[] | undefined][],\r\n): Promise<SpendingLimitRow[]> => {\r\n  const batch = new web3ReadOnly.BatchRequest()\r\n\r\n  const whenRequestValues: Promise<TokenSpendingLimitRequest>[] = []\r\n\r\n  for (const [delegate, tokens] of tokensByDelegate) {\r\n    if (tokens) {\r\n      for (const token of tokens) {\r\n        whenRequestValues.push(\r\n          generateBatchRequests<[TokenSpendingLimitContext, TokenSpendingLimit]>({\r\n            abi: SpendingLimitModule.abi as AbiItem[],\r\n            address: SPENDING_LIMIT_MODULE_ADDRESS,\r\n            methods: [{ method: 'getTokenAllowance', args: [safeAddress, delegate, token] }],\r\n            batch,\r\n            context: { delegate, token },\r\n          }),\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  batch.execute()\r\n\r\n  return Promise.all(whenRequestValues).then((allowances) =>\r\n    allowances\r\n      // first, we filter out those records whose tokenSpendingLimit is undefined\r\n      .filter(([, tokenSpendingLimit]) => tokenSpendingLimit)\r\n      // then, we build the SpendingLimitRow object\r\n      .map(([{ delegate, token }, tokenSpendingLimit]) => {\r\n        const [amount, spent, resetTimeMin, lastResetMin, nonce] = tokenSpendingLimit as TokenSpendingLimit\r\n\r\n        return {\r\n          delegate,\r\n          token,\r\n          amount,\r\n          spent,\r\n          resetTimeMin,\r\n          lastResetMin,\r\n          nonce,\r\n        }\r\n      })\r\n      .filter(discardZeroAllowance),\r\n  )\r\n}\r\n\r\nexport const getSpendingLimits = async (\r\n  modules: string[] | undefined,\r\n  safeAddress: string,\r\n): Promise<SpendingLimit[] | null> => {\r\n  const isSpendingLimitEnabled = modules?.some((module) => sameAddress(module, SPENDING_LIMIT_MODULE_ADDRESS)) ?? false\r\n\r\n  try {\r\n    if (isSpendingLimitEnabled) {\r\n      const delegates = await getSpendingLimitContract().methods.getDelegates(safeAddress, 0, 100).call()\r\n      const tokensByDelegate = await requestTokensByDelegate(safeAddress, delegates.results)\r\n      return requestAllowancesByDelegatesAndTokens(safeAddress, tokensByDelegate)\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to retrieve SpendingLimits module information', error.message)\r\n  }\r\n\r\n  return null\r\n}\r\n\r\ntype DeleteAllowanceParams = {\r\n  beneficiary: string\r\n  tokenAddress: string\r\n}\r\n\r\nexport const getDeleteAllowanceTxData = ({ beneficiary, tokenAddress }: DeleteAllowanceParams): string => {\r\n  const web3 = getWeb3()\r\n  const spendingLimitContract = new web3.eth.Contract(\r\n    SpendingLimitModule.abi as AbiItem[],\r\n    SPENDING_LIMIT_MODULE_ADDRESS,\r\n  )\r\n\r\n  return spendingLimitContract.methods.deleteAllowance(beneficiary, tokenAddress).encodeABI()\r\n}\r\n\r\nexport const enableSpendingLimitModuleMultiSendTx = (safeAddress: string): MultiSendTx => {\r\n  const multiSendTx = enableModuleTx({ moduleAddress: SPENDING_LIMIT_MODULE_ADDRESS, safeAddress })\r\n\r\n  return {\r\n    to: multiSendTx.to,\r\n    value: Number(multiSendTx.valueInWei),\r\n    data: multiSendTx.txData as string,\r\n  }\r\n}\r\n\r\nexport const addSpendingLimitBeneficiaryMultiSendTx = (beneficiary: string): MultiSendTx => {\r\n  const spendingLimitContract = getSpendingLimitContract()\r\n\r\n  return {\r\n    to: SPENDING_LIMIT_MODULE_ADDRESS,\r\n    value: 0,\r\n    data: spendingLimitContract.methods.addDelegate(beneficiary).encodeABI(),\r\n  }\r\n}\r\n\r\nexport const getResetSpendingLimitTx = (beneficiary: string, token: string): MultiSendTx => {\r\n  const spendingLimitContract = getSpendingLimitContract()\r\n\r\n  return {\r\n    to: SPENDING_LIMIT_MODULE_ADDRESS,\r\n    value: 0,\r\n    data: spendingLimitContract.methods.resetAllowance(beneficiary, token).encodeABI(),\r\n  }\r\n}\r\n\r\ntype SpendingLimitTxParams = {\r\n  spendingLimitArgs: {\r\n    beneficiary: string\r\n    token: string\r\n    spendingLimitInWei: string\r\n    resetTimeMin: number\r\n    resetBaseMin: number\r\n  }\r\n  safeAddress: string\r\n}\r\n\r\nexport const setSpendingLimitTx = ({\r\n  spendingLimitArgs: { beneficiary, token, spendingLimitInWei, resetTimeMin, resetBaseMin },\r\n  safeAddress,\r\n}: SpendingLimitTxParams): CreateTransactionArgs => {\r\n  const spendingLimitContract = getSpendingLimitContract()\r\n\r\n  const txArgs: CreateTransactionArgs = {\r\n    safeAddress,\r\n    to: SPENDING_LIMIT_MODULE_ADDRESS,\r\n    valueInWei: ZERO_VALUE,\r\n    txData: spendingLimitContract.methods\r\n      .setAllowance(beneficiary, token, spendingLimitInWei, resetTimeMin, resetBaseMin)\r\n      .encodeABI(),\r\n    operation: CALL,\r\n    notifiedTransaction: TX_NOTIFICATION_TYPES.NEW_SPENDING_LIMIT_TX,\r\n  }\r\n\r\n  return txArgs\r\n}\r\n\r\nexport const setSpendingLimitMultiSendTx = (args: SpendingLimitTxParams): MultiSendTx => {\r\n  const tx = setSpendingLimitTx(args)\r\n\r\n  return {\r\n    to: tx.to,\r\n    value: Number(tx.valueInWei),\r\n    data: tx.txData as string,\r\n  }\r\n}\r\n\r\ntype SpendingLimitMultiSendTx = {\r\n  transactions: Array<MultiSendTx>\r\n  safeAddress: string\r\n}\r\nexport const spendingLimitMultiSendTx = ({\r\n  transactions,\r\n  safeAddress,\r\n}: SpendingLimitMultiSendTx): CreateTransactionArgs => ({\r\n  safeAddress,\r\n  to: MULTI_SEND_ADDRESS,\r\n  valueInWei: ZERO_VALUE,\r\n  txData: getEncodedMultiSendCallData(transactions, getWeb3()),\r\n  notifiedTransaction: TX_NOTIFICATION_TYPES.NEW_SPENDING_LIMIT_TX,\r\n  operation: DELEGATE_CALL,\r\n})\r\n\r\ntype SpendingLimitAllowedBalance = GetTokenByAddress & {\r\n  tokenSpendingLimit: SpendingLimit\r\n}\r\n\r\n/**\r\n * Calculates the remaining amount available for a particular SpendingLimit\r\n * @param {string} tokenAddress\r\n * @param {SpendingLimit} tokenSpendingLimit\r\n * @param {List<Token>} tokens\r\n * returns string\r\n */\r\nexport const spendingLimitAllowedBalance = ({\r\n  tokenAddress,\r\n  tokenSpendingLimit,\r\n  tokens,\r\n}: SpendingLimitAllowedBalance): string | number => {\r\n  const token = getBalanceAndDecimalsFromToken({ tokenAddress, tokens })\r\n\r\n  if (!token) {\r\n    return 0\r\n  }\r\n\r\n  const { balance, decimals } = token\r\n  const diff = new BigNumber(tokenSpendingLimit.amount).minus(tokenSpendingLimit.spent).toString()\r\n  const diffInFPNotation = fromTokenUnit(diff, decimals)\r\n\r\n  return new BigNumber(balance).gt(diffInFPNotation) ? diffInFPNotation : balance\r\n}\r\n\r\ntype GetSpendingLimitByTokenAddress = {\r\n  spendingLimits?: SpendingLimit[] | null\r\n  tokenAddress?: string\r\n}\r\n\r\n/**\r\n * Returns the SpendingLimit info for the specified tokenAddress\r\n * @param {SpendingLimit[] | undefined | null} spendingLimits\r\n * @param {string | undefined} tokenAddress\r\n * @returns SpendingLimit | undefined\r\n */\r\nexport const getSpendingLimitByTokenAddress = ({\r\n  spendingLimits,\r\n  tokenAddress,\r\n}: GetSpendingLimitByTokenAddress): SpendingLimit | undefined => {\r\n  if (!tokenAddress || !spendingLimits) {\r\n    return\r\n  }\r\n\r\n  return spendingLimits.find(({ token }) => sameAddress(token, tokenAddress))\r\n}\r\n","import { createAction } from 'redux-actions'\r\n\r\nimport { Dispatch } from 'src/logic/safe/store/actions/types'\r\nimport { Transaction, TxLocation } from 'src/logic/safe/store/models/types/gateway.d'\r\nimport { TransactionDetailsPayload } from 'src/logic/safe/store/reducer/gatewayTransactions'\r\nimport { safeParamAddressFromStateSelector } from 'src/logic/safe/store/selectors'\r\nimport { getTransactionDetails } from 'src/logic/safe/store/selectors/gatewayTransactions'\r\nimport { AppReduxState } from 'src/store'\r\nimport { fetchSafeTransaction } from 'src/logic/safe/transactions/api/fetchSafeTransaction'\r\n\r\nexport const UPDATE_TRANSACTION_DETAILS = 'UPDATE_TRANSACTION_DETAILS'\r\nconst updateTransactionDetails = createAction<TransactionDetailsPayload>(UPDATE_TRANSACTION_DETAILS)\r\n\r\nexport const fetchTransactionDetails = ({\r\n  transactionId,\r\n  txLocation,\r\n}: {\r\n  transactionId: Transaction['id']\r\n  txLocation: TxLocation\r\n}) => async (dispatch: Dispatch, getState: () => AppReduxState): Promise<Transaction['txDetails']> => {\r\n  const txDetails = getTransactionDetails(getState())({\r\n    attributeValue: transactionId,\r\n    attributeName: 'id',\r\n    txLocation,\r\n  })\r\n  const safeAddress = safeParamAddressFromStateSelector(getState())\r\n\r\n  if (txDetails) {\r\n    return\r\n  }\r\n\r\n  try {\r\n    const transactionDetails = await fetchSafeTransaction(transactionId)\r\n\r\n    dispatch(updateTransactionDetails({ transactionId, txLocation, safeAddress, value: transactionDetails }))\r\n  } catch (error) {\r\n    console.error(`Failed to retrieve transaction ${transactionId} details`, error.message)\r\n  }\r\n}\r\n","import { createMuiTheme } from '@material-ui/core/styles'\r\nimport { fade } from '@material-ui/core/styles/colorManipulator'\r\n\r\nimport {\r\n  boldFont,\r\n  bolderFont,\r\n  border,\r\n  buttonLargeFontSize,\r\n  disabled,\r\n  error,\r\n  extraSmallFontSize,\r\n  fontColor,\r\n  largeFontSize,\r\n  lg,\r\n  mainFontFamily,\r\n  md,\r\n  mediumFontSize,\r\n  primary,\r\n  regularFont,\r\n  secondary,\r\n  secondaryBackground,\r\n  secondaryFontFamily,\r\n  secondaryText,\r\n  sm,\r\n  smallFontSize,\r\n  xs,\r\n} from './variables'\r\n\r\nconst palette = {\r\n  primary: {\r\n    main: primary,\r\n  },\r\n  secondary: {\r\n    main: secondary,\r\n  },\r\n  error: {\r\n    main: error,\r\n  },\r\n  success: {\r\n    main: secondary,\r\n  },\r\n  contrastThreshold: 3,\r\n  tonalOffset: 0.2,\r\n}\r\n\r\n// see https://material-ui-next.com/customization/themes/\r\n// see https://github.com/mui-org/material-ui/blob/v1-beta/src/styles/createMuiTheme.js\r\nconst theme = createMuiTheme({\r\n  typography: {\r\n    fontFamily: mainFontFamily,\r\n    useNextVariants: true,\r\n  },\r\n  overrides: {\r\n    MuiButton: {\r\n      label: {\r\n        lineHeight: '1',\r\n        fontSize: largeFontSize,\r\n        fontWeight: regularFont,\r\n      },\r\n      root: {\r\n        fontFamily: secondaryFontFamily,\r\n        letterSpacing: '0.9px',\r\n        '&$disabled': {\r\n          color: disabled,\r\n        },\r\n        color: disabled,\r\n        textTransform: 'none',\r\n        borderRadius: sm,\r\n      },\r\n      contained: {\r\n        boxShadow: '1px 2px 10px 0 rgba(212, 212, 211, 0.59)',\r\n      },\r\n      containedPrimary: {\r\n        backgroundColor: secondary,\r\n      },\r\n      containedSecondary: {\r\n        backgroundColor: error,\r\n        '&:hover': {\r\n          backgroundColor: '#d4d5d3',\r\n        },\r\n      },\r\n      outlinedPrimary: {\r\n        border: `2px solid ${primary}`,\r\n        '&:hover': {\r\n          border: `2px solid ${primary}`,\r\n        },\r\n      },\r\n      sizeLarge: {\r\n        padding: `${md} ${lg}`,\r\n        minHeight: '52px',\r\n        fontSize: buttonLargeFontSize,\r\n      },\r\n      sizeSmall: {\r\n        minWidth: '130px',\r\n        fontSize: smallFontSize,\r\n      },\r\n      textSecondary: {\r\n        '&:hover': {\r\n          borderRadius: '3px',\r\n        },\r\n      },\r\n    },\r\n    MuiPaper: {\r\n      rounded: {\r\n        borderRadius: sm,\r\n      },\r\n    },\r\n    MuiStepper: {\r\n      root: {\r\n        padding: `${lg} 0 0 15px`,\r\n        background: 'transparent',\r\n      },\r\n    },\r\n    MuiIconButton: {\r\n      root: {\r\n        padding: '0',\r\n      },\r\n    },\r\n    MuiChip: {\r\n      root: {\r\n        fontFamily: secondaryFontFamily,\r\n      },\r\n    },\r\n    MuiStepIcon: {\r\n      root: {\r\n        fontSize: '22px',\r\n        color: `${secondaryText} !important`,\r\n      },\r\n      completed: {\r\n        color: `${secondary} !important`,\r\n      },\r\n      active: {\r\n        color: `${secondary} !important`,\r\n        fontWeight: boldFont,\r\n      },\r\n    },\r\n    MuiStepContent: {\r\n      root: {\r\n        borderLeft: `1px solid ${secondaryText}`,\r\n      },\r\n    },\r\n    MuiTypography: {\r\n      body1: {\r\n        fontFamily: secondaryFontFamily,\r\n        letterSpacing: '-0.5px',\r\n        fontSize: mediumFontSize,\r\n      },\r\n      body2: {\r\n        fontFamily: secondaryFontFamily,\r\n      },\r\n    },\r\n    MuiFormHelperText: {\r\n      root: {\r\n        color: secondary,\r\n        fontFamily: secondaryFontFamily,\r\n        fontSize: '12px',\r\n        marginTop: '0px',\r\n        order: '0',\r\n        padding: `0 0 0 ${md}`,\r\n        position: 'absolute',\r\n        top: '5px',\r\n        zIndex: 1, // for firefox\r\n      },\r\n    },\r\n    MuiInput: {\r\n      root: {\r\n        backgroundColor: secondaryBackground,\r\n        borderRadius: '5px',\r\n        color: primary,\r\n        fontFamily: secondaryFontFamily,\r\n        fontSize: mediumFontSize,\r\n        lineHeight: '56px',\r\n        order: '1',\r\n        padding: `0 ${md}`,\r\n        '&:$disabled': {\r\n          color: '#0000ff',\r\n        },\r\n        '&:active': {\r\n          borderBottomLeftRadius: '0',\r\n          borderBottomRightRadius: '0',\r\n        },\r\n      },\r\n      input: {\r\n        color: primary,\r\n        display: 'flex',\r\n        height: 'auto',\r\n        letterSpacing: '0.5px',\r\n        padding: '0',\r\n        textOverflow: 'ellipsis',\r\n        '&::-webkit-input-placeholder': {\r\n          color: disabled,\r\n        },\r\n      },\r\n      underline: {\r\n        '&::before': {\r\n          borderBottomColor: primary,\r\n          borderBottomStyle: 'solid',\r\n          borderBottomWidth: '2px !important',\r\n        },\r\n        '&::after': {\r\n          borderBottomColor: primary,\r\n          borderBottomStyle: 'solid',\r\n          borderBottomWidth: '2px !important',\r\n        },\r\n        '&.isValid::before': {\r\n          borderBottomColor: `${secondary} !important`,\r\n        },\r\n        '&.isInvalid::after': {\r\n          borderBottomColor: `${error} !important`,\r\n        },\r\n        '&.isValid::after': {\r\n          display: 'none',\r\n        },\r\n      },\r\n      formControl: {\r\n        marginTop: '0 !important',\r\n      },\r\n    },\r\n    MuiFilledInput: {\r\n      underline: {\r\n        '&::before': {\r\n          borderBottomColor: primary,\r\n          borderBottomStyle: 'solid',\r\n          borderBottomWidth: '2px !important',\r\n        },\r\n        '&::after': {\r\n          borderBottomColor: primary,\r\n          borderBottomStyle: 'solid',\r\n          borderBottomWidth: '2px !important',\r\n        },\r\n        '&.isValid::before': {\r\n          borderBottomColor: `${secondary} !important`,\r\n        },\r\n        '&.isInvalid::after': {\r\n          borderBottomColor: `${error} !important`,\r\n        },\r\n        '&.isValid::after': {\r\n          display: 'none',\r\n        },\r\n      },\r\n    },\r\n    MuiStepLabel: {\r\n      label: {\r\n        textAlign: 'left',\r\n        color: secondary,\r\n        '&$active': {\r\n          color: primary,\r\n        },\r\n      },\r\n    },\r\n    MuiSvgIcon: {\r\n      colorSecondary: {\r\n        color: secondaryText,\r\n      },\r\n    },\r\n    MuiSnackbar: {\r\n      root: {\r\n        maxWidth: '100%',\r\n        width: '340px',\r\n      },\r\n    },\r\n    MuiSnackbarContent: {\r\n      root: {\r\n        borderRadius: `${sm} !important`,\r\n        boxShadow: '0 0 10px 0 rgba(212, 212, 211, 0.59)',\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        flexWrap: 'nowrap',\r\n        padding: '20px',\r\n        width: '100%',\r\n      },\r\n      message: {\r\n        color: fontColor,\r\n        flexGrow: '1',\r\n        fontFamily: 'Averta',\r\n        fontSize: '14px',\r\n        lineHeight: '1.43',\r\n        padding: '0 10px 0 0',\r\n        '& > span': {\r\n          display: 'flex',\r\n          flexDirection: 'row',\r\n          alignItems: 'stretch',\r\n          overflowX: 'hidden',\r\n          overflowY: 'auto',\r\n          maxHeight: '160px',\r\n          wordBreak: 'break-word',\r\n          '& > img': {\r\n            display: 'block',\r\n            marginRight: '13px',\r\n          },\r\n        },\r\n      },\r\n      action: {\r\n        paddingLeft: '0',\r\n        '& > button': {\r\n          color: secondaryText,\r\n        },\r\n      },\r\n    },\r\n    MuiTab: {\r\n      root: {\r\n        fontFamily: secondaryFontFamily,\r\n        fontWeight: 'normal',\r\n        fontSize: extraSmallFontSize,\r\n        '&$selected': {\r\n          fontWeight: boldFont,\r\n        },\r\n        '@media (min-width: 960px)': {\r\n          fontSize: extraSmallFontSize, // override material-ui media query\r\n        },\r\n      },\r\n    },\r\n    MuiTableContainer: {\r\n      root: {\r\n        marginLeft: '-10px',\r\n        marginRight: '-10px',\r\n        marginTop: '-10px',\r\n        paddingLeft: '10px',\r\n        paddingRight: '10px',\r\n        paddingTop: '10px',\r\n      },\r\n    },\r\n    MuiTablePagination: {\r\n      toolbar: {\r\n        paddingRight: '15px',\r\n        '& > span:nth-child(2)': {\r\n          order: 1,\r\n        },\r\n      },\r\n      selectIcon: {\r\n        height: '100%',\r\n        top: '0px',\r\n      },\r\n      caption: {\r\n        color: disabled,\r\n        fontFamily: secondaryFontFamily,\r\n        fontSize: mediumFontSize,\r\n        order: '2',\r\n      },\r\n      input: {\r\n        color: disabled,\r\n        order: '2',\r\n        width: '60px',\r\n      },\r\n      select: {\r\n        minWidth: lg,\r\n        paddingRight: '30',\r\n      },\r\n      actions: {\r\n        color: disabled,\r\n        order: '4',\r\n      },\r\n    },\r\n    MuiTableSortLabel: {\r\n      root: {\r\n        fontSize: extraSmallFontSize,\r\n      },\r\n      active: {\r\n        fontWeight: boldFont,\r\n      },\r\n    },\r\n    MuiTableCell: {\r\n      root: {\r\n        borderBottomWidth: '2px',\r\n        fontFamily: secondaryFontFamily,\r\n        fontSize: mediumFontSize,\r\n      },\r\n      head: {\r\n        letterSpacing: '1px',\r\n        textTransform: 'uppercase',\r\n      },\r\n      body: {\r\n        color: primary,\r\n        fontWeight: 'normal',\r\n        letterSpacing: 'normal',\r\n        overflow: 'hidden',\r\n        paddingBottom: xs,\r\n        paddingTop: xs,\r\n        textOverflow: 'ellipsis',\r\n        whiteSpace: 'nowrap',\r\n      },\r\n    },\r\n    MuiBackdrop: {\r\n      root: {\r\n        backdropFilter: 'blur(1px)',\r\n        backgroundColor: 'rgba(228, 232, 241, 0.75)',\r\n      },\r\n    },\r\n    MuiMenuItem: {\r\n      root: {\r\n        fontFamily: secondaryFontFamily,\r\n      },\r\n    },\r\n    MuiListItemIcon: {\r\n      root: {\r\n        minWidth: 'auto',\r\n      },\r\n    },\r\n    MuiListItemText: {\r\n      primary: {\r\n        color: primary,\r\n        fontFamily: secondaryFontFamily,\r\n        fontSize: mediumFontSize,\r\n        fontWeight: bolderFont,\r\n      },\r\n      secondary: {\r\n        color: disabled,\r\n        fontFamily: secondaryFontFamily,\r\n        fontSize: smallFontSize,\r\n      },\r\n    },\r\n    MuiCheckbox: {\r\n      colorSecondary: {\r\n        '&$disabled': {\r\n          color: fade(secondary, 0.5),\r\n        },\r\n      },\r\n    },\r\n    MuiFormControlLabel: {\r\n      label: {\r\n        '&$disabled': {\r\n          color: primary,\r\n        },\r\n      },\r\n    },\r\n  },\r\n  palette,\r\n} as any)\r\n\r\nexport default theme\r\n\r\nexport const DropdownListTheme = {\r\n  ...theme,\r\n  overrides: {\r\n    ...theme.overrides,\r\n    MuiPaper: {\r\n      root: {\r\n        marginTop: '10px',\r\n      },\r\n      elevation0: {\r\n        boxShadow: '1px 2px 10px 0 rgba(212, 212, 211, 0.59)',\r\n      },\r\n      rounded: {\r\n        borderRadius: xs,\r\n      },\r\n    },\r\n    MuiList: {\r\n      padding: {\r\n        paddingBottom: '0',\r\n        paddingTop: '0',\r\n      },\r\n    },\r\n    MuiListItem: {\r\n      root: {\r\n        borderBottom: `2px solid ${border}`,\r\n        '&:last-child': {\r\n          borderBottom: 'none',\r\n        },\r\n        boxSizing: 'border-box',\r\n      },\r\n      button: {\r\n        '&:hover': {\r\n          backgroundColor: '#f7f5f5',\r\n        },\r\n      },\r\n    },\r\n  },\r\n}\r\n","import React from 'react'\r\n\r\nexport const wrapInSuspense = (component: any, fallback?: any) => (\r\n  <React.Suspense fallback={fallback}>{component}</React.Suspense>\r\n)\r\n","import axios from 'axios'\r\n\r\nimport { getSafeServiceBaseUrl } from 'src/config'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\n\r\nexport type GasEstimationResponse = {\r\n  safeTxGas: string\r\n}\r\n\r\ntype FetchSafeTxGasEstimationProps = {\r\n  safeAddress: string\r\n  to: string\r\n  value: string\r\n  data?: string\r\n  operation: number\r\n}\r\n\r\nexport const fetchSafeTxGasEstimation = ({ safeAddress, ...body }: FetchSafeTxGasEstimationProps): Promise<string> => {\r\n  const url = `${getSafeServiceBaseUrl(checksumAddress(safeAddress))}/multisig-transactions/estimations/`\r\n\r\n  return axios.post(url, body).then(({ data }) => data.safeTxGas)\r\n}\r\n","import { List } from 'immutable'\r\n\r\nimport { getGnosisSafeInstanceAt } from 'src/logic/contracts/safeContracts'\r\nimport { calculateGasOf } from 'src/logic/wallets/ethTransactions'\r\nimport { ZERO_ADDRESS } from 'src/logic/wallets/ethAddresses'\r\nimport { generateSignaturesFromTxConfirmations } from 'src/logic/safe/safeTxSigner'\r\nimport { fetchSafeTxGasEstimation } from 'src/logic/safe/api/fetchSafeTxGasEstimation'\r\nimport { Confirmation } from 'src/logic/safe/store/models/types/confirmation'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\n\r\ntype SafeTxGasEstimationProps = {\r\n  safeAddress: string\r\n  txData: string\r\n  txRecipient: string\r\n  txAmount: string\r\n  operation: number\r\n}\r\n\r\nexport const estimateSafeTxGas = async ({\r\n  safeAddress,\r\n  txData,\r\n  txRecipient,\r\n  txAmount,\r\n  operation,\r\n}: SafeTxGasEstimationProps): Promise<number> => {\r\n  try {\r\n    const safeTxGasEstimation = await fetchSafeTxGasEstimation({\r\n      safeAddress,\r\n      to: checksumAddress(txRecipient),\r\n      value: txAmount,\r\n      data: txData,\r\n      operation,\r\n    })\r\n\r\n    return parseInt(safeTxGasEstimation)\r\n  } catch (error) {\r\n    console.info('Error calculating tx gas estimation', error.message)\r\n    throw error\r\n  }\r\n}\r\n\r\ntype TransactionEstimationProps = {\r\n  txData: string\r\n  safeAddress: string\r\n  txRecipient: string\r\n  txConfirmations?: List<Confirmation>\r\n  txAmount: string\r\n  operation: number\r\n  gasPrice?: string\r\n  gasToken?: string\r\n  refundReceiver?: string // Address of receiver of gas payment (or 0 if tx.origin).\r\n  safeTxGas?: number\r\n  from?: string\r\n  isExecution: boolean\r\n  isOffChainSignature?: boolean\r\n  approvalAndExecution?: boolean\r\n}\r\n\r\nexport const estimateTransactionGasLimit = async ({\r\n  txData,\r\n  safeAddress,\r\n  txRecipient,\r\n  txConfirmations,\r\n  txAmount,\r\n  operation,\r\n  gasPrice,\r\n  gasToken,\r\n  refundReceiver,\r\n  safeTxGas,\r\n  from,\r\n  isExecution,\r\n  isOffChainSignature = false,\r\n  approvalAndExecution,\r\n}: TransactionEstimationProps): Promise<number> => {\r\n  if (!from) {\r\n    throw new Error('No from provided for approving or execute transaction')\r\n  }\r\n\r\n  if (isExecution) {\r\n    return estimateGasForTransactionExecution({\r\n      safeAddress,\r\n      txRecipient,\r\n      txConfirmations,\r\n      txAmount,\r\n      txData,\r\n      operation,\r\n      from,\r\n      gasPrice: gasPrice || '0',\r\n      gasToken: gasToken || ZERO_ADDRESS,\r\n      refundReceiver: refundReceiver || ZERO_ADDRESS,\r\n      safeTxGas: safeTxGas || 0,\r\n      approvalAndExecution,\r\n    })\r\n  }\r\n\r\n  return estimateGasForTransactionApproval({\r\n    safeAddress,\r\n    operation,\r\n    txData,\r\n    txAmount,\r\n    txRecipient,\r\n    from,\r\n    isOffChainSignature,\r\n  })\r\n}\r\n\r\ntype TransactionExecutionEstimationProps = {\r\n  txData: string\r\n  safeAddress: string\r\n  txRecipient: string\r\n  txConfirmations?: List<Confirmation>\r\n  txAmount: string\r\n  operation: number\r\n  gasPrice: string\r\n  gasToken: string\r\n  gasLimit?: string\r\n  refundReceiver: string // Address of receiver of gas payment (or 0 if tx.origin).\r\n  safeTxGas: number\r\n  from: string\r\n  approvalAndExecution?: boolean\r\n}\r\n\r\nconst estimateGasForTransactionExecution = async ({\r\n  safeAddress,\r\n  txRecipient,\r\n  txConfirmations,\r\n  txAmount,\r\n  txData,\r\n  operation,\r\n  from,\r\n  gasPrice,\r\n  gasToken,\r\n  refundReceiver,\r\n  safeTxGas,\r\n  approvalAndExecution,\r\n}: TransactionExecutionEstimationProps): Promise<number> => {\r\n  const safeInstance = getGnosisSafeInstanceAt(safeAddress)\r\n  // If it's approvalAndExecution we have to add a preapproved signature else we have all signatures\r\n  const sigs = generateSignaturesFromTxConfirmations(txConfirmations, approvalAndExecution ? from : undefined)\r\n\r\n  const estimationData = safeInstance.methods\r\n    .execTransaction(txRecipient, txAmount, txData, operation, safeTxGas, 0, gasPrice, gasToken, refundReceiver, sigs)\r\n    .encodeABI()\r\n\r\n  return calculateGasOf({\r\n    data: estimationData,\r\n    from,\r\n    to: safeAddress,\r\n  })\r\n}\r\n\r\nexport const checkTransactionExecution = async ({\r\n  safeAddress,\r\n  txRecipient,\r\n  txConfirmations,\r\n  txAmount,\r\n  txData,\r\n  operation,\r\n  from,\r\n  gasPrice,\r\n  gasToken,\r\n  gasLimit,\r\n  refundReceiver,\r\n  safeTxGas,\r\n  approvalAndExecution,\r\n}: TransactionExecutionEstimationProps): Promise<boolean> => {\r\n  const safeInstance = getGnosisSafeInstanceAt(safeAddress)\r\n  // If it's approvalAndExecution we have to add a preapproved signature else we have all signatures\r\n  const sigs = generateSignaturesFromTxConfirmations(txConfirmations, approvalAndExecution ? from : undefined)\r\n\r\n  return safeInstance.methods\r\n    .execTransaction(txRecipient, txAmount, txData, operation, safeTxGas, 0, gasPrice, gasToken, refundReceiver, sigs)\r\n    .call({\r\n      from,\r\n      gas: gasLimit,\r\n    })\r\n    .catch(() => false)\r\n}\r\n\r\ntype TransactionApprovalEstimationProps = {\r\n  safeAddress: string\r\n  txRecipient: string\r\n  txAmount: string\r\n  txData: string\r\n  operation: number\r\n  from: string\r\n  isOffChainSignature: boolean\r\n}\r\n\r\nexport const estimateGasForTransactionApproval = async ({\r\n  safeAddress,\r\n  txRecipient,\r\n  txAmount,\r\n  txData,\r\n  operation,\r\n  from,\r\n  isOffChainSignature,\r\n}: TransactionApprovalEstimationProps): Promise<number> => {\r\n  if (isOffChainSignature) {\r\n    return 0\r\n  }\r\n\r\n  const safeInstance = getGnosisSafeInstanceAt(safeAddress)\r\n\r\n  const nonce = await safeInstance.methods.nonce().call()\r\n  const txHash = await safeInstance.methods\r\n    .getTransactionHash(txRecipient, txAmount, txData, operation, 0, 0, 0, ZERO_ADDRESS, ZERO_ADDRESS, nonce)\r\n    .call({\r\n      from,\r\n    })\r\n  const approveTransactionTxData = safeInstance.methods.approveHash(txHash).encodeABI()\r\n  return calculateGasOf({\r\n    data: approveTransactionTxData,\r\n    from,\r\n    to: safeAddress,\r\n  })\r\n}\r\n","import { checkAddressChecksum, toChecksumAddress } from 'web3-utils'\r\n\r\nexport const checksumAddress = (address: string): string => toChecksumAddress(address)\r\n\r\nexport const isChecksumAddress = (address?: string): boolean => {\r\n  if (address) {\r\n    return checkAddressChecksum(address)\r\n  }\r\n\r\n  return false\r\n}\r\n","export const SAFE_PARAM_ADDRESS = 'address'\r\nexport const SAFELIST_ADDRESS = '/safes'\r\nexport const OPEN_ADDRESS = '/open'\r\nexport const LOAD_ADDRESS = '/load'\r\nexport const WELCOME_ADDRESS = '/welcome'\r\n","export const upperFirst = (value: string): string => value.charAt(0).toUpperCase() + value.toLowerCase().slice(1)\r\n\r\nexport const capitalize = (value: any, prefix?: any) => {\r\n  if (!value) {\r\n    return undefined\r\n  }\r\n\r\n  if (typeof value === 'boolean') {\r\n    return prefix || ''\r\n  }\r\n\r\n  if (typeof value === 'number') {\r\n    return prefix ? `${prefix}${value}` : value\r\n  }\r\n\r\n  if (typeof value !== 'string') {\r\n    return false\r\n  }\r\n\r\n  const capitalized = upperFirst(value)\r\n\r\n  return prefix ? `${prefix}${capitalized}` : capitalized\r\n}\r\n","import classNames from 'classnames/bind'\r\nimport React, { MouseEventHandler, CSSProperties, ReactElement, ReactNode } from 'react'\r\n\r\nimport styles from './index.module.scss'\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props {\r\n  align?: string\r\n  children: ReactNode\r\n  className?: string\r\n  color?: string\r\n  dot?: string\r\n  noMargin?: boolean\r\n  size?: string\r\n  transform?: string\r\n  weight?: string\r\n  onClick?: MouseEventHandler<HTMLParagraphElement>\r\n  style?: CSSProperties\r\n  title?: string\r\n}\r\n\r\nconst Paragraph = (props: Props): ReactElement => {\r\n  const { align, children, className, color, dot, noMargin, size, transform, weight, ...restProps } = props\r\n  return (\r\n    <p\r\n      className={cx(styles.paragraph, className, weight, { noMargin, dot }, size, color, transform, align)}\r\n      {...restProps}\r\n    >\r\n      {children}\r\n    </p>\r\n  )\r\n}\r\n\r\nexport default Paragraph\r\n","import { AbiItem } from 'web3-utils'\r\nimport GnosisSafeSol from './GnosisSafe.json'\r\nimport ProxyFactorySol from './proxyFactory.json'\r\nimport Web3 from 'web3'\r\n\r\nimport { ETHEREUM_NETWORK } from 'src/config/networks/network.d'\r\nimport { ZERO_ADDRESS } from 'src/logic/wallets/ethAddresses'\r\nimport { calculateGasOf, EMPTY_DATA } from 'src/logic/wallets/ethTransactions'\r\nimport { getWeb3, getNetworkIdFrom } from 'src/logic/wallets/getWeb3'\r\nimport { GnosisSafe } from 'src/types/contracts/GnosisSafe.d'\r\nimport { GnosisSafeProxyFactory } from 'src/types/contracts/GnosisSafeProxyFactory.d'\r\nimport { AllowanceModule } from 'src/types/contracts/AllowanceModule.d'\r\nimport { getSafeInfo, SafeInfo } from 'src/logic/safe/utils/safeInformation'\r\nimport { SPENDING_LIMIT_MODULE_ADDRESS } from 'src/utils/constants'\r\n\r\nimport SpendingLimitModule from './artifacts/AllowanceModule.json'\r\n\r\nexport const SENTINEL_ADDRESS = '0x0000000000000000000000000000000000000001'\r\nexport const MULTI_SEND_ADDRESS = '0xbbBEb44F6AB60D0D20D315786fb857D01CF1168B'\r\nexport const SAFE_MASTER_COPY_ADDRESS = '0xE2Fda07F1d39A66bb36455A3cc236223396C5ED4'\r\nexport const DEFAULT_FALLBACK_HANDLER_ADDRESS = '0xdd28198e56680B1851BA2Cde9F47Be513fE0A45d'\r\nexport const SAFE_MASTER_COPY_ADDRESS_V10 = '0xb6029EA3B2c51D09a50B53CA8012FeEB05bDa35A'\r\n\r\nlet proxyFactoryMaster: GnosisSafeProxyFactory\r\nlet safeMaster: GnosisSafe\r\n\r\n/**\r\n * Creates a Contract instance of the GnosisSafe contract\r\n * @param {Web3} web3\r\n * @param {ETHEREUM_NETWORK} networkId\r\n */\r\nexport const getGnosisSafeContract = (web3: Web3, networkId: ETHEREUM_NETWORK) => {\r\n  const networks = GnosisSafeSol.networks\r\n  // TODO: this may not be the most scalable approach,\r\n  //  but up until v1.2.0 the address is the same for all the networks.\r\n  //  So, if we can't find the network in the Contract artifact, we fallback to MAINNET.\r\n  const contractAddress = \"0xE2Fda07F1d39A66bb36455A3cc236223396C5ED4\"\r\n\r\n  return (new web3.eth.Contract(GnosisSafeSol.abi as AbiItem[], contractAddress) as unknown) as GnosisSafe\r\n}\r\n\r\n/**\r\n * Creates a Contract instance of the GnosisSafeProxyFactory contract\r\n * @param {Web3} web3\r\n * @param {ETHEREUM_NETWORK} networkId\r\n */\r\nconst getProxyFactoryContract = (web3: Web3, networkId: ETHEREUM_NETWORK): GnosisSafeProxyFactory => {\r\n  const networks = ProxyFactorySol.networks\r\n  // TODO: this may not be the most scalable approach,\r\n  //  but up until v1.2.0 the address is the same for all the networks.\r\n  //  So, if we can't find the network in the Contract artifact, we fallback to MAINNET.\r\n  const contractAddress = \"0x59D1C623f0daAA54dEE35404fa952f50a718e90d\"\r\n  return (new web3.eth.Contract(ProxyFactorySol.abi as AbiItem[], contractAddress) as unknown) as GnosisSafeProxyFactory\r\n}\r\n\r\nexport const getMasterCopyAddressFromProxyAddress = async (proxyAddress: string): Promise<string | undefined> => {\r\n  const res = await getSafeInfo(proxyAddress)\r\n  const masterCopyAddress = (res as SafeInfo)?.implementation.value\r\n  if (!masterCopyAddress) {\r\n    console.error(`There was not possible to get masterCopy address from proxy ${proxyAddress}.`)\r\n    return\r\n  }\r\n  return masterCopyAddress\r\n}\r\n\r\nexport const instantiateSafeContracts = async () => {\r\n  const web3 = getWeb3()\r\n  const networkId = await getNetworkIdFrom(web3)\r\n  console.log(\"networkId \", networkId)\r\n\r\n  // Create ProxyFactory Master Copy\r\n  proxyFactoryMaster = getProxyFactoryContract(web3, networkId)\r\n\r\n  // Create Safe Master copy\r\n  safeMaster = getGnosisSafeContract(web3, networkId)\r\n}\r\n\r\nexport const getSafeMasterContract = async () => {\r\n  await instantiateSafeContracts()\r\n  return safeMaster\r\n}\r\n\r\nexport const getSafeDeploymentTransaction = (\r\n  safeAccounts: string[],\r\n  numConfirmations: number,\r\n  safeCreationSalt: number,\r\n) => {\r\n  const gnosisSafeData = safeMaster.methods\r\n    .setup(\r\n      safeAccounts,\r\n      numConfirmations,\r\n      ZERO_ADDRESS,\r\n      EMPTY_DATA,\r\n      DEFAULT_FALLBACK_HANDLER_ADDRESS,\r\n      ZERO_ADDRESS,\r\n      0,\r\n      ZERO_ADDRESS,\r\n    )\r\n    .encodeABI()\r\n   \r\n  return proxyFactoryMaster.methods.createProxyWithNonce(safeMaster.options.address, gnosisSafeData, safeCreationSalt)\r\n}\r\n\r\nexport const estimateGasForDeployingSafe = async (\r\n  safeAccounts: string[],\r\n  numConfirmations: number,\r\n  userAccount: string,\r\n  safeCreationSalt: number,\r\n) => {\r\n  const gnosisSafeData = safeMaster.methods\r\n    .setup(\r\n      safeAccounts,\r\n      numConfirmations,\r\n      ZERO_ADDRESS,\r\n      EMPTY_DATA,\r\n      DEFAULT_FALLBACK_HANDLER_ADDRESS,\r\n      ZERO_ADDRESS,\r\n      0,\r\n      ZERO_ADDRESS,\r\n    )\r\n    .encodeABI()\r\n  const proxyFactoryData = proxyFactoryMaster.methods\r\n    .createProxyWithNonce(safeMaster.options.address, gnosisSafeData, safeCreationSalt)\r\n    .encodeABI()\r\n  return calculateGasOf({\r\n    data: proxyFactoryData,\r\n    from: userAccount,\r\n    to: proxyFactoryMaster.options.address,\r\n  }).then((value) => value * 2)\r\n}\r\n\r\nexport const getGnosisSafeInstanceAt = (safeAddress: string): GnosisSafe => {\r\n  const web3 = getWeb3()\r\n  return (new web3.eth.Contract(GnosisSafeSol.abi as AbiItem[], safeAddress) as unknown) as GnosisSafe\r\n}\r\n\r\n/**\r\n * Creates a Contract instance of the SpendingLimitModule contract\r\n */\r\nexport const getSpendingLimitContract = () => {\r\n  const web3 = getWeb3()\r\n\r\n  return (new web3.eth.Contract(\r\n    SpendingLimitModule.abi as AbiItem[],\r\n    SPENDING_LIMIT_MODULE_ADDRESS,\r\n  ) as unknown) as AllowanceModule\r\n}\r\n","import Web3 from 'web3'\r\nimport { AbiItem } from 'web3-utils'\r\nimport {\r\n  DEFAULT_FALLBACK_HANDLER_ADDRESS,\r\n  MULTI_SEND_ADDRESS,\r\n  SAFE_MASTER_COPY_ADDRESS,\r\n  getGnosisSafeInstanceAt,\r\n} from 'src/logic/contracts/safeContracts'\r\nimport { getWeb3 } from 'src/logic/wallets/getWeb3'\r\nimport { MultiSend } from 'src/types/contracts/MultiSend.d'\r\n\r\nexport interface MultiSendTx {\r\n  to: string\r\n  value: number\r\n  data: string\r\n}\r\n\r\nexport const getEncodedMultiSendCallData = (txs: MultiSendTx[], web3: Web3): string => {\r\n  const multiSendAbi: AbiItem[] = [\r\n    {\r\n      type: 'function',\r\n      name: 'multiSend',\r\n      constant: false,\r\n      payable: false,\r\n      stateMutability: 'nonpayable',\r\n      inputs: [{ type: 'bytes', name: 'transactions' }],\r\n      outputs: [],\r\n    },\r\n  ]\r\n  const multiSend = (new web3.eth.Contract(multiSendAbi, MULTI_SEND_ADDRESS) as unknown) as MultiSend\r\n  const encodedMultiSendCallData = multiSend.methods\r\n    .multiSend(\r\n      `0x${txs\r\n        .map((tx) =>\r\n          [\r\n            web3.eth.abi.encodeParameter('uint8', 0).slice(-2),\r\n            web3.eth.abi.encodeParameter('address', tx.to).slice(-40),\r\n            web3.eth.abi.encodeParameter('uint256', tx.value).slice(-64),\r\n            web3.eth.abi.encodeParameter('uint256', web3.utils.hexToBytes(tx.data).length).slice(-64),\r\n            tx.data.replace(/^0x/, ''),\r\n          ].join(''),\r\n        )\r\n        .join('')}`,\r\n    )\r\n    .encodeABI()\r\n\r\n  return encodedMultiSendCallData\r\n}\r\n\r\nexport const getUpgradeSafeTransactionHash = async (safeAddress: string): Promise<string> => {\r\n  const safeInstance = getGnosisSafeInstanceAt(safeAddress)\r\n  const fallbackHandlerTxData = safeInstance.methods.setFallbackHandler(DEFAULT_FALLBACK_HANDLER_ADDRESS).encodeABI()\r\n  const updateSafeTxData = safeInstance.methods.changeMasterCopy(SAFE_MASTER_COPY_ADDRESS).encodeABI()\r\n  const txs = [\r\n    {\r\n      to: safeAddress,\r\n      value: 0,\r\n      data: updateSafeTxData,\r\n    },\r\n    {\r\n      to: safeAddress,\r\n      value: 0,\r\n      data: fallbackHandlerTxData,\r\n    },\r\n  ]\r\n\r\n  const web3 = getWeb3()\r\n  return getEncodedMultiSendCallData(txs, web3)\r\n}\r\n","// \r\nimport abi from 'ethereumjs-abi'\r\nimport { getWeb3 } from 'src/logic/wallets/getWeb3'\r\n\r\nexport const getErrorMessage = async (to, value, data, from) => {\r\n  const web3 = getWeb3()\r\n  const returnData: any = await web3.eth.call({\r\n    to,\r\n    from,\r\n    value,\r\n    data,\r\n  })\r\n  const returnBuffer = Buffer.from(returnData.slice(2), 'hex')\r\n\r\n  return abi.rawDecode(['string'], returnBuffer.slice(4))[0]\r\n}\r\n","export default __webpack_public_path__ + \"static/media/apps.1bdd0f32.svg\";","import { createAction } from 'redux-actions'\r\n\r\nimport { TransactionStatusPayload } from 'src/logic/safe/store/reducer/gatewayTransactions'\r\n\r\nexport const UPDATE_TRANSACTION_STATUS = 'UPDATE_TRANSACTION_STATUS'\r\nexport const updateTransactionStatus = createAction<TransactionStatusPayload>(UPDATE_TRANSACTION_STATUS)\r\n","import { OptionsObject } from 'notistack'\r\n\r\nimport { getNetworkName } from 'src/config'\r\n\r\nexport const SUCCESS = 'success'\r\nexport const ERROR = 'error'\r\nexport const WARNING = 'warning'\r\nexport const INFO = 'info'\r\n\r\nconst shortDuration = 5000\r\nconst longDuration = 10000\r\n\r\nexport type NotificationId = keyof typeof NOTIFICATION_IDS\r\n\r\nexport type Notification = {\r\n  message: string\r\n  options: OptionsObject\r\n  key?: string\r\n  dismissed?: boolean\r\n}\r\n\r\nconst NOTIFICATION_IDS = {\r\n  UNLOCK_WALLET_MSG: 'UNLOCK_WALLET_MSG',\r\n  CONNECT_WALLET_ERROR_MSG: 'CONNECT_WALLET_ERROR_MSG',\r\n  SIGN_TX_MSG: 'SIGN_TX_MSG',\r\n  TX_REJECTED_MSG: 'TX_REJECTED_MSG',\r\n  TX_EXECUTED_MSG: 'TX_EXECUTED_MSG',\r\n  TX_CANCELLATION_EXECUTED_MSG: 'TX_CANCELLATION_EXECUTED_MSG',\r\n  TX_FAILED_MSG: 'TX_FAILED_MSG',\r\n  TX_WAITING_MSG: 'TX_WAITING_MSG',\r\n  TX_CONFIRMATION_EXECUTED_MSG: 'TX_CONFIRMATION_EXECUTED_MSG',\r\n  TX_CONFIRMATION_FAILED_MSG: 'TX_CONFIRMATION_FAILED_MSG',\r\n  TX_FETCH_SIGNATURES_ERROR_MSG: 'TX_FETCH_SIGNATURES_ERROR_MSG',\r\n  SAFE_NAME_CHANGED_MSG: 'SAFE_NAME_CHANGED_MSG',\r\n  OWNER_NAME_CHANGE_EXECUTED_MSG: 'OWNER_NAME_CHANGE_EXECUTED_MSG',\r\n  SIGN_SETTINGS_CHANGE_MSG: 'SIGN_SETTINGS_CHANGE_MSG',\r\n  SETTINGS_CHANGE_REJECTED_MSG: 'SETTINGS_CHANGE_REJECTED_MSG',\r\n  SETTINGS_CHANGE_EXECUTED_MSG: 'SETTINGS_CHANGE_EXECUTED_MSG',\r\n  SETTINGS_CHANGE_EXECUTED_MORE_CONFIRMATIONS_MSG: 'SETTINGS_CHANGE_EXECUTED_MORE_CONFIRMATIONS_MSG',\r\n  SETTINGS_CHANGE_FAILED_MSG: 'SETTINGS_CHANGE_FAILED_MSG',\r\n  TESTNET_VERSION_MSG: 'TESTNET_VERSION_MSG',\r\n  SIGN_NEW_SPENDING_LIMIT_MSG: 'SIGN_NEW_SPENDING_LIMIT_MSG',\r\n  NEW_SPENDING_LIMIT_REJECTED_MSG: 'NEW_SPENDING_LIMIT_REJECTED_MSG',\r\n  NEW_SPENDING_LIMIT_EXECUTED_MSG: 'NEW_SPENDING_LIMIT_EXECUTED_MSG',\r\n  NEW_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG: 'NEW_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG',\r\n  NEW_SPENDING_LIMIT_FAILED_MSG: 'NEW_SPENDING_LIMIT_FAILED_MSG',\r\n  SIGN_REMOVE_SPENDING_LIMIT_MSG: 'SIGN_REMOVE_SPENDING_LIMIT_MSG',\r\n  REMOVE_SPENDING_LIMIT_REJECTED_MSG: 'REMOVE_SPENDING_LIMIT_REJECTED_MSG',\r\n  REMOVE_SPENDING_LIMIT_EXECUTED_MSG: 'REMOVE_SPENDING_LIMIT_EXECUTED_MSG',\r\n  REMOVE_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG: 'REMOVE_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG',\r\n  REMOVE_SPENDING_LIMIT_FAILED_MSG: 'REMOVE_SPENDING_LIMIT_FAILED_MSG',\r\n  WRONG_NETWORK_MSG: 'WRONG_NETWORK_MSG',\r\n  ADDRESS_BOOK_NEW_ENTRY_SUCCESS: 'ADDRESS_BOOK_NEW_ENTRY_SUCCESS',\r\n  ADDRESS_BOOK_EDIT_ENTRY_SUCCESS: 'ADDRESS_BOOK_EDIT_ENTRY_SUCCESS',\r\n  ADDRESS_BOOK_IMPORT_ENTRIES_SUCCESS: 'ADDRESS_BOOK_IMPORT_ENTRIES_SUCCESS',\r\n  ADDRESS_BOOK_DELETE_ENTRY_SUCCESS: 'ADDRESS_BOOK_DELETE_ENTRY_SUCCESS',\r\n  ADDRESS_BOOK_EXPORT_ENTRIES_SUCCESS: 'ADDRESS_BOOK_EXPORT_ENTRIES_SUCCESS',\r\n  ADDRESS_BOOK_EXPORT_ENTRIES_ERROR: 'ADDRESS_BOOK_EXPORT_ENTRIES_ERROR',\r\n  SAFE_NEW_VERSION_AVAILABLE: 'SAFE_NEW_VERSION_AVAILABLE',\r\n}\r\n\r\nexport const NOTIFICATIONS: Record<NotificationId, Notification> = {\r\n  // Wallet Connection\r\n  UNLOCK_WALLET_MSG: {\r\n    message: 'Unlock your wallet to connect',\r\n    options: { variant: WARNING, persist: true, preventDuplicate: true },\r\n  },\r\n  CONNECT_WALLET_ERROR_MSG: {\r\n    message: 'Error connecting to your wallet',\r\n    options: { variant: ERROR, persist: true },\r\n  },\r\n  // Regular/Custom Transactions\r\n  SIGN_TX_MSG: {\r\n    message: 'Please sign the transaction',\r\n    options: { variant: INFO, persist: true },\r\n  },\r\n  TX_REJECTED_MSG: {\r\n    message: 'Transaction rejected',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n  TX_EXECUTED_MSG: {\r\n    message: 'Transaction successfully executed',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n  TX_CANCELLATION_EXECUTED_MSG: {\r\n    message: 'Rejection successfully submitted',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n  TX_FAILED_MSG: {\r\n    message: 'Transaction failed',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n  TX_WAITING_MSG: {\r\n    message: 'A transaction requires your confirmation',\r\n    key: 'TX_WAITING_MSG',\r\n    options: {\r\n      variant: WARNING,\r\n      persist: false,\r\n      autoHideDuration: shortDuration,\r\n      preventDuplicate: true,\r\n    },\r\n  },\r\n\r\n  TX_CONFIRMATION_EXECUTED_MSG: {\r\n    message: 'Confirmation transaction was successful',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n  TX_CONFIRMATION_FAILED_MSG: {\r\n    message: 'Confirmation transaction failed',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n\r\n  TX_FETCH_SIGNATURES_ERROR_MSG: {\r\n    message: 'Couldn’t fetch all signatures for this transaction. Please reload page and try again',\r\n    options: { variant: ERROR, persist: true },\r\n  },\r\n\r\n  // Safe Name\r\n  SAFE_NAME_CHANGED_MSG: {\r\n    message: 'Safe name changed',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n\r\n  // Owner Name\r\n  OWNER_NAME_CHANGE_EXECUTED_MSG: {\r\n    message: 'Owner name changed',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n\r\n  // Settings\r\n  SIGN_SETTINGS_CHANGE_MSG: {\r\n    message: 'Please sign the settings change',\r\n    options: { variant: INFO, persist: true },\r\n  },\r\n  SETTINGS_CHANGE_REJECTED_MSG: {\r\n    message: 'Settings change rejected',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n  SETTINGS_CHANGE_EXECUTED_MSG: {\r\n    message: 'Settings change successfully executed',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n  SETTINGS_CHANGE_EXECUTED_MORE_CONFIRMATIONS_MSG: {\r\n    message: 'Settings change successfully created. More confirmations needed to execute',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: longDuration },\r\n  },\r\n  SETTINGS_CHANGE_FAILED_MSG: {\r\n    message: 'Settings change failed',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n\r\n  // Spending limit\r\n  SIGN_NEW_SPENDING_LIMIT_MSG: {\r\n    message: 'Please sign the new spending limit',\r\n    options: { variant: INFO, persist: true },\r\n  },\r\n  NEW_SPENDING_LIMIT_REJECTED_MSG: {\r\n    message: 'New spending limit rejected',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: longDuration },\r\n  },\r\n  NEW_SPENDING_LIMIT_EXECUTED_MSG: {\r\n    message: 'New spending limit successfully executed',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: longDuration },\r\n  },\r\n  NEW_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG: {\r\n    message: 'New spending limit successfully created. More confirmations needed to execute',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: longDuration },\r\n  },\r\n  NEW_SPENDING_LIMIT_FAILED_MSG: {\r\n    message: 'New spending limit failed',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: longDuration },\r\n  },\r\n  SIGN_REMOVE_SPENDING_LIMIT_MSG: {\r\n    message: 'Please sign the remove Spending limit',\r\n    options: { variant: INFO, persist: true },\r\n  },\r\n  REMOVE_SPENDING_LIMIT_REJECTED_MSG: {\r\n    message: 'Remove spending limit rejected',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: longDuration },\r\n  },\r\n  REMOVE_SPENDING_LIMIT_EXECUTED_MSG: {\r\n    message: 'Remove spending limit successfully executed',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: longDuration },\r\n  },\r\n  REMOVE_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG: {\r\n    message: 'Remove spending limit successfully created. More confirmations needed to execute',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: longDuration },\r\n  },\r\n  REMOVE_SPENDING_LIMIT_FAILED_MSG: {\r\n    message: 'Remove spending limit failed',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: longDuration },\r\n  },\r\n\r\n  // Network\r\n  TESTNET_VERSION_MSG: {\r\n    message: \"Testnet Version: Don't send production assets to this Safe\",\r\n    options: { variant: WARNING, persist: false, preventDuplicate: true, autoHideDuration: longDuration },\r\n  },\r\n  WRONG_NETWORK_MSG: {\r\n    message: `Wrong network: Please use ${getNetworkName()}`,\r\n    options: { variant: WARNING, persist: true, preventDuplicate: true },\r\n  },\r\n\r\n  // Address book\r\n  ADDRESS_BOOK_NEW_ENTRY_SUCCESS: {\r\n    message: 'Entry created successfully',\r\n    options: { variant: SUCCESS, persist: false, preventDuplicate: false },\r\n  },\r\n  ADDRESS_BOOK_EDIT_ENTRY_SUCCESS: {\r\n    message: 'Entry saved successfully',\r\n    options: { variant: SUCCESS, persist: false, preventDuplicate: false },\r\n  },\r\n  ADDRESS_BOOK_IMPORT_ENTRIES_SUCCESS: {\r\n    message: 'Entries imported successfully',\r\n    options: { variant: SUCCESS, persist: false, preventDuplicate: false },\r\n  },\r\n  ADDRESS_BOOK_DELETE_ENTRY_SUCCESS: {\r\n    message: 'Entry deleted successfully',\r\n    options: { variant: SUCCESS, persist: false, preventDuplicate: false },\r\n  },\r\n  ADDRESS_BOOK_EXPORT_ENTRIES_SUCCESS: {\r\n    message: 'Address book exported',\r\n    options: { variant: SUCCESS, persist: false, preventDuplicate: false },\r\n  },\r\n  ADDRESS_BOOK_EXPORT_ENTRIES_ERROR: {\r\n    message: 'An error occurred while generating the address book CSV.',\r\n    options: { variant: ERROR, persist: false, preventDuplicate: false },\r\n  },\r\n\r\n  // Safe Version\r\n  SAFE_NEW_VERSION_AVAILABLE: {\r\n    message: 'There is a new version available for this Safe. Update now!',\r\n    options: { variant: WARNING, persist: false, preventDuplicate: true },\r\n  },\r\n}\r\n","import { IconButton } from '@material-ui/core'\r\nimport { Close as IconClose } from '@material-ui/icons'\r\nimport * as React from 'react'\r\n\r\nimport { Notification, NOTIFICATIONS } from './notificationTypes'\r\n\r\nimport closeSnackbarAction from 'src/logic/notifications/store/actions/closeSnackbar'\r\nimport { TX_NOTIFICATION_TYPES } from 'src/logic/safe/transactions'\r\nimport { getAppInfoFromOrigin } from 'src/routes/safe/components/Apps/utils'\r\nimport { store } from 'src/store'\r\n\r\nconst setNotificationOrigin = (notification: Notification, origin: string): Notification => {\r\n  if (!origin) {\r\n    return notification\r\n  }\r\n\r\n  const appInfo = getAppInfoFromOrigin(origin)\r\n  return { ...notification, message: `${appInfo ? appInfo.name : 'Unknown origin'}: ${notification.message}` }\r\n}\r\n\r\nconst getStandardTxNotificationsQueue = (\r\n  origin: string,\r\n): Record<string, Record<string, Notification> | Notification> => ({\r\n  beforeExecution: setNotificationOrigin(NOTIFICATIONS.SIGN_TX_MSG, origin),\r\n  afterRejection: setNotificationOrigin(NOTIFICATIONS.TX_REJECTED_MSG, origin),\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: setNotificationOrigin(NOTIFICATIONS.TX_EXECUTED_MSG, origin),\r\n  },\r\n  afterExecutionError: setNotificationOrigin(NOTIFICATIONS.TX_FAILED_MSG, origin),\r\n})\r\n\r\nconst waitingTransactionNotificationsQueue = {\r\n  beforeExecution: null,\r\n  afterRejection: null,\r\n  waitingConfirmation: NOTIFICATIONS.TX_WAITING_MSG,\r\n  afterExecution: null,\r\n  afterExecutionError: null,\r\n}\r\n\r\nconst getConfirmationTxNotificationsQueue = (origin: string) => {\r\n  return {\r\n    beforeExecution: setNotificationOrigin(NOTIFICATIONS.SIGN_TX_MSG, origin),\r\n    afterRejection: setNotificationOrigin(NOTIFICATIONS.TX_REJECTED_MSG, origin),\r\n    afterExecution: {\r\n      noMoreConfirmationsNeeded: setNotificationOrigin(NOTIFICATIONS.TX_EXECUTED_MSG, origin),\r\n      moreConfirmationsNeeded: setNotificationOrigin(NOTIFICATIONS.TX_CONFIRMATION_EXECUTED_MSG, origin),\r\n    },\r\n    afterExecutionError: setNotificationOrigin(NOTIFICATIONS.TX_CONFIRMATION_FAILED_MSG, origin),\r\n  }\r\n}\r\n\r\nconst getCancellationTxNotificationsQueue = (origin: string) => {\r\n  return {\r\n    beforeExecution: setNotificationOrigin(NOTIFICATIONS.SIGN_TX_MSG, origin),\r\n    afterRejection: setNotificationOrigin(NOTIFICATIONS.TX_REJECTED_MSG, origin),\r\n    afterExecution: {\r\n      noMoreConfirmationsNeeded: setNotificationOrigin(NOTIFICATIONS.TX_EXECUTED_MSG, origin),\r\n      moreConfirmationsNeeded: setNotificationOrigin(NOTIFICATIONS.TX_CANCELLATION_EXECUTED_MSG, origin),\r\n    },\r\n    afterExecutionError: setNotificationOrigin(NOTIFICATIONS.TX_FAILED_MSG, origin),\r\n  }\r\n}\r\n\r\nconst safeNameChangeNotificationsQueue = {\r\n  beforeExecution: null,\r\n  afterRejection: null,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.SAFE_NAME_CHANGED_MSG,\r\n    moreConfirmationsNeeded: null,\r\n  },\r\n  afterExecutionError: null,\r\n}\r\n\r\nconst ownerNameChangeNotificationsQueue = {\r\n  beforeExecution: null,\r\n  afterRejection: null,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.OWNER_NAME_CHANGE_EXECUTED_MSG,\r\n    moreConfirmationsNeeded: null,\r\n  },\r\n  afterExecutionError: null,\r\n}\r\n\r\nconst settingsChangeTxNotificationsQueue = {\r\n  beforeExecution: NOTIFICATIONS.SIGN_SETTINGS_CHANGE_MSG,\r\n  afterRejection: NOTIFICATIONS.SETTINGS_CHANGE_REJECTED_MSG,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.SETTINGS_CHANGE_EXECUTED_MSG,\r\n    moreConfirmationsNeeded: NOTIFICATIONS.SETTINGS_CHANGE_EXECUTED_MORE_CONFIRMATIONS_MSG,\r\n  },\r\n  afterExecutionError: NOTIFICATIONS.SETTINGS_CHANGE_FAILED_MSG,\r\n}\r\n\r\nconst newSpendingLimitTxNotificationsQueue = {\r\n  beforeExecution: NOTIFICATIONS.SIGN_NEW_SPENDING_LIMIT_MSG,\r\n  afterRejection: NOTIFICATIONS.NEW_SPENDING_LIMIT_REJECTED_MSG,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.NEW_SPENDING_LIMIT_EXECUTED_MSG,\r\n    moreConfirmationsNeeded: NOTIFICATIONS.NEW_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG,\r\n  },\r\n  afterExecutionError: NOTIFICATIONS.NEW_SPENDING_LIMIT_FAILED_MSG,\r\n}\r\n\r\nconst removeSpendingLimitTxNotificationsQueue = {\r\n  beforeExecution: NOTIFICATIONS.SIGN_REMOVE_SPENDING_LIMIT_MSG,\r\n  afterRejection: NOTIFICATIONS.REMOVE_SPENDING_LIMIT_REJECTED_MSG,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.REMOVE_SPENDING_LIMIT_EXECUTED_MSG,\r\n    moreConfirmationsNeeded: NOTIFICATIONS.REMOVE_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG,\r\n  },\r\n  afterExecutionError: NOTIFICATIONS.REMOVE_SPENDING_LIMIT_FAILED_MSG,\r\n}\r\n\r\nconst defaultNotificationsQueue = {\r\n  beforeExecution: NOTIFICATIONS.SIGN_TX_MSG,\r\n  afterRejection: NOTIFICATIONS.TX_REJECTED_MSG,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.TX_EXECUTED_MSG,\r\n  },\r\n  afterExecutionError: NOTIFICATIONS.TX_FAILED_MSG,\r\n}\r\n\r\nconst addressBookNewEntry = {\r\n  beforeExecution: null,\r\n  afterRejection: null,\r\n  waitingConfirmation: null,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.ADDRESS_BOOK_NEW_ENTRY_SUCCESS,\r\n    moreConfirmationsNeeded: null,\r\n  },\r\n  afterExecutionError: null,\r\n}\r\n\r\nconst addressBookEditEntry = {\r\n  beforeExecution: null,\r\n  afterRejection: null,\r\n  waitingConfirmation: null,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.ADDRESS_BOOK_EDIT_ENTRY_SUCCESS,\r\n    moreConfirmationsNeeded: null,\r\n  },\r\n  afterExecutionError: null,\r\n}\r\n\r\nconst addressBookImportEntries = {\r\n  beforeExecution: null,\r\n  afterRejection: null,\r\n  waitingConfirmation: null,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.ADDRESS_BOOK_IMPORT_ENTRIES_SUCCESS,\r\n    moreConfirmationsNeeded: null,\r\n  },\r\n  afterExecutionError: null,\r\n}\r\n\r\nconst addressBookDeleteEntry = {\r\n  beforeExecution: null,\r\n  afterRejection: null,\r\n  waitingConfirmation: null,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.ADDRESS_BOOK_DELETE_ENTRY_SUCCESS,\r\n    moreConfirmationsNeeded: null,\r\n  },\r\n  afterExecutionError: null,\r\n}\r\n\r\nconst addressBookExportEntries = {\r\n  beforeExecution: null,\r\n  afterRejection: null,\r\n  waitingConfirmation: null,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.ADDRESS_BOOK_EXPORT_ENTRIES_SUCCESS,\r\n    moreConfirmationsNeeded: null,\r\n  },\r\n  afterExecutionError: NOTIFICATIONS.ADDRESS_BOOK_EXPORT_ENTRIES_ERROR,\r\n}\r\n\r\nexport const getNotificationsFromTxType: any = (txType, origin) => {\r\n  let notificationsQueue\r\n\r\n  switch (txType) {\r\n    case TX_NOTIFICATION_TYPES.STANDARD_TX: {\r\n      notificationsQueue = getStandardTxNotificationsQueue(origin)\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.CONFIRMATION_TX: {\r\n      notificationsQueue = getConfirmationTxNotificationsQueue(origin)\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.CANCELLATION_TX: {\r\n      notificationsQueue = getCancellationTxNotificationsQueue(origin)\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.SETTINGS_CHANGE_TX: {\r\n      notificationsQueue = settingsChangeTxNotificationsQueue\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.NEW_SPENDING_LIMIT_TX: {\r\n      notificationsQueue = newSpendingLimitTxNotificationsQueue\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.REMOVE_SPENDING_LIMIT_TX: {\r\n      notificationsQueue = removeSpendingLimitTxNotificationsQueue\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.SAFE_NAME_CHANGE_TX: {\r\n      notificationsQueue = safeNameChangeNotificationsQueue\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.OWNER_NAME_CHANGE_TX: {\r\n      notificationsQueue = ownerNameChangeNotificationsQueue\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.WAITING_TX: {\r\n      notificationsQueue = waitingTransactionNotificationsQueue\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.ADDRESS_BOOK_NEW_ENTRY: {\r\n      notificationsQueue = addressBookNewEntry\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.ADDRESS_BOOK_EDIT_ENTRY: {\r\n      notificationsQueue = addressBookEditEntry\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.ADDRESS_BOOK_IMPORT_ENTRIES: {\r\n      notificationsQueue = addressBookImportEntries\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.ADDRESS_BOOK_DELETE_ENTRY: {\r\n      notificationsQueue = addressBookDeleteEntry\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.ADDRESS_BOOK_EXPORT_ENTRIES: {\r\n      notificationsQueue = addressBookExportEntries\r\n      break\r\n    }\r\n    default: {\r\n      notificationsQueue = defaultNotificationsQueue\r\n      break\r\n    }\r\n  }\r\n\r\n  return notificationsQueue\r\n}\r\n\r\nexport const enhanceSnackbarForAction = (\r\n  notification: Notification,\r\n  key?: string,\r\n  onClick?: () => void,\r\n): Notification => ({\r\n  ...notification,\r\n  key: key || notification.key,\r\n  options: {\r\n    ...notification.options,\r\n    onClick,\r\n    // eslint-disable-next-line react/display-name\r\n    action: (actionKey) => (\r\n      <IconButton onClick={() => store.dispatch(closeSnackbarAction({ key: actionKey }))}>\r\n        <IconClose />\r\n      </IconButton>\r\n    ),\r\n  },\r\n})\r\n","import axios from 'axios'\r\nimport { ExpandedTxDetails } from 'src/logic/safe/store/models/types/gateway.d'\r\n\r\nimport { getTxDetailsUrl } from 'src/config'\r\n\r\n/**\r\n * @param {string} clientGatewayTxId safeTxHash or transaction id from client-gateway\r\n */\r\nexport const fetchSafeTransaction = async (clientGatewayTxId: string): Promise<ExpandedTxDetails> => {\r\n  const url = getTxDetailsUrl(clientGatewayTxId)\r\n\r\n  return axios.get<ExpandedTxDetails>(url).then(({ data }) => data)\r\n}\r\n","import { loadFromStorage, saveToStorage } from 'src/utils/storage'\r\n\r\nconst SELECTED_CURRENCY_STORAGE_KEY = 'SELECTED_CURRENCY'\r\nexport const saveSelectedCurrency = async (selectedCurrency: string): Promise<void> => {\r\n  try {\r\n    await saveToStorage(SELECTED_CURRENCY_STORAGE_KEY, selectedCurrency)\r\n  } catch (err) {\r\n    console.error('Error storing currency values info in localstorage', err)\r\n  }\r\n}\r\n\r\nexport const loadSelectedCurrency = async (): Promise<string | undefined> => {\r\n  return await loadFromStorage(SELECTED_CURRENCY_STORAGE_KEY)\r\n}\r\n","import axios from 'axios'\r\n\r\nimport { getSafeClientGatewayBaseUrl } from 'src/config'\r\nimport { TokenProps } from 'src/logic/tokens/store/model/token'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\n\r\nexport type TokenBalance = {\r\n  tokenInfo: Omit<TokenProps, 'balance'>\r\n  balance: string\r\n  fiatBalance: string\r\n  fiatConversion: string\r\n}\r\n\r\nexport type BalanceEndpoint = {\r\n  fiatTotal: string\r\n  items: TokenBalance[]\r\n}\r\n\r\ntype FetchTokenCurrenciesBalancesProps = {\r\n  safeAddress: string\r\n  selectedCurrency: string\r\n  excludeSpamTokens?: boolean\r\n  trustedTokens?: boolean\r\n}\r\n\r\nexport const fetchTokenCurrenciesBalances = ({\r\n  safeAddress,\r\n  selectedCurrency,\r\n  excludeSpamTokens = true,\r\n  trustedTokens = false,\r\n}: FetchTokenCurrenciesBalancesProps): Promise<BalanceEndpoint> => {\r\n  const url = `${getSafeClientGatewayBaseUrl(\r\n    checksumAddress(safeAddress),\r\n  )}/balances/${selectedCurrency}/?trusted=${trustedTokens}&exclude_spam=${excludeSpamTokens}`\r\n\r\n  return axios.get(url).then(({ data }) => data)\r\n}\r\n","import { Button } from '@gnosis.pm/safe-react-components'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport { createStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Close from '@material-ui/icons/Close'\r\nimport QRCode from 'qrcode.react'\r\nimport React, { ReactElement } from 'react'\r\n\r\nimport Block from 'src/components/layout/Block'\r\nimport Col from 'src/components/layout/Col'\r\nimport Hairline from 'src/components/layout/Hairline'\r\nimport Paragraph from 'src/components/layout/Paragraph'\r\nimport Row from 'src/components/layout/Row'\r\nimport { border, fontColor, lg, md, screenSm, secondaryText } from 'src/theme/variables'\r\nimport { getExplorerInfo, getNetworkInfo } from 'src/config'\r\nimport { EthHashInfo } from '@gnosis.pm/safe-react-components'\r\n\r\nconst networkInfo = getNetworkInfo()\r\nconst useStyles = makeStyles(\r\n  createStyles({\r\n    heading: {\r\n      padding: `${md} ${lg}`,\r\n      justifyContent: 'space-between',\r\n      height: '74px',\r\n      boxSizing: 'border-box',\r\n    },\r\n    close: {\r\n      height: lg,\r\n      width: lg,\r\n      fill: secondaryText,\r\n    },\r\n    qrContainer: {\r\n      backgroundColor: '#fff',\r\n      padding: md,\r\n      borderRadius: '6px',\r\n      border: `1px solid ${secondaryText}`,\r\n    },\r\n    networkInfo: {\r\n      backgroundColor: `${networkInfo?.backgroundColor ?? border}`,\r\n      color: `${networkInfo?.textColor ?? fontColor}`,\r\n      padding: md,\r\n      marginBottom: 0,\r\n    },\r\n    annotation: {\r\n      margin: lg,\r\n      marginBottom: 0,\r\n    },\r\n    safeName: {\r\n      margin: `${md} 0`,\r\n    },\r\n    buttonRow: {\r\n      height: '84px',\r\n      justifyContent: 'center',\r\n      '& > button': {\r\n        fontFamily: 'Averta',\r\n        fontSize: md,\r\n        boxShadow: '1px 2px 10px 0 rgba(212, 212, 211, 0.59)',\r\n      },\r\n    },\r\n    addressContainer: {\r\n      flexDirection: 'column',\r\n      justifyContent: 'center',\r\n      margin: `${lg} 0`,\r\n\r\n      [`@media (min-width: ${screenSm}px)`]: {\r\n        flexDirection: 'row',\r\n      },\r\n    },\r\n  }),\r\n)\r\n\r\ntype Props = {\r\n  onClose: () => void\r\n  safeAddress: string\r\n  safeName: string\r\n}\r\n\r\nconst ReceiveModal = ({ onClose, safeAddress, safeName }: Props): ReactElement => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <>\r\n      <Row align=\"center\" className={classes.heading} grow>\r\n        <Paragraph noMargin size=\"xl\" weight=\"bolder\">\r\n          Receive assets\r\n        </Paragraph>\r\n        <IconButton disableRipple onClick={onClose}>\r\n          <Close className={classes.close} />\r\n        </IconButton>\r\n      </Row>\r\n      <Hairline />\r\n      <Paragraph className={classes.networkInfo} noMargin size=\"lg\" weight=\"bolder\">\r\n        {networkInfo.label} Network only send {networkInfo.label} assets to this Safe.\r\n      </Paragraph>\r\n      <Paragraph className={classes.annotation} noMargin size=\"lg\">\r\n        This is the address of your Safe. Deposit funds by scanning the QR code or copying the address below. Only send{' '}\r\n        {networkInfo.nativeCoin.name} and assets to this address (e.g. ETH, ERC20, ERC721)!\r\n      </Paragraph>\r\n      <Col layout=\"column\" middle=\"xs\">\r\n        <Paragraph className={classes.safeName} noMargin size=\"lg\" weight=\"bold\">\r\n          {safeName}\r\n        </Paragraph>\r\n        <Block className={classes.qrContainer}>\r\n          <QRCode size={135} value={safeAddress} />\r\n        </Block>\r\n        <Block className={classes.addressContainer} justify=\"center\">\r\n          <EthHashInfo hash={safeAddress} showAvatar showCopyBtn explorerUrl={getExplorerInfo(safeAddress)} />\r\n        </Block>\r\n      </Col>\r\n      <Hairline />\r\n      <Row align=\"center\" className={classes.buttonRow}>\r\n        <Button size=\"md\" color=\"primary\" onClick={onClose} variant=\"contained\">\r\n          Done\r\n        </Button>\r\n      </Row>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ReceiveModal\r\n","import { Collectibles, NFTAsset, NFTAssets, NFTTokens } from 'src/logic/collectibles/sources/collectibles.d'\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\nimport NFTIcon from 'src/routes/safe/components/Balances/assets/nft_icon.png'\r\nimport { fetchSafeCollectibles } from 'src/logic/tokens/api'\r\nimport { TokenResult } from 'src/logic/tokens/api/fetchErc20AndErc721AssetsList'\r\nimport { CollectibleResult } from 'src/logic/tokens/api/fetchSafeCollectibles'\r\nimport { TokenType } from 'src/logic/safe/store/models/types/gateway.d'\r\n\r\ntype FetchResult = {\r\n  erc721Assets: TokenResult[]\r\n  erc721Tokens: CollectibleResult[]\r\n}\r\nclass Gnosis {\r\n  _getAssetsFromTokens = (tokens: CollectibleResult[]): TokenResult[] => {\r\n    const assets: TokenResult[] = tokens.map(({ address, logoUri, tokenName, tokenSymbol }) => ({\r\n      address,\r\n      decimals: undefined,\r\n      logoUri,\r\n      name: tokenName,\r\n      symbol: tokenSymbol,\r\n      type: 'ERC721' as TokenType,\r\n    }))\r\n\r\n    return assets\r\n  }\r\n\r\n  _fetch = async (safeAddress: string): Promise<FetchResult> => {\r\n    const collectibles: FetchResult = {\r\n      erc721Assets: [],\r\n      erc721Tokens: [],\r\n    }\r\n\r\n    try {\r\n      const tokens = await fetchSafeCollectibles(safeAddress)\r\n      collectibles.erc721Assets = this._getAssetsFromTokens(tokens.data)\r\n      collectibles.erc721Tokens = tokens.data || []\r\n    } catch (error) {\r\n      console.error('no erc721 tokens for the current safe', error)\r\n    }\r\n\r\n    return collectibles\r\n  }\r\n\r\n  static extractNFTAsset = (asset: TokenResult, nftTokens: NFTTokens): NFTAsset => {\r\n    const mainAssetAddress = asset.address\r\n    const numberOfTokens = nftTokens.filter(({ assetAddress }) => sameAddress(assetAddress, mainAssetAddress)).length\r\n\r\n    return {\r\n      address: mainAssetAddress,\r\n      description: asset.name,\r\n      image: asset.logoUri || NFTIcon,\r\n      name: asset.name,\r\n      numberOfTokens,\r\n      slug: `${mainAssetAddress}_${asset.name}`,\r\n      symbol: asset.symbol,\r\n    }\r\n  }\r\n\r\n  static extractAssets(assets: TokenResult[], nftTokens: NFTTokens): NFTAssets {\r\n    const extractedAssets = {}\r\n\r\n    assets.forEach((asset) => {\r\n      const address = asset.address\r\n\r\n      if (extractedAssets[address] === undefined) {\r\n        extractedAssets[address] = Gnosis.extractNFTAsset(asset, nftTokens)\r\n      }\r\n    })\r\n\r\n    return extractedAssets\r\n  }\r\n\r\n  static extractTokens(tokens: CollectibleResult[]): NFTTokens {\r\n    return tokens.map((token) => ({\r\n      assetAddress: token.address,\r\n      color: 'red',\r\n      description: token.description || '',\r\n      image: token.imageUri || NFTIcon,\r\n      name: token.name || '',\r\n      tokenId: token.id,\r\n    }))\r\n  }\r\n\r\n  /**\r\n   * Fetches from OpenSea the list of collectibles, grouped by category,\r\n   * for the provided Safe Address in the specified Network\r\n   * @param {string} safeAddress\r\n   * @returns {Promise<Collectibles>}\r\n   */\r\n  async fetchCollectibles(safeAddress: string): Promise<Collectibles> {\r\n    const { erc721Assets, erc721Tokens } = await this._fetch(safeAddress)\r\n\r\n    const nftTokens = Gnosis.extractTokens(erc721Tokens)\r\n    const nftAssets = Gnosis.extractAssets(erc721Assets, nftTokens)\r\n\r\n    return { nftTokens, nftAssets }\r\n  }\r\n}\r\n\r\nexport default Gnosis\r\n","import Gnosis from 'src/logic/collectibles/sources/Gnosis'\r\nimport { COLLECTIBLES_SOURCE } from 'src/utils/constants'\r\n\r\nconst SOURCES = {\r\n  gnosis: new Gnosis(),\r\n}\r\n\r\ntype Sources = typeof SOURCES\r\n\r\nexport const getConfiguredSource = (): Sources['gnosis'] => SOURCES[COLLECTIBLES_SOURCE.toLowerCase()]\r\n","import { Dispatch } from 'redux'\r\n\r\nimport { getConfiguredSource } from 'src/logic/collectibles/sources'\r\nimport { addNftAssets, addNftTokens } from 'src/logic/collectibles/store/actions/addCollectibles'\r\n\r\nexport const fetchCollectibles = (safeAddress: string) => async (dispatch: Dispatch): Promise<void> => {\r\n  try {\r\n    const source = getConfiguredSource()\r\n    const collectibles = await source.fetchCollectibles(safeAddress)\r\n\r\n    dispatch(addNftAssets(collectibles.nftAssets))\r\n    dispatch(addNftTokens(collectibles.nftTokens))\r\n  } catch (error) {\r\n    console.log('Error fetching collectibles:', error)\r\n  }\r\n}\r\n","import { ImmortalStorage, IndexedDbStore, LocalStorageStore } from 'immortal-db'\r\n\r\nimport { getNetworkName } from 'src/config'\r\n\r\n// Don't use sessionStorage and cookieStorage\r\n// https://github.com/gruns/ImmortalDB/issues/22\r\n// https://github.com/gruns/ImmortalDB/issues/6\r\nconst stores = [IndexedDbStore, LocalStorageStore]\r\nexport const storage = new ImmortalStorage(stores)\r\n\r\nconst PREFIX = `v2_${getNetworkName()}`\r\n\r\nexport const loadFromStorage = async <T = unknown>(key: string): Promise<T | undefined> => {\r\n  try {\r\n    const stringifiedValue = await storage.get(`${PREFIX}__${key}`)\r\n    if (stringifiedValue === null || stringifiedValue === undefined) {\r\n      return undefined\r\n    }\r\n\r\n    return JSON.parse(stringifiedValue)\r\n  } catch (err) {\r\n    console.error(`Failed to load ${key} from storage:`, err)\r\n    return undefined\r\n  }\r\n}\r\n\r\nexport const saveToStorage = async <T = unknown>(key: string, value: T): Promise<void> => {\r\n  try {\r\n    const stringifiedValue = JSON.stringify(value)\r\n    await storage.set(`${PREFIX}__${key}`, stringifiedValue)\r\n  } catch (err) {\r\n    console.error(`Failed to save ${key} in the storage:`, err)\r\n  }\r\n}\r\n\r\nexport const removeFromStorage = async (key: string): Promise<void> => {\r\n  try {\r\n    await storage.remove(`${PREFIX}__${key}`)\r\n  } catch (err) {\r\n    console.error(`Failed to remove ${key} from the storage:`, err)\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col\":\"Col_col__1iaI_\",\"inherit\":\"Col_inherit__FjFFf\",\"block\":\"Col_block__xBF8P\",\"column\":\"Col_column__2nIOk\",\"overflow\":\"Col_overflow__12CjD\",\"marginSm\":\"Col_marginSm__1UBib\",\"marginMd\":\"Col_marginMd__1kMYb\",\"marginLg\":\"Col_marginLg__3vRUA\",\"marginXl\":\"Col_marginXl__3e-zy\",\"xs1\":\"Col_xs1__1R_T1\",\"xs2\":\"Col_xs2__-Hepd\",\"xs3\":\"Col_xs3__3r5_H\",\"xs4\":\"Col_xs4__fkdoy\",\"xs5\":\"Col_xs5__37dh9\",\"xs6\":\"Col_xs6__i3vKP\",\"xs7\":\"Col_xs7__2q8OT\",\"xs8\":\"Col_xs8__3DC7b\",\"xs9\":\"Col_xs9__2dQKq\",\"xs10\":\"Col_xs10__1wzZ8\",\"xs11\":\"Col_xs11__mIbvh\",\"xs12\":\"Col_xs12__2-8g2\",\"xsOffset1\":\"Col_xsOffset1__1k_OU\",\"xsOffset2\":\"Col_xsOffset2__3DBh_\",\"xsOffset3\":\"Col_xsOffset3__2b5Cf\",\"xsOffset4\":\"Col_xsOffset4__3HLeU\",\"xsOffset5\":\"Col_xsOffset5__hXTK8\",\"xsOffset6\":\"Col_xsOffset6__1LuXZ\",\"xsOffset7\":\"Col_xsOffset7__1Ealm\",\"xsOffset8\":\"Col_xsOffset8__2R5hZ\",\"xsOffset9\":\"Col_xsOffset9__TC6cN\",\"xsOffset10\":\"Col_xsOffset10__3tcwu\",\"xsOffset11\":\"Col_xsOffset11__2AXrb\",\"xs\":\"Col_xs__6le0m\",\"sm1\":\"Col_sm1__393Pb\",\"sm2\":\"Col_sm2__35wsa\",\"sm3\":\"Col_sm3__2U6Ba\",\"sm4\":\"Col_sm4__1ALef\",\"sm5\":\"Col_sm5__XOrcf\",\"sm6\":\"Col_sm6__ZQX3H\",\"sm7\":\"Col_sm7__W4DQo\",\"sm8\":\"Col_sm8__2kQ4W\",\"sm9\":\"Col_sm9__gVaH3\",\"sm10\":\"Col_sm10__3_K3n\",\"sm11\":\"Col_sm11__2Qmi-\",\"sm12\":\"Col_sm12__1t-rR\",\"smOffset1\":\"Col_smOffset1__1aBL9\",\"smOffset2\":\"Col_smOffset2__2-OWH\",\"smOffset3\":\"Col_smOffset3__3kVrW\",\"smOffset4\":\"Col_smOffset4__1Tb74\",\"smOffset5\":\"Col_smOffset5__2dT0F\",\"smOffset6\":\"Col_smOffset6__3kZ6t\",\"smOffset7\":\"Col_smOffset7__2fzZE\",\"smOffset8\":\"Col_smOffset8__20WkN\",\"smOffset9\":\"Col_smOffset9__ZpxpW\",\"smOffset10\":\"Col_smOffset10__VKOaM\",\"smOffset11\":\"Col_smOffset11__1z2tt\",\"sm\":\"Col_sm__1pdLO\",\"md1\":\"Col_md1__fCroS\",\"md2\":\"Col_md2__3whhZ\",\"md3\":\"Col_md3__2PgJG\",\"md4\":\"Col_md4__1OAxy\",\"md5\":\"Col_md5__cXxhb\",\"md6\":\"Col_md6__2XhVn\",\"md7\":\"Col_md7__APIZS\",\"md8\":\"Col_md8__24-D0\",\"md9\":\"Col_md9__1omZ0\",\"md10\":\"Col_md10__8kSbp\",\"md11\":\"Col_md11__YYNWC\",\"md12\":\"Col_md12__1xpcl\",\"mdOffset1\":\"Col_mdOffset1__19j3u\",\"mdOffset2\":\"Col_mdOffset2__XPXV2\",\"mdOffset3\":\"Col_mdOffset3__19oSo\",\"mdOffset4\":\"Col_mdOffset4__HS7MZ\",\"mdOffset5\":\"Col_mdOffset5__AAd4I\",\"mdOffset6\":\"Col_mdOffset6__2-jBf\",\"mdOffset7\":\"Col_mdOffset7__39e9Q\",\"mdOffset8\":\"Col_mdOffset8__28niH\",\"mdOffset9\":\"Col_mdOffset9__3QtNL\",\"mdOffset10\":\"Col_mdOffset10__j4GT7\",\"mdOffset11\":\"Col_mdOffset11__3wGwF\",\"md\":\"Col_md__KO9ia\",\"lg1\":\"Col_lg1__3Z6LB\",\"lg2\":\"Col_lg2__d5akp\",\"lg3\":\"Col_lg3__1RNHB\",\"lg4\":\"Col_lg4__1x8u6\",\"lg5\":\"Col_lg5__24rD4\",\"lg6\":\"Col_lg6__2v4_j\",\"lg7\":\"Col_lg7__22d8u\",\"lg8\":\"Col_lg8__1O0AX\",\"lg9\":\"Col_lg9__2BJw2\",\"lg10\":\"Col_lg10__1FVxw\",\"lg11\":\"Col_lg11__2FrN8\",\"lg12\":\"Col_lg12__3tCyp\",\"lgOffset1\":\"Col_lgOffset1__2LCQM\",\"lgOffset2\":\"Col_lgOffset2__1OtiQ\",\"lgOffset3\":\"Col_lgOffset3__X_2Eo\",\"lgOffset4\":\"Col_lgOffset4__1I1LH\",\"lgOffset5\":\"Col_lgOffset5__218DA\",\"lgOffset6\":\"Col_lgOffset6__1bFyl\",\"lgOffset7\":\"Col_lgOffset7__v2oVh\",\"lgOffset8\":\"Col_lgOffset8__NOp5T\",\"lgOffset9\":\"Col_lgOffset9__3nuZo\",\"lgOffset10\":\"Col_lgOffset10__3Hcqj\",\"lgOffset11\":\"Col_lgOffset11__1cjYC\",\"lg\":\"Col_lg__ehfDb\",\"startXs\":\"Col_startXs__1DxwN\",\"centerXs\":\"Col_centerXs__2UW5I\",\"endXs\":\"Col_endXs__Ah7LE\",\"topXs\":\"Col_topXs__1ZYpM\",\"middleXs\":\"Col_middleXs__sG2g9\",\"bottomXs\":\"Col_bottomXs__E17bQ\",\"aroundXs\":\"Col_aroundXs__ePzX_\",\"betweenXs\":\"Col_betweenXs__1TJuM\",\"startSm\":\"Col_startSm__2fnfJ\",\"centerSm\":\"Col_centerSm__3-7Ma\",\"endSm\":\"Col_endSm__2enK4\",\"topSm\":\"Col_topSm__24PbK\",\"middleSm\":\"Col_middleSm__t0Bmd\",\"bottomSm\":\"Col_bottomSm__1aqdH\",\"aroundSm\":\"Col_aroundSm__2xwxo\",\"betweenSm\":\"Col_betweenSm__3cKxN\",\"startMd\":\"Col_startMd__1FIiA\",\"centerMd\":\"Col_centerMd__y_zEy\",\"endMd\":\"Col_endMd__1fIiB\",\"topMd\":\"Col_topMd__OBxy6\",\"middleMd\":\"Col_middleMd__3kOHp\",\"bottomMd\":\"Col_bottomMd__2EpuX\",\"aroundMd\":\"Col_aroundMd__Wu9Vc\",\"betweenMd\":\"Col_betweenMd__3QHm1\",\"startLg\":\"Col_startLg__2coom\",\"centerLg\":\"Col_centerLg__o-Z1o\",\"endLg\":\"Col_endLg__TQEMF\",\"topLg\":\"Col_topLg__nNvKR\",\"middleLg\":\"Col_middleLg__3CV_g\",\"bottomLg\":\"Col_bottomLg__7UMaX\",\"aroundLg\":\"Col_aroundLg__3Jw1S\",\"betweenLg\":\"Col_betweenLg__3tz-v\"};","import axios from 'axios'\r\nimport { BigNumber } from 'bignumber.js'\r\n\r\nimport { getWeb3, web3ReadOnly } from 'src/logic/wallets/getWeb3'\r\nimport { getGasPrice, getGasPriceOracle } from 'src/config'\r\n\r\nexport const EMPTY_DATA = '0x'\r\n\r\nexport const checkReceiptStatus = async (hash: string): Promise<void> => {\r\n  if (!hash) {\r\n    return Promise.reject(new Error('No valid Tx hash to get receipt from'))\r\n  }\r\n\r\n  const txReceipt = await web3ReadOnly.eth.getTransactionReceipt(hash)\r\n\r\n  const { status }: any = txReceipt\r\n  if (!status) {\r\n    return Promise.reject(new Error('No status found on this transaction receipt'))\r\n  }\r\n\r\n  const hasError = status === '0x0'\r\n  if (hasError) {\r\n    return Promise.reject(new Error('Obtained a transaction failure in the receipt'))\r\n  }\r\n\r\n  return Promise.resolve()\r\n}\r\n\r\nexport const calculateGasPrice = async (): Promise<string> => {\r\n  const gasPrice = getGasPrice()\r\n  const gasPriceOracle = getGasPriceOracle()\r\n\r\n  if (gasPrice) {\r\n    // Fixed gas price in configuration. xDai uses this approach\r\n    return new BigNumber(gasPrice).toString()\r\n  } else if (gasPriceOracle) {\r\n    const { url, gasParameter } = gasPriceOracle\r\n\r\n    // Fetch from gas price provider\r\n    const { data } = await axios.get(url)\r\n\r\n    return new BigNumber(data[gasParameter]).multipliedBy(1e8).toString()\r\n  } else {\r\n    const errorMsg = 'gasPrice or gasPriceOracle not set in config'\r\n    return Promise.reject(errorMsg)\r\n  }\r\n}\r\n\r\nexport const calculateGasOf = async (txConfig: {\r\n  to: string\r\n  from: string\r\n  data: string\r\n  gasPrice?: number\r\n  gas?: number\r\n}): Promise<number> => {\r\n  const web3 = getWeb3()\r\n  try {\r\n    const gas = await web3.eth.estimateGas(txConfig)\r\n\r\n    return gas\r\n  } catch (err) {\r\n    return Promise.reject(err)\r\n  }\r\n}\r\n\r\nexport const getUserNonce = async (userAddress: string): Promise<number> => {\r\n  const web3 = getWeb3()\r\n  try {\r\n    return await web3.eth.getTransactionCount(userAddress, 'pending')\r\n  } catch (error) {\r\n    return Promise.reject(error)\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"xs\":\"Block_xs__XK5K5\",\"sm\":\"Block_sm__I9fbu\",\"md\":\"Block_md__3Nd8T\",\"lg\":\"Block_lg__1SBJA\",\"xl\":\"Block_xl__1bwPe\",\"paddingXs\":\"Block_paddingXs__1pDp8\",\"paddingSm\":\"Block_paddingSm__30tfF\",\"paddingMd\":\"Block_paddingMd__1dL4v\",\"paddingLg\":\"Block_paddingLg__37yxM\",\"paddingXl\":\"Block_paddingXl__35nZv\",\"center\":\"Block_center__bJS6e\",\"left\":\"Block_left__2zLhw\",\"space-around\":\"Block_space-around__1BLn6\",\"right\":\"Block_right__2X1nO\"};","import classNames from 'classnames/bind'\r\nimport * as React from 'react'\r\n\r\nimport styles from './index.module.scss'\r\n\r\nimport { capitalize } from 'src/utils/css'\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nconst Row = ({ align, children, className, grow, margin, testId = '', ...props }: any) => {\r\n  const rowClassNames = cx(\r\n    styles.row,\r\n    margin ? capitalize(margin, 'margin') : undefined,\r\n    align ? capitalize(align, 'align') : undefined,\r\n    { grow },\r\n    className,\r\n  )\r\n\r\n  return (\r\n    <div className={rowClassNames} data-testid={testId} {...props}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Row\r\n","import React from 'react'\r\nimport { AnyAction } from 'redux'\r\nimport { ThunkAction } from 'redux-thunk'\r\nimport { createAction } from 'redux-actions'\r\nimport { IconButton } from '@material-ui/core'\r\nimport { Close as IconClose } from '@material-ui/icons'\r\nimport { Notification } from 'src/logic/notifications/notificationTypes'\r\nimport closeSnackbarAction from './closeSnackbar'\r\nimport { Dispatch } from 'src/logic/safe/store/actions/types.d'\r\nimport { AppReduxState } from 'src/store'\r\n\r\nexport const ENQUEUE_SNACKBAR = 'ENQUEUE_SNACKBAR'\r\n\r\nconst addSnackbar = createAction(ENQUEUE_SNACKBAR)\r\n\r\nconst enqueueSnackbar = (\r\n  notification: Notification,\r\n  key?: string | number,\r\n  onClick?: () => void,\r\n): ThunkAction<string | number, AppReduxState, undefined, AnyAction> => (dispatch: Dispatch) => {\r\n  key = notification.key || new Date().getTime() + Math.random()\r\n\r\n  const newNotification = {\r\n    ...notification,\r\n    key,\r\n    options: {\r\n      ...notification.options,\r\n      onClick,\r\n      // eslint-disable-next-line react/display-name\r\n      action: (actionKey) => (\r\n        <IconButton onClick={() => dispatch(closeSnackbarAction({ key: actionKey }))}>\r\n          <IconClose />\r\n        </IconButton>\r\n      ),\r\n    },\r\n  }\r\n\r\n  dispatch(addSnackbar(newNotification))\r\n\r\n  return key\r\n}\r\n\r\nexport default enqueueSnackbar\r\n","type TransferDirection = 'INCOMING' | 'OUTGOING'\r\n\r\ntype Erc20Transfer = {\r\n  type: 'ERC20'\r\n  tokenAddress: string\r\n  tokenName: string | null\r\n  tokenSymbol: string | null\r\n  logoUri: string | null\r\n  decimals: number | null\r\n  value: string\r\n}\r\n\r\ntype Erc721Transfer = {\r\n  type: 'ERC721'\r\n  tokenAddress: string\r\n  tokenId: string\r\n  tokenName: string | null\r\n  tokenSymbol: string | null\r\n  logoUri: string | null\r\n  decimals: number | null\r\n  value: string\r\n}\r\n\r\ntype NativeTransfer = {\r\n  type: 'ETHER'\r\n  value: string\r\n  tokenSymbol: string | null\r\n  decimals: number | null\r\n}\r\n\r\ntype TransferInfo = Erc20Transfer | Erc721Transfer | NativeTransfer\r\n\r\ntype Transfer = {\r\n  type: 'Transfer'\r\n  sender: string\r\n  recipient: string\r\n  direction?: TransferDirection\r\n  transferInfo: TransferInfo // Polymorphic: Erc20, Erc721, Ether\r\n}\r\n\r\nexport enum Operation {\r\n  CALL,\r\n  DELEGATE,\r\n}\r\n\r\ntype InternalTransaction = {\r\n  operation: Operation\r\n  to: string\r\n  value: number | null\r\n  data: string | null\r\n  dataDecoded: DataDecoded | null\r\n}\r\n\r\ntype Parameter = {\r\n  name: string\r\n  type: string\r\n  value: string\r\n  valueDecoded: InternalTransaction[] | null\r\n}\r\n\r\ntype DataDecoded = {\r\n  method: string\r\n  parameters: Parameter[] | null\r\n}\r\n\r\ntype SetFallbackHandler = {\r\n  type: 'SET_FALLBACK_HANDLER'\r\n  handler: string\r\n}\r\n\r\ntype AddOwner = {\r\n  type: 'ADD_OWNER'\r\n  owner: string\r\n  threshold: number\r\n}\r\n\r\ntype RemoveOwner = {\r\n  type: 'REMOVE_OWNER'\r\n  owner: string\r\n  threshold: number\r\n}\r\n\r\ntype SwapOwner = {\r\n  type: 'SWAP_OWNER'\r\n  oldOwner: string\r\n  newOwner: string\r\n}\r\n\r\ntype ChangeThreshold = {\r\n  type: 'CHANGE_THRESHOLD'\r\n  threshold: number\r\n}\r\n\r\ntype ChangeImplementation = {\r\n  type: 'CHANGE_IMPLEMENTATION'\r\n  implementation: string\r\n}\r\n\r\ntype EnableModule = {\r\n  type: 'ENABLE_MODULE'\r\n  module: string\r\n}\r\n\r\ntype DisableModule = {\r\n  type: 'DISABLE_MODULE'\r\n  module: string\r\n}\r\n\r\ntype SettingsInfo =\r\n  | SetFallbackHandler\r\n  | AddOwner\r\n  | RemoveOwner\r\n  | SwapOwner\r\n  | ChangeThreshold\r\n  | ChangeImplementation\r\n  | EnableModule\r\n  | DisableModule\r\n\r\ntype SettingsChange = {\r\n  type: 'SettingsChange'\r\n  dataDecoded: DataDecoded\r\n  settingsInfo: SettingsInfo | null\r\n}\r\n\r\ntype AddressInfo = {\r\n  name: string\r\n  logoUri: string | null\r\n}\r\n\r\ntype BaseCustom = {\r\n  type: 'Custom'\r\n  to: string\r\n  dataSize: string\r\n  value: string\r\n  isCancellation: boolean\r\n  toInfo?: AddressInfo\r\n}\r\n\r\nexport type Custom = BaseCustom & {\r\n  methodName: string | null\r\n}\r\n\r\ntype MultiSend = BaseCustom & {\r\n  methodName: 'multiSend'\r\n  actionCount: number\r\n}\r\n\r\ntype Creation = {\r\n  type: 'Creation'\r\n  creator: string\r\n  transactionHash: string\r\n  implementation: string | null\r\n  factory: string | null\r\n}\r\n\r\ntype TransactionStatus =\r\n  | 'AWAITING_CONFIRMATIONS'\r\n  | 'AWAITING_EXECUTION'\r\n  | 'CANCELLED'\r\n  | 'FAILED'\r\n  | 'SUCCESS'\r\n  | 'PENDING'\r\n  | 'PENDING_FAILED'\r\n  | 'WILL_BE_REPLACED'\r\n\r\ntype TransactionInfo = Transfer | SettingsChange | Custom | MultiSend | Creation\r\n\r\ntype ExecutionInfo = {\r\n  nonce: number\r\n  confirmationsRequired: number\r\n  confirmationsSubmitted: number\r\n  missingSigners?: string[]\r\n}\r\n\r\ntype SafeAppInfo = {\r\n  name: string\r\n  url: string\r\n  logoUrl: string\r\n}\r\n\r\ntype TransactionSummary = {\r\n  id: string\r\n  timestamp: number\r\n  txStatus: TransactionStatus\r\n  txInfo: TransactionInfo // Polymorphic: Transfer, SettingsChange, Custom, Creation\r\n  executionInfo: ExecutionInfo | null\r\n  safeAppInfo: SafeAppInfo | null\r\n}\r\n\r\ntype TransactionData = {\r\n  hexData: string | null\r\n  dataDecoded: DataDecoded | null\r\n  to: string\r\n  value: string | null\r\n  operation: Operation\r\n}\r\n\r\ntype ModuleExecutionDetails = {\r\n  type: 'MODULE'\r\n  address: string\r\n}\r\n\r\ntype MultiSigConfirmations = {\r\n  signer: string\r\n  signature: string | null\r\n}\r\n\r\nexport type TokenType = 'ERC721' | 'ERC20' | 'ETHER'\r\n\r\ntype TokenInfo = {\r\n  tokenType: TokenType\r\n  address: string\r\n  decimals: number | null\r\n  symbol: string\r\n  name: string\r\n  logoUri: string | null\r\n}\r\n\r\ntype MultiSigExecutionDetails = {\r\n  type: 'MULTISIG'\r\n  submittedAt: number\r\n  nonce: number\r\n  safeTxGas: number\r\n  baseGas: number\r\n  gasPrice: string\r\n  gasToken: string\r\n  refundReceiver: string\r\n  safeTxHash: string\r\n  executor: string | null\r\n  signers: string[]\r\n  confirmationsRequired: number\r\n  confirmations: MultiSigConfirmations[]\r\n  gasTokenInfo: TokenInfo | null\r\n}\r\n\r\ntype DetailedExecutionInfo = ModuleExecutionDetails | MultiSigExecutionDetails\r\n\r\ntype ExpandedTxDetails = {\r\n  executedAt: number | null\r\n  txStatus: TransactionStatus\r\n  txInfo: TransactionInfo\r\n  txData: TransactionData | null\r\n  detailedExecutionInfo: DetailedExecutionInfo | null\r\n  txHash: string | null\r\n}\r\n\r\ntype Transaction = TransactionSummary & {\r\n  txDetails?: ExpandedTxDetails\r\n}\r\n\r\ntype StoreStructure = {\r\n  queued: {\r\n    next: { [nonce: number]: Transaction[] } // 1 Transaction element\r\n    queued: { [nonce: number]: Transaction[] } // n Transaction elements\r\n  }\r\n  history: { [timestamp: number]: Transaction[] } // n Transaction elements\r\n}\r\n\r\ntype TxQueuedLocation = 'queued.next' | 'queued.queued'\r\n\r\ntype TxHistoryLocation = 'history'\r\n\r\ntype TxLocation = TxHistoryLocation | TxQueuedLocation\r\n\r\ntype Label = {\r\n  type: 'LABEL'\r\n  label: 'Next' | 'Queued'\r\n}\r\n\r\ntype DateLabel = {\r\n  type: 'DATE_LABEL'\r\n  timestamp: number\r\n}\r\n\r\ntype ConflictHeader = {\r\n  type: 'CONFLICT_HEADER'\r\n  nonce: number\r\n}\r\n\r\ntype TransactionGatewayResult = {\r\n  type: 'TRANSACTION'\r\n  transaction: TransactionSummary\r\n  conflictType: 'HasNext' | 'End' | 'None'\r\n}\r\n\r\ntype GatewayResponse = {\r\n  next: string | null\r\n  previous: string | null\r\n}\r\n\r\ntype HistoryGatewayResult = DateLabel | TransactionGatewayResult\r\n\r\ntype HistoryGatewayResponse = GatewayResponse & {\r\n  results: HistoryGatewayResult[]\r\n}\r\n\r\ntype QueuedGatewayResult = Label | ConflictHeader | TransactionGatewayResult\r\n\r\ntype QueuedGatewayResponse = GatewayResponse & {\r\n  results: QueuedGatewayResult[]\r\n}\r\n\r\nexport type TransactionDetails = {\r\n  count: number\r\n  transactions: Array<[nonce: string, transactions: Transaction[]]>\r\n}\r\n\r\n/**\r\n * Helper functions\r\n */\r\n\r\nexport const isDateLabel = (value: HistoryGatewayResult): value is DateLabel => {\r\n  return value.type === 'DATE_LABEL'\r\n}\r\n\r\nexport const isLabel = (value: QueuedGatewayResult): value is Label => {\r\n  return value.type === 'LABEL'\r\n}\r\n\r\nexport const isConflictHeader = (value: QueuedGatewayResult): value is ConflictHeader => {\r\n  return value.type === 'CONFLICT_HEADER'\r\n}\r\n\r\nexport const isTransactionSummary = (\r\n  value: HistoryGatewayResult | QueuedGatewayResult,\r\n): value is TransactionGatewayResult => {\r\n  return value.type === 'TRANSACTION'\r\n}\r\n\r\nexport const isTransferTxInfo = (value: TransactionInfo): value is Transfer => {\r\n  return value.type === 'Transfer'\r\n}\r\n\r\nexport const isSettingsChangeTxInfo = (value: TransactionInfo): value is SettingsChange => {\r\n  return value.type === 'SettingsChange'\r\n}\r\n\r\nexport const isCustomTxInfo = (value: TransactionInfo): value is Custom => {\r\n  return value.type === 'Custom'\r\n}\r\n\r\nexport const isMultiSendTxInfo = (value: TransactionInfo): value is MultiSend => {\r\n  return isCustomTxInfo(value) && value.methodName === 'multiSend'\r\n}\r\n\r\nexport const isCreationTxInfo = (value: TransactionInfo): value is Creation => {\r\n  return value.type === 'Creation'\r\n}\r\n\r\nexport const isStatusSuccess = (value: Transaction['txStatus']): value is 'SUCCESS' => {\r\n  return value === 'SUCCESS'\r\n}\r\n\r\nexport const isStatusFailed = (value: Transaction['txStatus']): value is 'FAILED' => {\r\n  return value === 'FAILED'\r\n}\r\n\r\nexport const isStatusCancelled = (value: Transaction['txStatus']): value is 'CANCELLED' => {\r\n  return value === 'CANCELLED'\r\n}\r\n\r\nexport const isStatusPending = (value: Transaction['txStatus']): value is 'PENDING' => {\r\n  return value === 'PENDING'\r\n}\r\n\r\nexport const isStatusAwaitingConfirmation = (value: Transaction['txStatus']): value is 'AWAITING_CONFIRMATIONS' => {\r\n  return value === 'AWAITING_CONFIRMATIONS'\r\n}\r\n\r\nexport const isStatusWillBeReplaced = (value: Transaction['txStatus']): value is 'WILL_BE_REPLACED' => {\r\n  return value === 'WILL_BE_REPLACED'\r\n}\r\n\r\nexport const isMultiSigExecutionDetails = (\r\n  value: ExpandedTxDetails['detailedExecutionInfo'],\r\n): value is MultiSigExecutionDetails => {\r\n  return value?.type === 'MULTISIG'\r\n}\r\n\r\nexport const isModuleExecutionDetails = (\r\n  value: ExpandedTxDetails['detailedExecutionInfo'],\r\n): value is ModuleExecutionDetails => {\r\n  return value?.type === 'MODULE'\r\n}\r\n","import classNames from 'classnames/bind'\r\nimport * as React from 'react'\r\n\r\nimport styles from './index.module.scss'\r\n\r\nimport { capitalize } from 'src/utils/css'\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nconst Col = ({\r\n  around,\r\n  between,\r\n  bottom,\r\n  center,\r\n  children,\r\n  className,\r\n  end,\r\n  layout = 'inherit',\r\n  lg,\r\n  lgOffset,\r\n  margin,\r\n  md,\r\n  mdOffset,\r\n  middle,\r\n  overflow,\r\n  sm,\r\n  smOffset,\r\n  start,\r\n  top,\r\n  xs,\r\n  xsOffset,\r\n  ...props\r\n}: any) => {\r\n  const colClassNames = cx(\r\n    'col',\r\n    center ? capitalize(center, 'center') : undefined,\r\n    start ? capitalize(start, 'start') : undefined,\r\n    end ? capitalize(end, 'end') : undefined,\r\n    top ? capitalize(top, 'top') : undefined,\r\n    middle ? capitalize(middle, 'middle') : undefined,\r\n    bottom ? capitalize(bottom, 'bottom') : undefined,\r\n    around ? capitalize(around, 'around') : undefined,\r\n    between ? capitalize(between, 'between') : undefined,\r\n    margin ? capitalize(margin, 'margin') : undefined,\r\n    xs ? capitalize(xs, 'xs') : undefined,\r\n    sm ? capitalize(sm, 'sm') : undefined,\r\n    md ? capitalize(md, 'md') : undefined,\r\n    lg ? capitalize(lg, 'lg') : undefined,\r\n    xsOffset ? capitalize(xsOffset, 'xsOffset') : undefined,\r\n    smOffset ? capitalize(smOffset, 'smOffset') : undefined,\r\n    mdOffset ? capitalize(mdOffset, 'mdOffset') : undefined,\r\n    lgOffset ? capitalize(lgOffset, 'lgOffset') : undefined,\r\n    { overflow },\r\n    layout,\r\n    className,\r\n  )\r\n\r\n  return (\r\n    <div className={colClassNames} {...props}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Col\r\n","import classNames from 'classnames/bind'\r\nimport React, { ReactElement, ImgHTMLAttributes } from 'react'\r\n\r\nimport styles from './index.module.scss'\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ntype ImgProps = ImgHTMLAttributes<HTMLImageElement> & {\r\n  bordered?: boolean\r\n  fullwidth?: boolean\r\n  testId?: string\r\n}\r\n\r\nconst Img = ({ alt, bordered, className, fullwidth, style, testId = '', ...props }: ImgProps): ReactElement => {\r\n  const classes = cx(styles.img, { fullwidth, bordered }, className)\r\n\r\n  return <img alt={alt} className={classes} data-testid={testId} style={style} {...props} />\r\n}\r\n\r\nexport default Img\r\n","import { createSelector } from 'reselect'\r\n\r\nimport { ETHEREUM_NETWORK } from 'src/config/networks/network.d'\r\nimport { PROVIDER_REDUCER_ID, ProviderState } from 'src/logic/wallets/store/reducer/provider'\r\nimport { AppReduxState } from 'src/store'\r\n\r\nexport const providerSelector = (state: AppReduxState): ProviderState => state[PROVIDER_REDUCER_ID]\r\n\r\nexport const userAccountSelector = createSelector(providerSelector, (provider: ProviderState): string => {\r\n  const account = provider.get('account')\r\n  return account || ''\r\n})\r\n\r\nexport const providerNameSelector = createSelector(providerSelector, (provider: ProviderState): string | undefined => {\r\n  const name = provider.get('name')\r\n  return name ? name.toLowerCase() : undefined\r\n})\r\n\r\nexport const networkSelector = createSelector(\r\n  providerSelector,\r\n  (provider: ProviderState): ETHEREUM_NETWORK => {\r\n    const networkId = provider.get('network')\r\n\r\n    return networkId ?? ETHEREUM_NETWORK.UNKNOWN\r\n  },\r\n)\r\n\r\nexport const loadedSelector = createSelector(providerSelector, (provider: ProviderState): boolean =>\r\n  provider.get('loaded'),\r\n)\r\n\r\nexport const availableSelector = createSelector(providerSelector, (provider: ProviderState): boolean =>\r\n  provider.get('available'),\r\n)\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const CLOSE_SNACKBAR = 'CLOSE_SNACKBAR'\r\n\r\nconst closeSnackbar = createAction(CLOSE_SNACKBAR)\r\n\r\nexport default closeSnackbar\r\n","import classNames from 'classnames/bind'\r\nimport * as React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport styles from './index.module.scss'\r\n\r\nimport { capitalize } from 'src/utils/css'\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nconst GnosisLink = ({ children, className, color, innerRef, padding, to, ...props }: any) => {\r\n  const internal = /^\\/(?!\\/)/.test(to)\r\n  const classes = cx(styles.link, color || 'regular', padding ? capitalize(padding, 'padding') : undefined, className)\r\n  const LinkElement = internal ? Link : 'a'\r\n  const refs: any = {}\r\n  if (internal) {\r\n    // To avoid warning about React not recognizing the prop innerRef on native element (a) if the link is external\r\n    refs.innerRef = innerRef\r\n  }\r\n\r\n  return (\r\n    <LinkElement className={classes} href={internal ? null : to} to={internal ? to : null} {...refs} {...props}>\r\n      {children}\r\n    </LinkElement>\r\n  )\r\n}\r\n\r\n// https://material-ui.com/guides/composition/#caveat-with-refs\r\nconst LinkWithRef: any = React.forwardRef((props, ref) => <GnosisLink {...props} innerRef={ref} />)\r\n\r\nexport default LinkWithRef\r\n"],"sourceRoot":""}