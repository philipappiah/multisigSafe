(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[41],{1337:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1336);t.a=function(e){var t=Object.assign({},e);return r.a.createElement(o.a,t)}},1341:function(e,t,n){"use strict";var a=n(10),r=n(45),o=n(537),i=n(443),c=n(347),l=n(0),d=n.n(l),s=n(4),u={overflow:"hidden",width:"100%"},m=Object(c.a)((function(){return Object(i.a)({root:{paddingTop:s.lg,paddingBottom:"12px",lineHeight:0}})}));t.a=function(e){var t=e.input,n=t.name,i=t.onChange,c=t.value,l=Object(r.a)(t,["name","onChange","value"]),s=e.inputAdornment,b=e.meta,f=e.multiline,p=e.rows,g=e.testId,h=e.text,E=Object(r.a)(e,["input","inputAdornment","meta","multiline","rows","testId","text"]),x=m(),O=c?h:void 0,v=(b.touched||!b.pristine)&&!b.valid,y=!!b.error||!b.modifiedSinceLastSubmit&&!!b.submitError,j=b.error||b.submitError,C=!b.active&&(b.pristine||!b.touched),w="undefined"===typeof b.error||!b.touched,S=C&&w,k=O?x.root:"",B=b.valid?"isValid":y&&v?"isInvalid":"",P=Object(a.a)(Object(a.a)({},l),{},{autoComplete:"off","data-testid":g}),R=Object(a.a)(Object(a.a)({},s),{},{className:"".concat(k," ").concat(B),disableUnderline:S});return d.a.createElement(o.a,Object.assign({error:y&&v,helperText:y&&v?j:O||" ",inputProps:P,InputProps:R,multiline:f,name:n,onChange:i,rows:p,style:u,value:c},E))}},1342:function(e,t,n){"use strict";var a=n(45),r=n(0),o=n(1336),i=function(e){return{padding:"0 ".concat(e,"%"),flexDirection:"column",flex:"1 0 auto"}};t.a=function(e){var t=e.children,n=e.decorators,c=e.formMutators,l=e.initialValues,d=e.onSubmit,s=e.padding,u=void 0===s?0:s,m=e.subscription,b=e.testId,f=void 0===b?"":b,p=e.validation;return r.createElement(o.b,{decorators:n,initialValues:l,mutators:c,onSubmit:d,render:function(e){var n=e.handleSubmit,o=Object(a.a)(e,["handleSubmit"]);return r.createElement("form",{"data-testid":f,onSubmit:n,style:i(u)},t(o.submitting,o.validating,o,o.form.mutators))},subscription:m,validate:p})}},1365:function(e,t,n){"use strict";t.a=n.p+"static/media/qrcode.f0b048aa.svg"},1371:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(33),r=n(280),o=n(347),i=n(471),c=n.n(i),l=n(0),d=n(1395),s=n.n(d),u=n(4),m=n(443),b=Object(m.a)({heading:{padding:u.lg,justifyContent:"space-between",maxHeight:"75px",boxSizing:"border-box"},loaderContainer:{width:"100%",height:"100%"},close:{height:"25px",width:"25px",color:u.secondaryText},detailsContainer:{backgroundColor:u.background,maxHeight:"450px"},buttonRow:{height:"84px",justifyContent:"center"},button:{"&:last-child":{marginLeft:u.sm}}}),f=n(290),p=n(107),g=n(139),h=n(92),E=n(115),x=n(62),O=n(76),v=Object(o.a)(b),y=function(e){var t=e.isOpen,n=e.onClose,o=e.onScan,i=v(),d=Object(l.useState)(!1),u=Object(a.a)(d,2),m=u[0],b=u[1],y=Object(l.useState)(null),j=Object(a.a)(y,2),C=j[0],w=j[1],S=Object(l.useState)(!1),k=Object(a.a)(S,2),B=k[0],P=k[1],R=l.createRef(),T=l.useCallback((function(){R.current.openImageDialog()}),[R]);Object(l.useEffect)((function(){m||!B||C||(b(!0),T())}),[B,T,m,b,C]);var I=function(e,t){if(e)return console.error("QR code error",e),void("NotAllowedError"===e.name||"PermissionDismissedError"===e.name?(P(!0),b(!1)):w("The QR could not be read"));t?o(t):B&&w("The QR could not be read")};return l.createElement(f.c,{description:"Receive Tokens Form",handleClose:n,open:t,title:"Receive Tokens"},l.createElement(O.a,{align:"center",className:i.heading,grow:!0},l.createElement(x.a,{noMargin:!0,size:"xl"},"Scan QR"),l.createElement(r.a,{disableRipple:!0,onClick:n},l.createElement(c.a,{className:i.close}))),l.createElement(E.a,null),l.createElement(h.a,{className:i.detailsContainer,layout:"column",middle:"xs"},C&&l.createElement(p.a,{padding:"md",margin:"md"},C),l.createElement(s.a,{legacyMode:B,onError:function(e){return I(e,null)},onScan:function(e){return I(null,e)},ref:R,style:{width:"400px",height:"400px"},facingMode:"user"})),l.createElement(E.a,null),l.createElement(O.a,{align:"center",className:i.buttonRow},l.createElement(g.a,{className:i.button,color:"secondary",minWidth:154,onClick:n},"Close"),l.createElement(g.a,{className:i.button,color:"primary",minWidth:154,onClick:function(){P(!0),w(null),b(!1)},variant:"contained"},"Upload an image")))}},1375:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(33),r=n(347),o=n(0),i=n.n(o),c=n(1365),l=n(1371),d=n(93),s=Object(r.a)({qrCodeBtn:{cursor:"pointer"}}),u=function(e){var t=e.handleScan,n=s(),r=Object(o.useState)(!1),u=Object(a.a)(r,2),m=u[0],b=u[1],f=function(){b(!1)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{alt:"Scan QR",className:n.qrCodeBtn,height:20,onClick:function(){b(!0)},role:"button",src:c.a,testId:"qr-icon"}),m&&i.a.createElement(l.a,{isOpen:m,onClose:f,onScan:function(e){t(e,f)}}))}},1410:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(5),i=n(86),c=n(0),l=n(1336),d=n(1386),s=n(1341),u=n(470),m=n(116),b=n(30),f=n(31),p=n(52),g=n(150);t.a=function(e){var t=e.className,n=void 0===t?"":t,a=e.name,h=void 0===a?"recipientAddress":a,E=e.text,x=void 0===E?"Recipient*":E,O=e.placeholder,v=void 0===O?"Recipient*":O,y=e.fieldMutator,j=e.testId,C=e.inputAdornment,w=e.validators,S=void 0===w?[]:w,k=e.defaultValue,B=e.disabled;return c.createElement(c.Fragment,null,c.createElement(l.a,{className:n,component:s.a,defaultValue:k,disabled:B,inputAdornment:C,name:h,placeholder:v,testId:j,text:x,type:"text",validate:u.c.apply(void 0,[u.p,u.j].concat(Object(i.a)(S)))}),c.createElement(d.a,{name:h},function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(m.c)(t),!Object(f.e)(n)&&!Object(f.d)(n)){e.next=13;break}return e.prev=2,e.next=5,Object(b.b)(n);case 5:a=e.sent,o=Object(p.a)(a),y(o),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),Object(g.b)(g.a._101,e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()))}},1413:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(6),r=n(8),o=n(12),i=n(13),c=n(524),l=n(531),d=n(525),s=n(678),u=n(0),m=function(e){if(e)return{maxWidth:"".concat(e,"px")}},b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).changeSort=function(t,n){return function(){(0,e.props.onSort)(t,n)}},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.columns,a=t.order,r=t.orderBy;return u.createElement(l.a,null,u.createElement(d.a,null,n.map((function(t){return u.createElement(c.a,{align:t.align,key:t.id,padding:t.disablePadding?"none":"default",sortDirection:r===t.id&&a},t.static?u.createElement("div",{style:t.style},t.label):u.createElement(s.a,{active:r===t.id,direction:a,onClick:e.changeSort(t.id,t.order),style:t.style},t.label))}))))}}]),n}(u.PureComponent);t.b=b},1446:function(e,t,n){"use strict";var a=n(6),r=n(8),o=n(12),i=n(13),c=n(21),l=n(528),d=n(529),s=n(1971),u=n(16),m=n(0),b=n(1413),f=n(58),p=function(e,t,n,a,r){var o=a?"".concat(n,"Order"):n;return r(t[o])<r(e[o])?-1:r(t[o])>r(e[o])?1:0},g=n(76),h=n(4),E={root:{backgroundColor:"white",borderTopRightRadius:h.sm,borderTopLeftRadius:h.sm,boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"},selectRoot:{lineHeight:h.xxl,backgroundColor:"white"},white:{backgroundColor:"white"},paginationRoot:{backgroundColor:"white",boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)",marginBottom:h.xl,borderBottomRightRadius:h.sm,borderBottomLeftRadius:h.sm},loader:{boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"}},x={"aria-label":"Previous Page"},O={"aria-label":"Next Page"},v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onSort=function(e,t){var n=r.state,a=n.order,o=n.orderBy,i=r.props.defaultOrder,c="desc";a&&o===e&&"desc"===a?c="asc":a||"desc"!==i||(c="asc"),r.setState((function(){return{order:c,orderBy:e,orderProp:t,fixed:!1}}))},r.getEmptyStyle=function(){return{height:"calc(100vh - ".concat(255,"px)"),borderTopRightRadius:h.sm,borderTopLeftRadius:h.sm,backgroundColor:"white",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},r.handleChangePage=function(e,t){r.setState({page:t})},r.handleChangeRowsPerPage=function(e){var t=Number(e.target.value);r.setState({rowsPerPage:t})},r.state={page:0,order:void 0,orderBy:void 0,fixed:void 0,orderProp:!1,rowsPerPage:void 0},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.columns,n=e.defaultOrderBy;n&&t&&(t.find((function(e){return e.id===n})).order&&this.setState({orderProp:!0}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,a=e.columns,r=e.data,o=e.defaultFixed,i=e.defaultOrder,u=e.defaultOrderBy,h=e.defaultRowsPerPage,E=e.disableLoadingOnEmptyTable,v=e.disablePagination,y=e.label,j=e.noBorder,C=e.size,w=this.state,S=w.fixed,k=w.order,B=w.orderBy,P=w.orderProp,R=w.page,T=w.rowsPerPage,I=B||u,z=k||i,N=T||h,H="undefined"!==typeof S?S:!!o,M={selectRoot:n.selectRoot,root:!j&&n.paginationRoot,input:n.white},A=a.find((function(e){return e.id===I})),D=function(e,t,n){var a=n?e.filter((function(e){return e.fixed})):Object(f.a)([]),r=(n?e.filter((function(e){return!e.fixed})):e).map((function(e,t){return[e,t]})),o=(r=r.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]}))).map((function(e){return e[0]}));return a.concat(o)}(r,function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return"desc"===e?function(e,r){return p(e,r,t,n,a)}:function(e,r){return-p(e,r,t,n,a)}}(z,I,P,null===A||void 0===A?void 0:A.formatTypeSort),H);v||(D=D.slice(R*N,R*N+N));var L=0===C&&!E;return m.createElement(m.Fragment,null,!L&&m.createElement(l.a,{"aria-labelledby":y,className:j?"":n.root},m.createElement(b.b,{columns:a,onSort:this.onSort,order:k,orderBy:I}),m.createElement(d.a,null,t(D))),L&&m.createElement(g.a,{className:n.loader,style:this.getEmptyStyle()},m.createElement(c.Loader,{size:"sm"})),!v&&m.createElement(s.a,{backIconButtonProps:x,classes:M,component:"div",count:C,nextIconButtonProps:O,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,page:R,rowsPerPage:N,rowsPerPageOptions:[5,10,25,50,100]}))}}]),n}(m.Component);v.defaultProps={defaultOrder:"asc",disablePagination:!1,defaultRowsPerPage:5};t.a=Object(u.a)(E)(v)},3044:function(e,t,n){"use strict";n.r(t);var a,r,o,i,c,l,d,s,u,m,b,f=n(10),p=n(33),g=n(27),h=n(21),E=n(524),x=n(530),O=n(525),v=n(347),y=n(87),j=n.n(y),C=n(25),w=n(0),S=n.n(w),k=n(38),B=n(4),P=n(443),R=Object(P.a)({formContainer:{minHeight:"250px"},title:{padding:B.lg,paddingBottom:0},annotation:{paddingLeft:B.lg},hide:{"&:hover":{backgroundColor:"#f7f5f5"},"&:hover $actions":{visibility:"initial"}},actions:{justifyContent:"flex-end",visibility:"hidden",minWidth:"100px"},noBorderBottom:{"& > td":{borderBottom:"none"}},controlsRow:{backgroundColor:"white",padding:B.lg,borderRadius:B.sm},editEntryButton:{cursor:"pointer",marginBottom:"16px"},editEntryButtonNonOwner:{cursor:"pointer"},removeEntryButton:{marginLeft:B.lg,marginRight:B.lg,marginBottom:"16px",cursor:"pointer"},removeEntryButtonDisabled:{marginLeft:B.lg,marginRight:B.lg,marginBottom:"16px",cursor:"default"},removeEntryButtonNonOwner:{marginLeft:B.lg,marginRight:B.lg,cursor:"pointer"},message:{padding:"".concat(B.md," 0"),maxHeight:"54px",boxSizing:"border-box",justifyContent:"flex-end"},leftIcon:{marginRight:B.sm},iconSmall:{fontSize:16}}),T=n(20),I=n(1446),z=n(1413),N=n(107),H=n(92),M=n(76),A=n(187),D=n(143),L=n(252),F=n(31),V=n(45),W=Object(v.a)(Object(P.a)({heading:{padding:B.lg,justifyContent:"space-between",boxSizing:"border-box",height:"74px"},manage:{fontSize:B.lg},container:{padding:"".concat(B.md," ").concat(B.lg)},close:{height:"35px",width:"35px"}})),q=n(290),Q=n(1375),_=n(1410),U=n(1337),J=n(1342),Y=n(1341),G=n(470),K="create-entry-input-name",X="create-entry-input-address",$="save-new-entry-btn-id",Z={setOwnerAddress:function(e,t,n){n.changeValue(t,"address",(function(){return e[0]}))}},ee=function(e){var t=e.editEntryModalHandler,n=e.entryToEdit,a=e.isOpen,r=e.newEntryModalHandler,o=e.onClose,i=W(),c=n.entry,l=c.isNew,d=Object(V.a)(c,["isNew"]),s=Object(k.f)(L.a),u=Object(G.q)(s);return S.a.createElement(q.b,{description:l?"Create new addressBook entry":"Edit addressBook entry",handleClose:o,open:a,title:l?"Create new entry":"Edit entry"},S.a.createElement(q.b.Header,{onClose:o},S.a.createElement(q.b.Header.Title,null,l?"Create entry":"Edit entry")),S.a.createElement(q.b.Body,{withoutPadding:!0},S.a.createElement(J.a,{formMutators:Z,onSubmit:function(e){l?r(e):t(e)},initialValues:d},(function(){var e=arguments.length<=2?void 0:arguments[2],t=arguments.length<=3?void 0:arguments[3],n=function(e,n){var a=e;a.startsWith("ethereum:")&&(a=a.replace("ethereum:","")),t.setOwnerAddress(a),n()};return S.a.createElement(S.a.Fragment,null,S.a.createElement(N.a,{className:i.container},S.a.createElement(M.a,{margin:"md"},S.a.createElement(H.a,{xs:11},S.a.createElement(U.a,{component:Y.a,name:"name",placeholder:"Name*",testId:K,text:"Name*",type:"text",validate:Object(G.c)(G.p,G.r)}))),S.a.createElement(M.a,{margin:"md"},S.a.createElement(H.a,{xs:11},S.a.createElement(_.a,{disabled:!l,fieldMutator:t.setOwnerAddress,name:"address",placeholder:"Address*",testId:X,text:"Address*",validators:[function(e){return l?u(e):void 0}]})),l?S.a.createElement(H.a,{center:"xs",className:i,middle:"xs",xs:1},S.a.createElement(Q.a,{handleScan:n})):null)),S.a.createElement(q.b.Footer,null,S.a.createElement(q.b.Footer.Buttons,{cancelButtonProps:{onClick:o},confirmButtonProps:{disabled:!e.valid,testId:$,text:l?"Create":"Save"}})))}))))},te=n(3058),ne=n(1965),ae=n(66),re=n(78),oe=n(48),ie=n(93),ce=Object(C.default)(h.Icon)(a||(a=Object(g.a)(["\n  svg {\n    position: relative;\n    top: 4px;\n    left: 4px;\n  }\n"]))),le=function(){return S.a.createElement(h.Link,{href:"https://help.gnosis-safe.io/en/articles/5299068-address-book-export-and-import",target:"_blank",rel:"noreferrer",title:"Export & import info"},S.a.createElement(h.Text,{size:"xl",as:"span",color:"primary"},"Learn about the address book import and export"),S.a.createElement(ce,{size:"sm",type:"externalLink",color:"primary"}))},de=n.p+"static/media/success.a012dbb4.svg",se=n.p+"static/media/error.99240a20.svg",ue=n.p+"static/media/wait.392cdfd2.svg",me=Object(C.default)(M.a)(r||(r=Object(g.a)(["\n  padding: "," ",";\n  justify-content: center;\n"])),B.md,B.lg),be=Object(C.default)(h.Button)(o||(o=Object(g.a)(["\n  &.MuiButtonBase-root.MuiButton-root {\n    padding: 0;\n    .MuiButton-label {\n      height: 100%;\n    }\n  }\n"]))),fe=Object(C.default)(M.a)(i||(i=Object(g.a)(["\n  background-color: ",";\n  flex-direction: column;\n  justify-content: center;\n  padding: ",";\n  text-align: center;\n"])),B.background,B.lg),pe=C.default.div(c||(c=Object(g.a)(["\n  grid-row: 1;\n"]))),ge=Object(C.default)(h.Loader)(l||(l=Object(g.a)(["\n  margin-right: 5px;\n"]))),he=Object(C.default)(ne.a)(d||(d=Object(g.a)(["\n  height: 100%;\n  display: flex;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n"]))),Ee=function(e){var t=e.isOpen,n=e.onClose,a=Object(k.e)(),r=Object(k.f)(L.c),o=Object(w.useState)(!0),i=Object(p.a)(o,2),c=i[0],l=i[1],d=Object(w.useState)(""),s=Object(p.a)(d,2),u=s[0],m=s[1],b=Object(w.useState)(""),f=Object(p.a)(b,2),g=f[0],E=f[1],x=Object(w.useState)(!1),O=Object(p.a)(x,2),v=O[0],y=O[1],j=Object(te.a)(new Date,"yyyy-MM-dd");return Object(w.useEffect)((function(){!function(){if(t||v){l(!0),m("");try{E(Object(ne.c)(r))}catch(e){return l(!1),void m(e.message)}l(!1),y(!1)}}()}),[r,t,v,g]),S.a.createElement(q.b,{description:"Export address book",handleClose:n,open:t,title:"Export address book"},S.a.createElement(q.b.Header,{onClose:n},S.a.createElement(q.b.Header.Title,{withoutMargin:!0},"Export address book")),S.a.createElement(q.b.Body,{withoutPadding:!0},S.a.createElement(me,null,S.a.createElement(pe,null,S.a.createElement(ie.a,{alt:"Export",height:92,src:u?se:c?ue:de}))),S.a.createElement(fe,null,S.a.createElement(h.Text,{color:"primary",as:"p",size:"xl"},u?S.a.createElement(h.Text,{size:"xl",as:"span"},"An error occurred while generating the address book CSV."):S.a.createElement(h.Text,{size:"xl",as:"span"},"You're about to export a CSV file with"," ",S.a.createElement(h.Text,{size:"xl",strong:!0,as:"span"},r.length," address book entries. ",S.a.createElement("br",null),S.a.createElement(le,null)),".")))),S.a.createElement(q.b.Footer,{withoutBorder:!0},S.a.createElement(M.a,null,S.a.createElement(h.Button,{size:"md",variant:"outlined",onClick:n},"Cancel"),S.a.createElement(be,{color:"primary",size:"md",disabled:c,onClick:u?function(){return y(!0)}:function(){l(!0),setTimeout((function(){if(!c){var e=Object(ae.c)(oe.c.ADDRESS_BOOK_EXPORT_ENTRIES),t=u?e.afterExecution.afterExecutionError:e.afterExecution.noMoreConfirmationsNeeded;a(Object(re.b)(Object(ae.b)(t)))}n()}),600)}},u?"Retry":S.a.createElement(he,{data:g,bom:!0,filename:"gnosis-safe-address-book-".concat(j),type:"link"},c&&S.a.createElement(ge,{color:"secondaryLight",size:"xs"}),"Download")))))},xe=function(e){var t=e.deleteEntryModalHandler,n=e.entryToDelete,a=e.isOpen,r=e.onClose;return S.a.createElement(q.b,{description:"Delete entry",handleClose:r,open:a,title:"Delete entry"},S.a.createElement(q.b.Header,{onClose:r},S.a.createElement(q.b.Header.Title,null,"Delete entry")),S.a.createElement(J.a,{onSubmit:function(){t()}},(function(){return S.a.createElement(S.a.Fragment,null,S.a.createElement(q.b.Body,null,S.a.createElement(h.Text,{size:"xl"},"This action will delete"," ",S.a.createElement(h.Text,{size:"xl",strong:!0,as:"span"},n.entry.name)," ","from the address book.")),S.a.createElement(q.b.Footer,null,S.a.createElement(q.b.Footer.Buttons,{cancelButtonProps:{onClick:r},confirmButtonProps:{color:"error",testId:"delete-entry-btn-id",text:"Delete"}})))})))},Oe=n(58),ve="name",ye="address",je=n(497),Ce=n(50),we=n(52),Se=n(291),ke=n(165),Be=n(502),Pe=C.default.div(s||(s=Object(g.a)(["\n  flex-direction: column;\n  justify-content: center;\n  margin: 24px;\n  align-items: center;\n  /* width: 200px;*/\n  min-height: 100px;\n  display: flex;\n"]))),Re=C.default.div(u||(u=Object(g.a)(["\n  background-color: ",";\n  flex-direction: column;\n  justify-content: center;\n  padding: 24px;\n  text-align: center;\n  margin-top: 16px;\n"])),(function(e){return e.theme.colors.background})),Te=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"],Ie=function(e){var t=e.importEntryModalHandler,n=e.isOpen,a=e.onClose,r=Object(w.useState)(!1),o=Object(p.a)(r,2),i=o[0],c=o[1],l=Object(w.useState)(""),d=Object(p.a)(l,2),s=d[0],u=d[1],m=Object(w.useState)([]),b=Object(p.a)(m,2),f=b[0],g=b[1],E=function(e){return Te.includes(e.type)?e.size>=1e6?"The size of the file is over 1 MB":void 0:"Only CSV files are allowed"},x=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(!n.data[0]||!n.data[1]||!n.data[2])return"Invalid amount of columns on row ".concat(t+1);var a=n.data[0].toLowerCase();if(!Object(Be.a)(a))return"Invalid address on row ".concat(t+1);if(isNaN(n.data[2]))return"Invalid chain id on row ".concat(t+1)}},O=function(){c(!1),g([]),u(""),a()};return S.a.createElement(q.b,{description:"Import address book",handleClose:O,open:n,title:"Import address book"},S.a.createElement(q.b.Header,{onClose:O},S.a.createElement(q.b.Header.Title,null,"Import address book")),S.a.createElement(q.b.Body,{withoutPadding:!0},S.a.createElement(Pe,null,S.a.createElement(ne.b,{onDrop:function(e,t){var n=e.slice(1),a=E(t);if(a)u(a);else{var r=x(n);if(r)u(r);else{var o=n.map((function(e){return{address:Object(we.a)(e.data[0]),name:e.data[1],chainId:parseInt(e.data[2])}}));g(o),u(""),c(!0)}}},onError:function(e){u(e.message)},addRemoveButton:!0,onRemoveFile:function(){c(!1),u("")},style:{dropArea:{borderColor:"#B2B5B2",borderRadius:8},dropAreaActive:{borderColor:"#008C73"},dropFile:{width:200,height:100,background:"#fff",boxShadow:"rgb(40 54 61 / 18%) 1px 2px 10px 0px",borderRadius:8},fileSizeInfo:{color:"#001428",lineHeight:1,position:"absolute",left:"10px",top:"12px"},fileNameInfo:{color:""===s?"#008C73":"#DB3A3D",backgroundColor:"#fff",fontSize:14,lineHeight:1.4,padding:"0 0.4em",margin:"1.2em 0 0.5em 0",maxHeight:"59px",overflow:"hidden"},progressBar:{backgroundColor:"#008C73"},removeButton:{color:"#DB3A3D"}}},S.a.createElement(h.Text,{size:"xl"},"Drop your CSV file here ",S.a.createElement("br",null),"or click to upload."))),S.a.createElement(Re,null,""!==s&&S.a.createElement(h.Text,{size:"xl",color:"error"},s),!i&&""===s&&S.a.createElement(h.Text,{color:"text",as:"p",size:"xl"},"Only CSV files exported from Gnosis Safe are allowed. ",S.a.createElement("br",null),S.a.createElement(le,null)),i&&""===s&&S.a.createElement(S.a.Fragment,null,S.a.createElement(h.Text,{size:"xl",as:"span"},"You're about to import"),S.a.createElement(h.Text,{size:"xl",strong:!0,as:"span"}," ".concat(f.length," entries to your address book"))))),S.a.createElement(q.b.Footer,null,S.a.createElement(q.b.Footer.Buttons,{cancelButtonProps:{onClick:function(){return O()}},confirmButtonProps:{color:"primary",disabled:!i||""!==s,onClick:function(){c(!1),t(f)},text:"Import"}})))},ze=Object(C.default)(h.Button)(m||(m=Object(g.a)(["\n  &&.MuiButton-root {\n    margin: 4px 12px 4px 0px;\n    padding: 0 12px;\n    min-width: auto;\n  }\n\n  svg {\n    margin: 0 6px 0 0;\n  }\n"]))),Ne=C.default.button(b||(b=Object(g.a)(["\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  outline-color: ",";\n  display: flex;\n  align-items: center;\n"])),(function(e){return e.theme.colors.icon})),He=Object(v.a)(R),Me=Object(T.h)(),Ae={entry:{address:"",name:"",chainId:Me,isNew:!0}};t.default=function(){var e,t,n=He(),a=function(){var e={id:ve,order:!1,disablePadding:!1,label:"Name",width:150,custom:!1,align:"left"},t={id:ye,order:!1,disablePadding:!1,label:"Address",custom:!1,align:"left"},n={id:"actions",order:!1,disablePadding:!1,label:"",custom:!0};return Object(Oe.a)([e,t,n])}(),r=a.filter((function(e){return!e.custom})),o=Object(k.e)(),i=Object(k.f)(Ce.s),c=Object(k.f)(Ce.a),l=Object(k.f)(L.c),d=Object(k.f)(Se.b),s=Object(w.useState)(Ae),u=Object(p.a)(s,2),m=u[0],b=u[1],g=Object(w.useState)(!1),v=Object(p.a)(g,2),y=v[0],C=v[1],B=Object(w.useState)(!1),P=Object(p.a)(B,2),R=P[0],V=P[1],W=Object(w.useState)(!1),q=Object(p.a)(W,2),Q=q[0],_=q[1],U=Object(w.useState)(!1),J=Object(p.a)(U,2),Y=J[0],G=J[1],K=Object(w.useState)(!1),X=Object(p.a)(K,2),$=X[0],Z=X[1],te=Object(ke.d)().trackEvent;Object(w.useEffect)((function(){te({category:ke.a,action:"AddressBook"})}),[te]),Object(w.useEffect)((function(){c&&C(!0)}),[c]),Object(w.useEffect)((function(){if(c){var e=Object(we.a)(c),t=l.findIndex((function(t){return Object(F.f)(t.address,e)}));b(t>=0?{entry:l[t],index:t}:{entry:{name:"",address:e,chainId:Me,isNew:!0}})}}),[l,c]);return S.a.createElement(S.a.Fragment,null,S.a.createElement(M.a,{align:"center",className:n.message},S.a.createElement(H.a,{end:"sm",xs:12},S.a.createElement(h.ButtonLink,{onClick:function(){b(Ae),G(!0)},color:"primary",iconType:"exportImg",iconSize:"sm",textSize:"xl"},"Export"),S.a.createElement(h.ButtonLink,{onClick:function(){V(!0)},color:"primary",iconType:"importImg",iconSize:"sm",textSize:"xl"},"Import"),S.a.createElement(h.ButtonLink,{onClick:function(){b(Ae),C(!0)},color:"primary",iconType:"add",iconSize:"sm",textSize:"xl"},"Create entry"))),S.a.createElement(N.a,{className:n.formContainer},S.a.createElement(x.a,null,S.a.createElement(I.a,{columns:a,data:l,defaultFixed:!0,defaultOrderBy:ve,defaultRowsPerPage:25,disableLoadingOnEmptyTable:!0,label:"Owners",size:(null===l||void 0===l?void 0:l.length)||0},(function(e){return e.map((function(t,a){var o=Object(F.c)(i,t.address),c=a>=3&&a===e.size-1&&n.noBorderBottom;return S.a.createElement(O.a,{className:j()(n.hide,c),"data-testid":"address-book-row",key:a,tabIndex:-1},r.map((function(e){return S.a.createElement(E.a,{align:e.align,component:"td",key:e.id,style:Object(z.a)(e.width)},e.id===ye?S.a.createElement(N.a,{justify:"left"},S.a.createElement(h.EthHashInfo,{hash:t[e.id],showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(T.c)(t[e.id])})):t[e.id])})),S.a.createElement(E.a,{component:"td"},S.a.createElement(M.a,{align:"end",className:n.actions},S.a.createElement(Ne,{onClick:function(){b({entry:t,isOwnerAddress:o}),C(!0)}},S.a.createElement(h.Icon,{size:"sm",type:"edit",tooltip:"Edit entry",className:d?n.editEntryButton:n.editEntryButtonNonOwner})),S.a.createElement(Ne,{onClick:function(){b({entry:t}),_(!0)}},S.a.createElement(h.Icon,{size:"sm",type:"delete",color:"error",tooltip:"Delete entry",className:d?n.removeEntryButton:n.removeEntryButtonNonOwner})),d?S.a.createElement(ze,{color:"primary",onClick:function(){b({entry:t}),Z(!0)},size:"md",variant:"contained","data-testid":"send-entry-btn"},S.a.createElement(h.FixedIcon,{type:"arrowSentWhite"}),S.a.createElement(h.Text,{size:"xl",color:"white"},"Send")):null)))}))})))),S.a.createElement(ee,{editEntryModalHandler:function(e){b(Ae),C(!1),o(Object(D.b)(Object(A.b)(Object(f.a)(Object(f.a)({},e),{},{address:Object(we.a)(e.address)}))))},entryToEdit:m,isOpen:y,newEntryModalHandler:function(e){C(!1),o(Object(D.b)(Object(A.b)(Object(f.a)(Object(f.a)({},e),{},{address:Object(we.a)(e.address)}))))},onClose:function(){return C(!1)}}),S.a.createElement(xe,{deleteEntryModalHandler:function(){b(Ae),_(!1),(null===m||void 0===m?void 0:m.entry)&&o(Object(D.d)(m.entry))},entryToDelete:m,isOpen:Q,onClose:function(){return _(!1)}}),S.a.createElement(Ee,{isOpen:Y,onClose:function(){return G(!1)}}),S.a.createElement(Ie,{importEntryModalHandler:function(e){o(Object(D.c)(e)),V(!1)},isOpen:R,onClose:function(){return V(!1)}}),S.a.createElement(je.a,{activeScreenType:"chooseTxType",isOpen:$,onClose:function(){return Z(!1)},recipientAddress:null===m||void 0===m||null===(e=m.entry)||void 0===e?void 0:e.address,recipientName:null===m||void 0===m||null===(t=m.entry)||void 0===t?void 0:t.name}))}}}]);
//# sourceMappingURL=41.6d12e456.chunk.js.map