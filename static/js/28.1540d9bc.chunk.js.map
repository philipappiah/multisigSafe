{"version":3,"sources":["components/forms/Field/index.tsx","components/forms/TextField/index.tsx","components/forms/GnoForm/index.tsx","assets/icons/qrcode.svg","components/ScanQRModal/style.ts","components/ScanQRModal/index.tsx","components/ScanQRModal/ScanQRWrapper/index.tsx","../node_modules/react-final-form-listeners/dist/react-final-form-listeners.es.js","routes/open/components/fields.ts","components/layout/Heading/index.tsx","components/forms/AddressInput/index.tsx","components/Stepper/OpenPaper/index.tsx","routes/open/utils/safeDataExtractor.ts","components/layout/Page/index.tsx","components/layout/Page/index.module.scss","components/layout/Heading/index.module.scss","routes/open/utils/padOwnerIndex.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js","../node_modules/@material-ui/icons/CheckCircle.js","../node_modules/@material-ui/icons/ChevronLeft.js","components/Stepper/Controls/index.tsx","components/Stepper/index.tsx","../node_modules/@material-ui/core/esm/StepContent/StepContent.js","routes/load/components/fields.ts","routes/load/components/DetailsForm/index.tsx","routes/load/components/OwnerList/styles.ts","routes/load/components/OwnerList/index.tsx","routes/load/components/ReviewInformation/styles.ts","routes/load/components/ReviewInformation/index.tsx","routes/load/components/Layout.tsx","routes/load/container/Load.tsx"],"names":["GnoField","props","overflowStyle","overflow","width","useStyles","makeStyles","createStyles","root","paddingTop","lg","paddingBottom","lineHeight","TextField","input","name","onChange","value","restInput","inputAdornment","meta","multiline","rows","testId","text","rest","classes","helperText","undefined","showError","touched","pristine","valid","hasError","error","modifiedSinceLastSubmit","submitError","errorMessage","isInactiveAndPristineOrUntouched","active","isInvalidAndUntouched","disableUnderline","inputRoot","statusClasses","inputProps","autoComplete","inputRootProps","className","InputProps","style","stylesBasedOn","padding","flexDirection","flex","GnoForm","children","decorators","formMutators","initialValues","onSubmit","subscription","validation","mutators","render","handleSubmit","data-testid","submitting","validating","form","validate","styles","heading","justifyContent","maxHeight","boxSizing","loaderContainer","height","close","color","secondaryText","detailsContainer","backgroundColor","background","buttonRow","button","marginLeft","sm","ScanQRModal","isOpen","onClose","onScan","useState","fileUploadModalOpen","setFileUploadModalOpen","setError","cameraBlocked","setCameraBlocked","scannerRef","React","openImageDialog","current","useEffect","onFileScannedResolve","successData","console","Modal","description","handleClose","open","title","Row","align","grow","Paragraph","noMargin","size","IconButton","disableRipple","onClick","Hairline","Col","layout","middle","Block","margin","legacyMode","onError","err","data","ref","facingMode","Button","minWidth","variant","qrCodeBtn","cursor","ScanQRWrapper","handleScan","qrModalOpen","setQrModalOpen","closeQrModal","alt","role","src","QRIcon","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_inheritsLoose","subClass","superClass","create","constructor","__proto__","Component","OnChangeState","_React$Component","_this","state","previous","_proto","componentDidUpdate","_this$props","setState","OnChange","_ref","createElement","Field","allowNull","FIELD_NAME","FIELD_CONFIRMATIONS","FIELD_SAFE_NAME","FIELD_CREATION_PROXY_SALT","getOwnerNameBy","index","padOwnerIndex","getOwnerAddressBy","getNumOwnersFrom","values","keys","sort","filter","test","cx","classNames","bind","Heading","tag","truncate","capitalize","AddressInput","placeholder","fieldMutator","validators","defaultValue","disabled","component","type","composeValidators","required","mustBeEthereumAddress","a","address","trimSpaces","isValidEnsName","isValidCryptoDomainName","getAddressFromDomain","resolverAddr","formattedAddress","checksumAddress","logError","Errors","_101","message","maxWidth","boxShadow","OpenPaper","controls","elevation","getByRegexFrom","regex","accounts","numOwners","map","account","slice","getAccountsFrom","getNamesFrom","getThresholdFrom","Number","confirmations","getSafeNameFrom","getSafeCreationSaltFrom","safeCreationSalt","Page","page","module","exports","toString","padStart","_objectDestructuringEmpty","obj","TypeError","_interopRequireDefault","require","_interopRequireWildcard","defineProperty","default","_default","d","controlStyle","borderRadius","firstButtonStyle","marginRight","fontWeight","boldFont","secondary","secondButtonStyle","Controls","next","buttonLabels","currentStep","firstPage","lastPage","onPrevious","penultimate","back","center","xs","transitionProps","timeout","enter","exit","StepperPage","pointerCursor","GnoStepper","setPage","setValues","getPageProps","pages","Children","toArray","updateInitialProps","useCallback","newInitialProps","formValues","activePageProps","prepareNextInitialProps","pageInitialProps","finalValues","Math","min","count","history","goBack","max","isLastPage","pageNumber","steps","disabledWhenValidating","activePage","restProps","getActivePageFrom","valuesToValidate","Stepper","activeStep","orientation","label","labelProps","StepLabel","StepContent","TransitionProps","alternativeLabel","expanded","completed","last","_props$TransitionComp","optional","TransitionComponent","Collapse","_props$transitionDura","transitionDuration","transitionDurationProp","other","_objectWithoutProperties","muiSupportAuto","clsx","in","transition","unmountOnExit","withStyles","theme","marginTop","paddingLeft","paddingRight","borderLeft","concat","palette","grey","FIELD_LOAD_NAME","FIELD_LOAD_ADDRESS","display","check","links","safeFieldsValidation","errors","getSafeInfo","catch","DetailsForm","validAddressBookName","val","setValue","noErrorsOn","endAdornment","InputAdornment","position","href","rel","DetailsPage","details","borderRight","border","owners","ownerName","marginBottom","screenSm","ownerAddresses","alignItems","md","owner","header","fontSize","extraSmallFontSize","calculateSafeValues","threshold","OwnerListComponent","setOwners","ownersWithNames","ownersList","addressBook","useSelector","addressBookSelector","formatAddressListToAddressBookNames","useAddressBookForOwnersNames","isCurrent","safeAddress","gnosisSafe","getGnosisSafeInstanceAt","methods","getOwners","safeOwners","getThreshold","sortedOwners","fetchSafe","TableContainer","initialValue","minMaxLength","hash","showAvatar","showCopyBtn","explorerUrl","getExplorerInfo","OwnerList","minHeight","detailsColumn","ownersColumn","textOverflow","container","ReviewComponent","userAddress","isOwner","checkIfUserAddressIsAnOwner","weight","shortenHash","Review","iconStyle","field","changeValue","Layout","onLoadSafeSubmit","provider","ReviewInformation","loadSafe","addSafe","buildSafe","safeProps","loadStoredSafes","storedSafes","saveSafes","Load","dispatch","useDispatch","providerNameSelector","userAccountSelector","addSafeHandler","safe","addOrUpdateSafe","isValidAddress","JSON","stringify","ownersNames","ownersAddresses","reduce","acc","newAddressBookEntry","makeAddressBookEntry","push","addressBookSafeLoad","url","SAFELIST_ADDRESS"],"mappings":"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","file":"static/js/28.1540d9bc.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Field } from 'react-final-form'\r\n\r\n// $FlowFixMe\r\nconst GnoField = ({ ...props }: any) => <Field {...props} />\r\n\r\nexport default GnoField\r\n","import MuiTextField from '@material-ui/core/TextField'\r\nimport { createStyles, makeStyles } from '@material-ui/core/styles'\r\nimport React from 'react'\r\n\r\nimport { lg } from 'src/theme/variables'\r\n\r\n// Neded for solving a fix in Windows browsers\r\nconst overflowStyle = {\r\n  overflow: 'hidden',\r\n  width: '100%',\r\n}\r\n\r\nconst styles = () =>\r\n  createStyles({\r\n    root: {\r\n      paddingTop: lg,\r\n      paddingBottom: '12px',\r\n      lineHeight: 0,\r\n    },\r\n  })\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\ntype Props = {\r\n  input: {\r\n    name: string\r\n    onChange?: () => void\r\n    value: string\r\n    placeholder: string\r\n    type: string\r\n  }\r\n  meta: {\r\n    touched?: boolean\r\n    pristine?: boolean\r\n    valid?: boolean\r\n    error?: string\r\n    modifiedSinceLastSubmit?: boolean\r\n    submitError?: boolean\r\n    active?: boolean\r\n  }\r\n  inputAdornment?: { endAdornment: React.ReactElement } | undefined\r\n  multiline: boolean\r\n  rows?: string\r\n  testId: string\r\n  text: string\r\n  disabled?: boolean\r\n  rowsMax?: number\r\n  className?: string\r\n}\r\n\r\nconst TextField = (props: Props): React.ReactElement => {\r\n  const {\r\n    input: { name, onChange, value, ...restInput },\r\n    inputAdornment,\r\n    meta,\r\n    multiline,\r\n    rows,\r\n    testId,\r\n    text,\r\n    ...rest\r\n  } = props\r\n  const classes = useStyles()\r\n  const helperText = value ? text : undefined\r\n  const showError = (meta.touched || !meta.pristine) && !meta.valid\r\n  const hasError = !!meta.error || (!meta.modifiedSinceLastSubmit && !!meta.submitError)\r\n  const errorMessage = meta.error || meta.submitError\r\n  const isInactiveAndPristineOrUntouched = !meta.active && (meta.pristine || !meta.touched)\r\n  const isInvalidAndUntouched = typeof meta.error === 'undefined' ? true : !meta.touched\r\n\r\n  const disableUnderline = isInactiveAndPristineOrUntouched && isInvalidAndUntouched\r\n\r\n  const inputRoot = helperText ? classes.root : ''\r\n  const statusClasses = meta.valid ? 'isValid' : hasError && showError ? 'isInvalid' : ''\r\n  const inputProps = {\r\n    ...restInput,\r\n    autoComplete: 'off',\r\n    'data-testid': testId,\r\n  }\r\n  const inputRootProps = {\r\n    ...inputAdornment,\r\n    className: `${inputRoot} ${statusClasses}`,\r\n    disableUnderline: disableUnderline,\r\n  }\r\n\r\n  return (\r\n    <MuiTextField\r\n      error={hasError && showError}\r\n      helperText={hasError && showError ? errorMessage : helperText || ' '}\r\n      inputProps={inputProps} // blank in order to force to have helper text\r\n      InputProps={inputRootProps}\r\n      multiline={multiline}\r\n      name={name}\r\n      onChange={onChange}\r\n      rows={rows}\r\n      style={overflowStyle}\r\n      value={value}\r\n      {...rest}\r\n    />\r\n  )\r\n}\r\n\r\nexport default TextField\r\n","import * as React from 'react'\r\nimport { Form } from 'react-final-form'\r\n\r\nconst stylesBasedOn = (padding) => ({\r\n  padding: `0 ${padding}%`,\r\n  flexDirection: 'column',\r\n  flex: '1 0 auto',\r\n})\r\n\r\nconst GnoForm = ({\r\n  children,\r\n  decorators,\r\n  formMutators,\r\n  initialValues,\r\n  onSubmit,\r\n  padding = 0,\r\n  subscription,\r\n  testId = '',\r\n  validation,\r\n}: any) => (\r\n  <Form\r\n    decorators={decorators}\r\n    initialValues={initialValues}\r\n    mutators={formMutators}\r\n    onSubmit={onSubmit}\r\n    render={({ handleSubmit, ...rest }) => (\r\n      <form data-testid={testId} onSubmit={handleSubmit} style={stylesBasedOn(padding) as any}>\r\n        {children(rest.submitting, rest.validating, rest, rest.form.mutators)}\r\n      </form>\r\n    )}\r\n    subscription={subscription}\r\n    validate={validation}\r\n  />\r\n)\r\n\r\nexport default GnoForm\r\n","export default __webpack_public_path__ + \"static/media/qrcode.f0b048aa.svg\";","import { background, lg, secondaryText, sm } from 'src/theme/variables'\r\nimport { createStyles } from '@material-ui/core'\r\n\r\nexport const styles = createStyles({\r\n  heading: {\r\n    padding: lg,\r\n    justifyContent: 'space-between',\r\n    maxHeight: '75px',\r\n    boxSizing: 'border-box',\r\n  },\r\n  loaderContainer: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  close: {\r\n    height: '25px',\r\n    width: '25px',\r\n    color: secondaryText,\r\n  },\r\n  detailsContainer: {\r\n    backgroundColor: background,\r\n    maxHeight: '450px',\r\n  },\r\n  buttonRow: {\r\n    height: '84px',\r\n    justifyContent: 'center',\r\n  },\r\n  button: {\r\n    '&:last-child': {\r\n      marginLeft: sm,\r\n    },\r\n  },\r\n})\r\n","import IconButton from '@material-ui/core/IconButton'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Close from '@material-ui/icons/Close'\r\nimport * as React from 'react'\r\nimport QrReader from 'react-qr-reader'\r\n\r\nimport { styles } from './style'\r\n\r\nimport Modal from 'src/components/Modal'\r\nimport Block from 'src/components/layout/Block'\r\nimport Button from 'src/components/layout/Button'\r\nimport Col from 'src/components/layout/Col'\r\nimport Hairline from 'src/components/layout/Hairline'\r\nimport Paragraph from 'src/components/layout/Paragraph'\r\nimport Row from 'src/components/layout/Row'\r\nimport { useEffect, useState } from 'react'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\ntype Props = {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n  onScan: (value: string) => void\r\n}\r\n\r\nexport const ScanQRModal = ({ isOpen, onClose, onScan }: Props): React.ReactElement => {\r\n  const classes = useStyles()\r\n  const [fileUploadModalOpen, setFileUploadModalOpen] = useState<boolean>(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [cameraBlocked, setCameraBlocked] = useState<boolean>(false)\r\n  const scannerRef: any = React.createRef()\r\n  const openImageDialog = React.useCallback(() => {\r\n    scannerRef.current.openImageDialog()\r\n  }, [scannerRef])\r\n\r\n  useEffect(() => {\r\n    if (!fileUploadModalOpen && cameraBlocked && !error) {\r\n      setFileUploadModalOpen(true)\r\n      openImageDialog()\r\n    }\r\n  }, [cameraBlocked, openImageDialog, fileUploadModalOpen, setFileUploadModalOpen, error])\r\n\r\n  const onFileScannedResolve = (error: Error | null, successData: string | null) => {\r\n    if (error) {\r\n      console.error('QR code error', error)\r\n\r\n      if (error.name === 'NotAllowedError' || error.name === 'PermissionDismissedError') {\r\n        setCameraBlocked(true)\r\n        setFileUploadModalOpen(false)\r\n      } else {\r\n        setError('The QR could not be read')\r\n      }\r\n      return\r\n    }\r\n\r\n    if (successData) {\r\n      onScan(successData)\r\n    } else if (cameraBlocked) {\r\n      setError('The QR could not be read')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal description=\"Receive Tokens Form\" handleClose={onClose} open={isOpen} title=\"Receive Tokens\">\r\n      <Row align=\"center\" className={classes.heading} grow>\r\n        <Paragraph noMargin size=\"xl\">\r\n          Scan QR\r\n        </Paragraph>\r\n        <IconButton disableRipple onClick={onClose}>\r\n          <Close className={classes.close} />\r\n        </IconButton>\r\n      </Row>\r\n      <Hairline />\r\n      <Col className={classes.detailsContainer} layout=\"column\" middle=\"xs\">\r\n        {error && (\r\n          <Block padding=\"md\" margin=\"md\">\r\n            {error}\r\n          </Block>\r\n        )}\r\n        <QrReader\r\n          legacyMode={cameraBlocked}\r\n          onError={(err: Error) => onFileScannedResolve(err, null)}\r\n          onScan={(data: string) => onFileScannedResolve(null, data)}\r\n          ref={scannerRef}\r\n          style={{ width: '400px', height: '400px' }}\r\n          facingMode=\"user\"\r\n        />\r\n      </Col>\r\n      <Hairline />\r\n      <Row align=\"center\" className={classes.buttonRow}>\r\n        <Button className={classes.button} color=\"secondary\" minWidth={154} onClick={onClose}>\r\n          Close\r\n        </Button>\r\n        <Button\r\n          className={classes.button}\r\n          color=\"primary\"\r\n          minWidth={154}\r\n          onClick={() => {\r\n            setCameraBlocked(true)\r\n            setError(null)\r\n            setFileUploadModalOpen(false)\r\n          }}\r\n          variant=\"contained\"\r\n        >\r\n          Upload an image\r\n        </Button>\r\n      </Row>\r\n    </Modal>\r\n  )\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles'\r\nimport React, { ReactElement, useState } from 'react'\r\n\r\nimport QRIcon from 'src/assets/icons/qrcode.svg'\r\nimport { ScanQRModal } from 'src/components/ScanQRModal'\r\nimport Img from 'src/components/layout/Img'\r\n\r\nconst useStyles = makeStyles({\r\n  qrCodeBtn: {\r\n    cursor: 'pointer',\r\n  },\r\n})\r\n\r\ntype Props = {\r\n  handleScan: (dataResult: string, closeQrModal: () => void) => void\r\n}\r\n\r\nexport const ScanQRWrapper = ({ handleScan }: Props): ReactElement => {\r\n  const classes = useStyles()\r\n  const [qrModalOpen, setQrModalOpen] = useState(false)\r\n\r\n  const openQrModal = () => {\r\n    setQrModalOpen(true)\r\n  }\r\n\r\n  const closeQrModal = () => {\r\n    setQrModalOpen(false)\r\n  }\r\n\r\n  const onScanFinished = (value: string) => {\r\n    handleScan(value, closeQrModal)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Img\r\n        alt=\"Scan QR\"\r\n        className={classes.qrCodeBtn}\r\n        height={20}\r\n        onClick={() => openQrModal()}\r\n        role=\"button\"\r\n        src={QRIcon}\r\n        testId=\"qr-icon\"\r\n      />\r\n      {qrModalOpen && <ScanQRModal isOpen={qrModalOpen} onClose={closeQrModal} onScan={onScanFinished} />}\r\n    </>\r\n  )\r\n}\r\n","import { createElement, Component } from 'react';\nimport { Field } from 'react-final-form';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar ExternallyChangedState =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(ExternallyChangedState, _React$Component);\n\n  function ExternallyChangedState(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.state = {\n      previous: props.input.value,\n      externallyChanged: false\n    };\n    return _this;\n  }\n\n  var _proto = ExternallyChangedState.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    var _this$props = this.props,\n        value = _this$props.input.value,\n        active = _this$props.meta.active;\n    var previous = this.state.previous;\n\n    if (value !== previous) {\n      this.setState({\n        previous: value,\n        externallyChanged: !active\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    return this.props.children(this.state.externallyChanged);\n  };\n\n  return ExternallyChangedState;\n}(Component);\n\nvar ExternallyChanged = function ExternallyChanged(_ref) {\n  var name = _ref.name,\n      children = _ref.children;\n  return createElement(Field, {\n    name: name,\n    subscription: {\n      active: true,\n      value: true\n    },\n    allowNull: true,\n    render: function render(props) {\n      return createElement(ExternallyChangedState, _extends({}, props, {\n        children: children\n      }));\n    }\n  });\n};\n\nvar OnBlurState =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(OnBlurState, _React$Component);\n\n  function OnBlurState(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.state = {\n      previous: !!props.meta.active\n    };\n    return _this;\n  }\n\n  var _proto = OnBlurState.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        active = _this$props.meta.active;\n    var previous = this.state.previous;\n\n    if (previous && !active) {\n      children();\n    }\n\n    if (previous !== active) {\n      this.setState({\n        previous: active\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return OnBlurState;\n}(Component);\n\nvar OnBlur = function OnBlur(_ref) {\n  var name = _ref.name,\n      children = _ref.children;\n  return createElement(Field, {\n    name: name,\n    subscription: {\n      active: true\n    },\n    render: function render(props) {\n      return createElement(OnBlurState, _extends({}, props, {\n        children: children\n      }));\n    }\n  });\n};\n\nvar OnChangeState =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(OnChangeState, _React$Component);\n\n  function OnChangeState(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.state = {\n      previous: props.input.value\n    };\n    return _this;\n  }\n\n  var _proto = OnChangeState.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        value = _this$props.input.value;\n    var previous = this.state.previous;\n\n    if (value !== previous) {\n      this.setState({\n        previous: value\n      });\n      children(value, previous);\n    }\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return OnChangeState;\n}(Component);\n\nvar OnChange = function OnChange(_ref) {\n  var name = _ref.name,\n      children = _ref.children;\n  return createElement(Field, {\n    name: name,\n    subscription: {\n      value: true\n    },\n    allowNull: true,\n    render: function render(props) {\n      return createElement(OnChangeState, _extends({}, props, {\n        children: children\n      }));\n    }\n  });\n};\n\nvar OnFocusState =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(OnFocusState, _React$Component);\n\n  function OnFocusState(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.state = {\n      previous: !!props.meta.active\n    };\n    return _this;\n  }\n\n  var _proto = OnFocusState.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        active = _this$props.meta.active;\n    var previous = this.state.previous;\n\n    if (active && !previous) {\n      this.setState({\n        previous: active\n      });\n      children();\n    } else if (!active && previous) {\n      this.setState({\n        previous: active\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return OnFocusState;\n}(Component);\n\nvar OnFocus = function OnFocus(_ref) {\n  var name = _ref.name,\n      children = _ref.children;\n  return createElement(Field, {\n    name: name,\n    subscription: {\n      active: true\n    },\n    render: function render(props) {\n      return createElement(OnFocusState, _extends({}, props, {\n        children: children\n      }));\n    }\n  });\n};\n\nexport { ExternallyChanged, OnBlur, OnChange, OnFocus };\n","import { LoadFormValues } from 'src/routes/load/container/Load'\r\nimport { padOwnerIndex } from 'src/routes/open/utils/padOwnerIndex'\r\nimport { CreateSafeValues } from 'src/routes/open/utils/safeDataExtractor'\r\n\r\nexport const FIELD_NAME = 'name'\r\nexport const FIELD_CONFIRMATIONS = 'confirmations'\r\nexport const FIELD_OWNERS = 'owners'\r\nexport const FIELD_SAFE_NAME = 'safeName'\r\nexport const FIELD_CREATION_PROXY_SALT = 'safeCreationSalt'\r\n\r\nexport const getOwnerNameBy = (index: number): string => `owner${padOwnerIndex(index)}Name`\r\nexport const getOwnerAddressBy = (index: number): string => `owner${padOwnerIndex(index)}Address`\r\n\r\nexport const getNumOwnersFrom = (values: CreateSafeValues | LoadFormValues): number => {\r\n  const accounts = Object.keys(values)\r\n    .sort()\r\n    .filter((key) => {\r\n      const res = /^owner\\d+Address$/.test(key)\r\n\r\n      return res && !!values[key]\r\n    })\r\n\r\n  return accounts.length\r\n}\r\n","import classNames from 'classnames/bind'\r\nimport * as React from 'react'\r\n\r\nimport styles from './index.module.scss'\r\n\r\nimport { capitalize } from 'src/utils/css'\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nconst Heading = (props) => {\r\n  const { align, children, className = '', color, margin, tag, testId, truncate, ...rest } = props\r\n\r\n  const classes = cx(className, 'heading', align, tag, margin ? capitalize(margin, 'margin') : undefined, color, {\r\n    truncate,\r\n  })\r\n\r\n  return React.createElement(tag, { ...rest, className: classes, 'data-testid': testId || '' }, children)\r\n}\r\n\r\nexport default Heading\r\n","import * as React from 'react'\r\nimport { Field } from 'react-final-form'\r\nimport { OnChange } from 'react-final-form-listeners'\r\n\r\nimport TextField from 'src/components/forms/TextField'\r\nimport { Validator, composeValidators, mustBeEthereumAddress, required } from 'src/components/forms/validator'\r\nimport { trimSpaces } from 'src/utils/strings'\r\nimport { getAddressFromDomain } from 'src/logic/wallets/getWeb3'\r\nimport { isValidEnsName, isValidCryptoDomainName } from 'src/logic/wallets/ethAddresses'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { Errors, logError } from 'src/logic/exceptions/CodedException'\r\n\r\n// an idea for second field was taken from here\r\n// https://github.com/final-form/react-final-form-listeners/blob/master/src/OnBlur.js\r\n\r\nexport interface AddressInputProps {\r\n  fieldMutator: (address: string) => void\r\n  name?: string\r\n  text?: string\r\n  placeholder?: string\r\n  inputAdornment?: { endAdornment: React.ReactElement } | undefined\r\n  testId: string\r\n  validators?: Validator[]\r\n  defaultValue?: string\r\n  disabled?: boolean\r\n  className?: string\r\n}\r\n\r\nconst AddressInput = ({\r\n  className = '',\r\n  name = 'recipientAddress',\r\n  text = 'Recipient*',\r\n  placeholder = 'Recipient*',\r\n  fieldMutator,\r\n  testId,\r\n  inputAdornment,\r\n  validators = [],\r\n  defaultValue,\r\n  disabled,\r\n}: AddressInputProps): React.ReactElement => (\r\n  <>\r\n    <Field\r\n      className={className}\r\n      component={TextField as any}\r\n      defaultValue={defaultValue}\r\n      disabled={disabled}\r\n      inputAdornment={inputAdornment}\r\n      name={name}\r\n      placeholder={placeholder}\r\n      testId={testId}\r\n      text={text}\r\n      type=\"text\"\r\n      validate={composeValidators(required, mustBeEthereumAddress, ...validators)}\r\n    />\r\n    <OnChange name={name}>\r\n      {async (value: string) => {\r\n        const address = trimSpaces(value)\r\n        if (isValidEnsName(address) || isValidCryptoDomainName(address)) {\r\n          try {\r\n            const resolverAddr = await getAddressFromDomain(address)\r\n            const formattedAddress = checksumAddress(resolverAddr)\r\n            fieldMutator(formattedAddress)\r\n          } catch (err) {\r\n            logError(Errors._101, err.message)\r\n          }\r\n        }\r\n      }}\r\n    </OnChange>\r\n  </>\r\n)\r\n\r\nexport default AddressInput\r\n","import Paper from '@material-ui/core/Paper'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport * as React from 'react'\r\n\r\nimport Block from 'src/components/layout/Block'\r\nimport { lg } from 'src/theme/variables'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    margin: '10px 0 10px 10px',\r\n    maxWidth: '770px',\r\n    boxShadow: '0 0 10px 0 rgba(33,48,77,0.10)',\r\n  },\r\n  padding: {\r\n    padding: lg,\r\n  },\r\n})\r\n\r\ninterface Props {\r\n  padding?: boolean\r\n  controls: React.ReactNode\r\n}\r\n\r\nconst OpenPaper: React.FC<Props> = ({ children, controls, padding = true }) => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <Paper className={classes.root} elevation={1}>\r\n      <Block className={padding ? classes.padding : ''}>{children}</Block>\r\n      {controls}\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default OpenPaper\r\n","import { LoadFormValues } from 'src/routes/load/container/Load'\r\nimport { getNumOwnersFrom } from 'src/routes/open/components/fields'\r\n\r\nexport type CreateSafeValues = {\r\n  confirmations: string\r\n  name: string\r\n  owner0Address?: string\r\n  owner0Name?: string\r\n  safeCreationSalt: number\r\n  gasLimit?: number\r\n  owners?: number | string\r\n}\r\n\r\nconst getByRegexFrom = (regex: RegExp) => (values: CreateSafeValues | LoadFormValues): string[] => {\r\n  const accounts = Object.keys(values)\r\n    .sort()\r\n    .filter((key) => regex.test(key))\r\n\r\n  const numOwners = getNumOwnersFrom(values)\r\n  return accounts.map((account) => values[account]).slice(0, numOwners)\r\n}\r\n\r\nexport const getAccountsFrom = getByRegexFrom(/^owner\\d+Address$/)\r\n\r\nexport const getNamesFrom = getByRegexFrom(/^owner\\d+Name$/)\r\n\r\nexport const getThresholdFrom = (values: CreateSafeValues): number => Number(values.confirmations)\r\n\r\nexport const getSafeNameFrom = (values: CreateSafeValues): string => values.name\r\n\r\nexport const getSafeCreationSaltFrom = (values: CreateSafeValues): number => values.safeCreationSalt\r\n","import classNames from 'classnames/bind'\r\nimport React from 'react'\r\n\r\nimport styles from './index.module.scss'\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nconst Page = ({ align, children, overflow }: any) => (\r\n  <main className={cx(styles.page, align, { overflow })}>{children}</main>\r\n)\r\n\r\nexport default Page\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Page_page__Zqhwv\",\"center\":\"Page_center__JSSxQ\",\"overflow\":\"Page_overflow__21B4j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heading\":\"Heading_heading__1kulm\",\"h1\":\"Heading_h1__80Cwi\",\"h2\":\"Heading_h2__2onFG\",\"h3\":\"Heading_h3__Sh3ak\",\"h4\":\"Heading_h4__20iR2\",\"center\":\"Heading_center__1Nck5\",\"right\":\"Heading_right__3RAhl\",\"truncate\":\"Heading_truncate__32_2T\",\"marginSm\":\"Heading_marginSm__2g6oz\",\"marginMd\":\"Heading_marginMd__1R4ww\",\"marginLg\":\"Heading_marginLg__3egwb\",\"marginXl\":\"Heading_marginXl__3saYd\",\"soft\":\"Heading_soft__U23-0\",\"medium\":\"Heading_medium__T5cU-\",\"dark\":\"Heading_dark__2HTrR\",\"fancy\":\"Heading_fancy__1opTo\",\"warning\":\"Heading_warning__3Bh_S\",\"primary\":\"Heading_primary__3K9By\",\"secondary\":\"Heading_secondary__IEaLO\",\"disabled\":\"Heading_disabled__3Rs0p\",\"error\":\"Heading_error__LFDiU\",\"white\":\"Heading_white__j6Vyr\"};","export const padOwnerIndex = (index: number | string): string => {\r\n  return index.toString().padStart(4, '0')\r\n}\r\n","export default function _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckCircle');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'ChevronLeft');\n\nexports.default = _default;","import * as React from 'react'\r\n\r\nimport Button from 'src/components/layout/Button'\r\nimport Col from 'src/components/layout/Col'\r\nimport Row from 'src/components/layout/Row'\r\nimport { boldFont, sm, lg, secondary } from 'src/theme/variables'\r\n\r\nconst controlStyle = {\r\n  backgroundColor: 'white',\r\n  padding: lg,\r\n  borderRadius: sm,\r\n}\r\n\r\nconst firstButtonStyle = {\r\n  marginRight: sm,\r\n  fontWeight: boldFont,\r\n  color: secondary,\r\n}\r\n\r\nconst secondButtonStyle = {\r\n  fontWeight: boldFont,\r\n}\r\n\r\ninterface Props {\r\n  buttonLabels?: string[]\r\n  currentStep: number\r\n  disabled: boolean\r\n  firstPage: boolean\r\n  lastPage: boolean\r\n  penultimate: boolean\r\n  onPrevious: () => void\r\n}\r\n\r\nconst Controls = ({\r\n  buttonLabels,\r\n  currentStep,\r\n  disabled,\r\n  firstPage,\r\n  lastPage,\r\n  onPrevious,\r\n  penultimate,\r\n}: Props): React.ReactElement => {\r\n  const back = firstPage ? 'Cancel' : 'Back'\r\n\r\n  let next\r\n  if (!buttonLabels) {\r\n    // eslint-disable-next-line\r\n    next = firstPage ? 'Start' : penultimate ? 'Review' : lastPage ? 'Submit' : 'Next'\r\n  } else {\r\n    next = buttonLabels[currentStep]\r\n  }\r\n\r\n  return (\r\n    <Row align=\"center\" grow style={controlStyle}>\r\n      <Col center=\"xs\" xs={12}>\r\n        <Button onClick={onPrevious} size=\"small\" style={firstButtonStyle} type=\"button\">\r\n          {back}\r\n        </Button>\r\n        <Button\r\n          color=\"primary\"\r\n          disabled={disabled}\r\n          size=\"small\"\r\n          style={secondButtonStyle}\r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n        >\r\n          {next}\r\n        </Button>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Controls\r\n","import FormStep from '@material-ui/core/Step'\r\nimport StepContent from '@material-ui/core/StepContent'\r\nimport StepLabel from '@material-ui/core/StepLabel'\r\nimport Stepper from '@material-ui/core/Stepper'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport React, { useCallback, useEffect, useState } from 'react'\r\nimport { FormApi } from 'final-form'\r\n\r\nimport Controls from './Controls'\r\n\r\nimport GnoForm from 'src/components/forms/GnoForm'\r\nimport Hairline from 'src/components/layout/Hairline'\r\nimport { history } from 'src/store'\r\nimport { LoadFormValues } from 'src/routes/load/container/Load'\r\n\r\nconst transitionProps = {\r\n  timeout: {\r\n    enter: 350,\r\n    exit: 0,\r\n  },\r\n}\r\n\r\nexport interface StepperPageFormProps {\r\n  values: LoadFormValues\r\n  errors: Record<string, string>\r\n  form: FormApi\r\n}\r\n\r\ninterface StepperPageProps {\r\n  validate?: (...args: unknown[]) => undefined | Record<string, string> | Promise<undefined | Record<string, string>>\r\n  component: (\r\n    ...args: unknown[]\r\n  ) => (controls: React.ReactElement, formProps: StepperPageFormProps) => React.ReactElement\r\n  [key: string]: unknown\r\n}\r\n\r\n// TODO: Remove this magic\r\n/* eslint-disable */\r\n// @ts-ignore\r\nexport const StepperPage = ({}: StepperPageProps): null => null\r\n/* eslint-enable */\r\n\r\ntype StepperFormValues = Record<string, string>\r\n\r\ninterface Mutators {\r\n  [key: string]: (...args: unknown[]) => void\r\n}\r\n\r\ninterface GnoStepperProps<V = StepperFormValues> {\r\n  initialValues?: Partial<V>\r\n  onSubmit: (formValues: V) => void\r\n  steps: string[]\r\n  buttonLabels?: string[]\r\n  children: React.ReactNode\r\n  disabledWhenValidating?: boolean\r\n  mutators?: Mutators\r\n  testId?: string\r\n}\r\n\r\nfunction GnoStepper<V>(props: GnoStepperProps<V>): React.ReactElement {\r\n  const [page, setPage] = useState(0)\r\n  const [values, setValues] = useState({})\r\n  const classes = useStyles()\r\n\r\n  useEffect(() => {\r\n    if (props.initialValues) {\r\n      setValues(props.initialValues)\r\n    }\r\n  }, [props.initialValues])\r\n\r\n  const getPageProps: any = (pages) => {\r\n    const aux: any = React.Children.toArray(pages)[page]\r\n    return aux.props\r\n  }\r\n\r\n  const updateInitialProps = useCallback((newInitialProps) => {\r\n    setValues(newInitialProps)\r\n  }, [])\r\n\r\n  const getActivePageFrom = (pages) => {\r\n    const activePageProps = getPageProps(pages)\r\n    const { component, ...restProps } = activePageProps\r\n\r\n    return component({ ...restProps, updateInitialProps })\r\n  }\r\n\r\n  const validate = (valuesToValidate) => {\r\n    const { children } = props\r\n\r\n    const activePage: any = React.Children.toArray(children)[page]\r\n    return activePage.props.validate ? activePage.props.validate(valuesToValidate) : {}\r\n  }\r\n\r\n  const next = async (formValues) => {\r\n    const { children } = props\r\n    const activePageProps = getPageProps(children)\r\n    const { prepareNextInitialProps } = activePageProps\r\n\r\n    let pageInitialProps\r\n    if (prepareNextInitialProps) {\r\n      pageInitialProps = await prepareNextInitialProps(formValues)\r\n    }\r\n\r\n    const finalValues = { ...formValues, ...pageInitialProps }\r\n\r\n    setValues(finalValues)\r\n    setPage(Math.min(page + 1, React.Children.count(children) - 1))\r\n  }\r\n\r\n  const previous = () => {\r\n    const firstPage = page === 0\r\n    if (firstPage) {\r\n      return history.goBack()\r\n    }\r\n\r\n    return setPage(Math.max(page - 1, 0))\r\n  }\r\n\r\n  const handleSubmit = async (formValues) => {\r\n    const { children, onSubmit } = props\r\n    const isLastPage = page === React.Children.count(children) - 1\r\n    if (isLastPage) {\r\n      return onSubmit(formValues)\r\n    }\r\n\r\n    return next(formValues)\r\n  }\r\n\r\n  const isLastPage = (pageNumber: number): boolean => {\r\n    const { steps } = props\r\n    return pageNumber === steps.length - 1\r\n  }\r\n\r\n  const { buttonLabels, children, disabledWhenValidating = false, mutators, steps, testId } = props\r\n  const activePage = getActivePageFrom(children)\r\n\r\n  const lastPage = isLastPage(page)\r\n  const penultimate = isLastPage(page + 1)\r\n\r\n  return (\r\n    <>\r\n      <GnoForm\r\n        formMutators={mutators}\r\n        initialValues={values}\r\n        onSubmit={handleSubmit}\r\n        testId={testId}\r\n        validation={validate}\r\n      >\r\n        {(submitting, validating, ...rest) => {\r\n          const disabled = disabledWhenValidating ? submitting || validating : submitting\r\n          const controls = (\r\n            <>\r\n              <Hairline />\r\n              <Controls\r\n                buttonLabels={buttonLabels}\r\n                currentStep={page}\r\n                disabled={disabled}\r\n                firstPage={page === 0}\r\n                lastPage={lastPage}\r\n                onPrevious={previous}\r\n                penultimate={penultimate}\r\n              />\r\n            </>\r\n          )\r\n\r\n          return (\r\n            <Stepper activeStep={page} classes={{ root: classes.root }} orientation=\"vertical\">\r\n              {steps.map((label, index) => {\r\n                const labelProps: any = {}\r\n                const isClickable = index < page\r\n\r\n                if (isClickable) {\r\n                  labelProps.onClick = () => {\r\n                    setPage(index)\r\n                  }\r\n                  labelProps.className = classes.pointerCursor\r\n                }\r\n\r\n                return (\r\n                  <FormStep key={label}>\r\n                    <StepLabel {...labelProps}>{label}</StepLabel>\r\n                    <StepContent TransitionProps={transitionProps}>{activePage(controls, ...rest)}</StepContent>\r\n                  </FormStep>\r\n                )\r\n              })}\r\n            </Stepper>\r\n          )\r\n        }}\r\n      </GnoForm>\r\n    </>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    flex: '1 1 auto',\r\n    backgroundColor: 'transparent',\r\n  },\r\n  pointerCursor: {\r\n    '& > .MuiStepLabel-iconContainer': {\r\n      cursor: 'pointer',\r\n    },\r\n    '& > .MuiStepLabel-labelContainer': {\r\n      cursor: 'pointer',\r\n    },\r\n  },\r\n})\r\n\r\nexport default GnoStepper\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Collapse from '../Collapse';\nimport withStyles from '../styles/withStyles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      marginTop: 8,\n      marginLeft: 12,\n      // half icon\n      paddingLeft: 8 + 12,\n      // margin + half icon\n      paddingRight: 8,\n      borderLeft: \"1px solid \".concat(theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[600])\n    },\n\n    /* Styles applied to the root element if `last={true}` (controlled by `Step`). */\n    last: {\n      borderLeft: 'none'\n    },\n\n    /* Styles applied to the Transition component. */\n    transition: {}\n  };\n};\nvar StepContent = /*#__PURE__*/React.forwardRef(function StepContent(props, ref) {\n  var active = props.active,\n      alternativeLabel = props.alternativeLabel,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      completed = props.completed,\n      expanded = props.expanded,\n      last = props.last,\n      optional = props.optional,\n      orientation = props.orientation,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Collapse : _props$TransitionComp,\n      _props$transitionDura = props.transitionDuration,\n      transitionDurationProp = _props$transitionDura === void 0 ? 'auto' : _props$transitionDura,\n      TransitionProps = props.TransitionProps,\n      other = _objectWithoutProperties(props, [\"active\", \"alternativeLabel\", \"children\", \"classes\", \"className\", \"completed\", \"expanded\", \"last\", \"optional\", \"orientation\", \"TransitionComponent\", \"transitionDuration\", \"TransitionProps\"]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (orientation !== 'vertical') {\n      console.error('Material-UI: <StepContent /> is only designed for use with the vertical stepper.');\n    }\n  }\n\n  var transitionDuration = transitionDurationProp;\n\n  if (transitionDurationProp === 'auto' && !TransitionComponent.muiSupportAuto) {\n    transitionDuration = undefined;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, last && classes.last),\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    in: active || expanded,\n    className: classes.transition,\n    timeout: transitionDuration,\n    unmountOnExit: true\n  }, TransitionProps), children));\n});\nprocess.env.NODE_ENV !== \"production\" ? StepContent.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Step content.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the transition.\n   * [Follow this guide](/components/transitions/#transitioncomponent-prop) to learn more about the requirements for this component.\n   */\n  TransitionComponent: PropTypes.elementType,\n\n  /**\n   * Adjust the duration of the content expand transition.\n   * Passed as a prop to the transition component.\n   *\n   * Set to 'auto' to automatically calculate transition time based on height.\n   */\n  transitionDuration: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })]),\n\n  /**\n   * Props applied to the [`Transition`](http://reactcommunity.org/react-transition-group/transition#Transition-props) element.\n   */\n  TransitionProps: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiStepContent'\n})(StepContent);","export const FIELD_LOAD_NAME = 'name'\r\nexport const FIELD_LOAD_ADDRESS = 'address'\r\nexport const THRESHOLD = 'threshold'\r\n","import InputAdornment from '@material-ui/core/InputAdornment'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport CheckCircle from '@material-ui/icons/CheckCircle'\r\nimport React, { ReactElement, ReactNode } from 'react'\r\nimport { FormApi } from 'final-form'\r\n\r\nimport { ScanQRWrapper } from 'src/components/ScanQRModal/ScanQRWrapper'\r\nimport OpenPaper from 'src/components/Stepper/OpenPaper'\r\nimport { StepperPageFormProps } from 'src/components/Stepper'\r\nimport AddressInput from 'src/components/forms/AddressInput'\r\nimport Field from 'src/components/forms/Field'\r\nimport TextField from 'src/components/forms/TextField'\r\nimport {\r\n  mustBeEthereumAddress,\r\n  noErrorsOn,\r\n  required,\r\n  composeValidators,\r\n  validAddressBookName,\r\n} from 'src/components/forms/validator'\r\nimport Block from 'src/components/layout/Block'\r\nimport Col from 'src/components/layout/Col'\r\nimport Paragraph from 'src/components/layout/Paragraph'\r\nimport { FIELD_LOAD_ADDRESS, FIELD_LOAD_NAME } from 'src/routes/load/components/fields'\r\nimport { secondary } from 'src/theme/variables'\r\nimport { getSafeInfo } from 'src/logic/safe/utils/safeInformation'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    display: 'flex',\r\n    maxWidth: '460px',\r\n    marginTop: '12px',\r\n  },\r\n  check: {\r\n    color: '#03AE60',\r\n    height: '20px',\r\n  },\r\n  links: {\r\n    '&>a': {\r\n      color: secondary,\r\n    },\r\n  },\r\n})\r\n\r\nexport const SAFE_ADDRESS_NOT_VALID = 'Address given is not a valid Safe address'\r\n\r\n// In case of an error here, it will be swallowed by final-form\r\n// So if you're experiencing any strang behaviours like freeze or hanging\r\n// Don't mind to check if everything is OK inside this function :)\r\nexport const safeFieldsValidation = async (values): Promise<Record<string, string>> => {\r\n  const errors = {}\r\n  const address = values[FIELD_LOAD_ADDRESS]\r\n\r\n  if (!address || mustBeEthereumAddress(address) !== undefined) {\r\n    return errors\r\n  }\r\n\r\n  // If getSafeInfo does not provide data, it's not a valid safe.\r\n  const safeInfo = await getSafeInfo(address).catch(() => null)\r\n  if (!safeInfo) {\r\n    errors[FIELD_LOAD_ADDRESS] = SAFE_ADDRESS_NOT_VALID\r\n  }\r\n\r\n  return errors\r\n}\r\n\r\ninterface DetailsFormProps {\r\n  errors: Record<string, string>\r\n  form: FormApi\r\n}\r\n\r\nconst DetailsForm = ({ errors, form }: DetailsFormProps): ReactElement => {\r\n  const classes = useStyles()\r\n\r\n  const handleScan = (value: string, closeQrModal: () => void): void => {\r\n    form.mutators.setValue(FIELD_LOAD_ADDRESS, value)\r\n    closeQrModal()\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Block margin=\"md\">\r\n        <Paragraph color=\"primary\" noMargin size=\"md\">\r\n          You are about to add an existing Gnosis Safe. First, choose a name and enter the Safe address. The name is\r\n          only stored locally and will never be shared with Gnosis or any third parties.\r\n          <br />\r\n          Your connected wallet does not have to be the owner of this Safe. In this case, the interface will provide you\r\n          a read-only view.\r\n        </Paragraph>\r\n      </Block>\r\n      <Block className={classes.root}>\r\n        <Col xs={11}>\r\n          <Field\r\n            component={TextField}\r\n            name={FIELD_LOAD_NAME}\r\n            placeholder=\"Name of the Safe*\"\r\n            text=\"Safe name\"\r\n            type=\"text\"\r\n            validate={composeValidators(required, validAddressBookName)}\r\n            testId=\"load-safe-name-field\"\r\n          />\r\n        </Col>\r\n      </Block>\r\n      <Block className={classes.root} margin=\"lg\">\r\n        <Col xs={11}>\r\n          <AddressInput\r\n            fieldMutator={(val) => {\r\n              form.mutators.setValue(FIELD_LOAD_ADDRESS, val)\r\n            }}\r\n            // eslint-disable-next-line\r\n            // @ts-ignore\r\n            inputAdornment={\r\n              noErrorsOn(FIELD_LOAD_ADDRESS, errors) && {\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <CheckCircle className={classes.check} data-testid=\"valid-address\" />\r\n                  </InputAdornment>\r\n                ),\r\n              }\r\n            }\r\n            name={FIELD_LOAD_ADDRESS}\r\n            placeholder=\"Safe Address*\"\r\n            text=\"Safe Address\"\r\n            testId=\"load-safe-address-field\"\r\n          />\r\n        </Col>\r\n        <Col center=\"xs\" className={classes} middle=\"xs\" xs={1}>\r\n          <ScanQRWrapper handleScan={handleScan} />\r\n        </Col>\r\n      </Block>\r\n      <Block margin=\"sm\">\r\n        <Paragraph className={classes.links} color=\"primary\" noMargin size=\"md\">\r\n          By continuing you consent to the{' '}\r\n          <a href=\"https://gnosis-safe.io/terms\" rel=\"noopener noreferrer\" target=\"_blank\">\r\n            terms of use\r\n          </a>{' '}\r\n          and{' '}\r\n          <a href=\"https://gnosis-safe.io/privacy\" rel=\"noopener noreferrer\" target=\"_blank\">\r\n            privacy policy\r\n          </a>\r\n          .\r\n        </Paragraph>\r\n      </Block>\r\n    </>\r\n  )\r\n}\r\n\r\nconst DetailsPage = () =>\r\n  function LoadSafeDetails(controls: ReactNode, { errors, form }: StepperPageFormProps): ReactElement {\r\n    return (\r\n      <OpenPaper controls={controls}>\r\n        <DetailsForm errors={errors} form={form} />\r\n      </OpenPaper>\r\n    )\r\n  }\r\n\r\nexport default DetailsPage\r\n","import { border, disabled, extraSmallFontSize, lg, md, screenSm, sm } from 'src/theme/variables'\r\nimport { createStyles } from '@material-ui/core'\r\n\r\nexport const styles = createStyles({\r\n  details: {\r\n    padding: lg,\r\n    borderRight: `solid 1px ${border}`,\r\n    height: '100%',\r\n  },\r\n  owners: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-start',\r\n  },\r\n  ownerName: {\r\n    marginBottom: '15px',\r\n    minWidth: '100%',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      marginBottom: '0',\r\n      minWidth: '0',\r\n    },\r\n  },\r\n  ownerAddresses: {\r\n    alignItems: 'center',\r\n    marginLeft: `${sm}`,\r\n  },\r\n  open: {\r\n    paddingLeft: sm,\r\n    width: 'auto',\r\n    '&:hover': {\r\n      cursor: 'pointer',\r\n    },\r\n  },\r\n  title: {\r\n    padding: `${md} ${lg}`,\r\n  },\r\n  owner: {\r\n    padding: `0 ${lg}`,\r\n    marginBottom: '12px',\r\n  },\r\n  header: {\r\n    padding: `${sm} ${lg}`,\r\n    color: disabled,\r\n    fontSize: extraSmallFontSize,\r\n  },\r\n  name: {\r\n    marginRight: `${sm}`,\r\n  },\r\n})\r\n","import { EthHashInfo } from '@gnosis.pm/safe-react-components'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TableContainer from '@material-ui/core/TableContainer'\r\nimport React, { ReactElement, ReactNode, useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport { getExplorerInfo } from 'src/config'\r\nimport Field from 'src/components/forms/Field'\r\nimport TextField from 'src/components/forms/TextField'\r\nimport { minMaxLength } from 'src/components/forms/validator'\r\nimport Block from 'src/components/layout/Block'\r\nimport Col from 'src/components/layout/Col'\r\nimport Hairline from 'src/components/layout/Hairline'\r\nimport Paragraph from 'src/components/layout/Paragraph'\r\nimport Row from 'src/components/layout/Row'\r\nimport OpenPaper from 'src/components/Stepper/OpenPaper'\r\nimport { AddressBookEntry } from 'src/logic/addressBook/model/addressBook'\r\nimport { addressBookSelector } from 'src/logic/addressBook/store/selectors'\r\n\r\nimport { formatAddressListToAddressBookNames } from 'src/logic/addressBook/utils'\r\nimport { getGnosisSafeInstanceAt } from 'src/logic/contracts/safeContracts'\r\nimport { FIELD_LOAD_ADDRESS, THRESHOLD } from 'src/routes/load/components/fields'\r\nimport { getOwnerAddressBy, getOwnerNameBy } from 'src/routes/open/components/fields'\r\nimport { styles } from './styles'\r\nimport { LoadFormValues } from 'src/routes/load/container/Load'\r\n\r\nconst calculateSafeValues = (owners, threshold, values) => {\r\n  const initialValues = { ...values }\r\n  for (let i = 0; i < owners.length; i += 1) {\r\n    initialValues[getOwnerAddressBy(i)] = owners[i]\r\n  }\r\n  initialValues[THRESHOLD] = threshold\r\n  return initialValues\r\n}\r\n\r\nconst useAddressBookForOwnersNames = (ownersList: string[]): AddressBookEntry[] => {\r\n  const addressBook = useSelector(addressBookSelector)\r\n\r\n  return formatAddressListToAddressBookNames(addressBook, ownersList)\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\ninterface OwnerListComponentProps {\r\n  values: LoadFormValues\r\n  updateInitialProps: (initialValues) => void\r\n}\r\n\r\nconst OwnerListComponent = ({ values, updateInitialProps }: OwnerListComponentProps): ReactElement => {\r\n  const [owners, setOwners] = useState<string[]>([])\r\n  const classes = useStyles()\r\n\r\n  const ownersWithNames = useAddressBookForOwnersNames(owners)\r\n\r\n  useEffect(() => {\r\n    let isCurrent = true\r\n\r\n    const fetchSafe = async () => {\r\n      const safeAddress = values[FIELD_LOAD_ADDRESS]\r\n      const gnosisSafe = getGnosisSafeInstanceAt(safeAddress)\r\n      const safeOwners = await gnosisSafe.methods.getOwners().call()\r\n      const threshold = await gnosisSafe.methods.getThreshold().call()\r\n\r\n      if (isCurrent) {\r\n        const sortedOwners = safeOwners.slice().sort()\r\n        const initialValues = calculateSafeValues(sortedOwners, threshold, values)\r\n        updateInitialProps(initialValues)\r\n        setOwners(sortedOwners)\r\n      }\r\n    }\r\n\r\n    fetchSafe()\r\n\r\n    return () => {\r\n      isCurrent = false\r\n    }\r\n  }, [updateInitialProps, values])\r\n\r\n  return (\r\n    <>\r\n      <Block className={classes.title}>\r\n        <Paragraph color=\"primary\" noMargin size=\"md\" data-testid=\"load-safe-step-two\">\r\n          {`This Safe has ${owners.length} owners. Optional: Provide a name for each owner.`}\r\n        </Paragraph>\r\n      </Block>\r\n      <Hairline />\r\n      <TableContainer>\r\n        <Row className={classes.header}>\r\n          <Col xs={4}>NAME</Col>\r\n          <Col xs={8}>ADDRESS</Col>\r\n        </Row>\r\n        <Hairline />\r\n        <Block margin=\"md\" padding=\"md\">\r\n          {ownersWithNames.map(({ address, name }, index) => {\r\n            return (\r\n              <Row className={classes.owner} key={address} data-testid=\"owner-row\">\r\n                <Col className={classes.ownerName} xs={4}>\r\n                  <Field\r\n                    className={classes.name}\r\n                    component={TextField}\r\n                    initialValue={name}\r\n                    name={getOwnerNameBy(index)}\r\n                    placeholder=\"Owner Name\"\r\n                    text=\"Owner Name\"\r\n                    type=\"text\"\r\n                    validate={minMaxLength(0, 50)}\r\n                    testId={`load-safe-owner-name-${index}`}\r\n                  />\r\n                </Col>\r\n                <Col xs={8}>\r\n                  <Row className={classes.ownerAddresses}>\r\n                    <EthHashInfo hash={address} showAvatar showCopyBtn explorerUrl={getExplorerInfo(address)} />\r\n                  </Row>\r\n                </Col>\r\n              </Row>\r\n            )\r\n          })}\r\n        </Block>\r\n      </TableContainer>\r\n    </>\r\n  )\r\n}\r\n\r\nconst OwnerList = ({ updateInitialProps }) =>\r\n  function LoadSafeOwnerList(controls: ReactNode, { values }: { values: LoadFormValues }): ReactElement {\r\n    return (\r\n      <OpenPaper controls={controls} padding={false}>\r\n        <OwnerListComponent updateInitialProps={updateInitialProps} values={values} />\r\n      </OpenPaper>\r\n    )\r\n  }\r\n\r\nexport default OwnerList\r\n","import { makeStyles } from '@material-ui/core/styles'\r\nimport { border, lg, screenSm, sm, xs } from 'src/theme/variables'\r\n\r\nexport const useStyles = makeStyles({\r\n  root: {\r\n    flexDirection: 'column',\r\n    minHeight: '300px',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      flexDirection: 'row',\r\n    },\r\n  },\r\n  detailsColumn: {\r\n    minWidth: '100%',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      minWidth: '0',\r\n    },\r\n  },\r\n  ownersColumn: {\r\n    minWidth: '100%',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      minWidth: '0',\r\n    },\r\n  },\r\n  details: {\r\n    padding: lg,\r\n    borderRight: `solid 1px ${border}`,\r\n    height: '100%',\r\n  },\r\n  owners: {\r\n    padding: lg,\r\n  },\r\n  name: {\r\n    textOverflow: 'ellipsis',\r\n    overflow: 'hidden',\r\n  },\r\n  owner: {\r\n    alignItems: 'center',\r\n    minWidth: 'fit-content',\r\n    padding: sm,\r\n    paddingLeft: lg,\r\n  },\r\n  open: {\r\n    paddingLeft: sm,\r\n    width: 'auto',\r\n    '&:hover': {\r\n      cursor: 'pointer',\r\n    },\r\n  },\r\n  container: {\r\n    marginTop: xs,\r\n    alignItems: 'center',\r\n  },\r\n  address: {\r\n    paddingLeft: '6px',\r\n    marginRight: sm,\r\n  },\r\n})\r\n","import { EthHashInfo } from '@gnosis.pm/safe-react-components'\r\nimport TableContainer from '@material-ui/core/TableContainer'\r\nimport React, { Fragment, ReactElement, ReactNode } from 'react'\r\n\r\nimport { getExplorerInfo } from 'src/config'\r\nimport Block from 'src/components/layout/Block'\r\nimport Col from 'src/components/layout/Col'\r\nimport Hairline from 'src/components/layout/Hairline'\r\nimport Paragraph from 'src/components/layout/Paragraph'\r\nimport Row from 'src/components/layout/Row'\r\nimport OpenPaper from 'src/components/Stepper/OpenPaper'\r\nimport { FIELD_LOAD_ADDRESS, FIELD_LOAD_NAME, THRESHOLD } from 'src/routes/load/components/fields'\r\nimport { getNumOwnersFrom, getOwnerAddressBy, getOwnerNameBy } from 'src/routes/open/components/fields'\r\nimport { getAccountsFrom } from 'src/routes/open/utils/safeDataExtractor'\r\nimport { useStyles } from './styles'\r\nimport { LoadFormValues } from 'src/routes/load/container/Load'\r\n\r\nconst checkIfUserAddressIsAnOwner = (values: LoadFormValues, userAddress: string): boolean => {\r\n  let isOwner = false\r\n\r\n  for (let i = 0; i < getNumOwnersFrom(values); i += 1) {\r\n    if (values[getOwnerAddressBy(i)] === userAddress) {\r\n      isOwner = true\r\n      break\r\n    }\r\n  }\r\n\r\n  return isOwner\r\n}\r\n\r\ninterface Props {\r\n  userAddress: string\r\n  values: LoadFormValues\r\n}\r\n\r\nconst ReviewComponent = ({ userAddress, values }: Props): ReactElement => {\r\n  const classes = useStyles()\r\n  const isOwner = checkIfUserAddressIsAnOwner(values, userAddress)\r\n  const owners = getAccountsFrom(values)\r\n  const safeAddress = values[FIELD_LOAD_ADDRESS]\r\n\r\n  return (\r\n    <Row className={classes.root}>\r\n      <Col className={classes.detailsColumn} layout=\"column\" xs={4}>\r\n        <Block className={classes.details}>\r\n          <Block margin=\"lg\">\r\n            <Paragraph color=\"primary\" noMargin size=\"lg\" data-testid=\"load-safe-step-three\">\r\n              Review details\r\n            </Paragraph>\r\n          </Block>\r\n          <Block margin=\"lg\">\r\n            <Paragraph color=\"disabled\" noMargin size=\"sm\">\r\n              Name of the Safe\r\n            </Paragraph>\r\n            <Paragraph\r\n              className={classes.name}\r\n              color=\"primary\"\r\n              noMargin\r\n              size=\"lg\"\r\n              weight=\"bolder\"\r\n              data-testid=\"load-form-review-safe-name\"\r\n            >\r\n              {values[FIELD_LOAD_NAME]}\r\n            </Paragraph>\r\n          </Block>\r\n          <Block margin=\"lg\">\r\n            <Paragraph color=\"disabled\" noMargin size=\"sm\">\r\n              Safe address\r\n            </Paragraph>\r\n            <Row className={classes.container}>\r\n              <EthHashInfo\r\n                hash={safeAddress}\r\n                shortenHash={4}\r\n                showAvatar\r\n                showCopyBtn\r\n                explorerUrl={getExplorerInfo(safeAddress)}\r\n              />\r\n            </Row>\r\n          </Block>\r\n          <Block margin=\"lg\">\r\n            <Paragraph color=\"disabled\" noMargin size=\"sm\">\r\n              Connected wallet client is owner?\r\n            </Paragraph>\r\n            <Paragraph className={classes.name} color=\"primary\" noMargin size=\"lg\" weight=\"bolder\">\r\n              {isOwner ? 'Yes' : 'No (read-only)'}\r\n            </Paragraph>\r\n          </Block>\r\n          <Block margin=\"lg\">\r\n            <Paragraph color=\"disabled\" noMargin size=\"sm\">\r\n              Any transaction requires the confirmation of:\r\n            </Paragraph>\r\n            <Paragraph className={classes.name} color=\"primary\" noMargin size=\"lg\" weight=\"bolder\">\r\n              {`${values[THRESHOLD]} out of ${getNumOwnersFrom(values)} owners`}\r\n            </Paragraph>\r\n          </Block>\r\n        </Block>\r\n      </Col>\r\n      <Col className={classes.ownersColumn} layout=\"column\" xs={8}>\r\n        <TableContainer>\r\n          <Block className={classes.owners}>\r\n            <Paragraph color=\"primary\" noMargin size=\"lg\">\r\n              {`${getNumOwnersFrom(values)} Safe owners`}\r\n            </Paragraph>\r\n          </Block>\r\n          <Hairline />\r\n          {owners.map((address, index) => (\r\n            <Fragment key={address}>\r\n              <Row className={classes.owner} testId={'load-safe-review-owner-name-' + index}>\r\n                <Col align=\"center\" xs={12}>\r\n                  <EthHashInfo\r\n                    hash={address}\r\n                    name={values[getOwnerNameBy(index)]}\r\n                    showAvatar\r\n                    showCopyBtn\r\n                    explorerUrl={getExplorerInfo(address)}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n              {index !== owners.length - 1 && <Hairline />}\r\n            </Fragment>\r\n          ))}\r\n        </TableContainer>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst Review = ({ userAddress }: { userAddress: string }) =>\r\n  function ReviewPage(controls: ReactNode, { values }: { values: LoadFormValues }): ReactElement {\r\n    return (\r\n      <OpenPaper controls={controls} padding={false}>\r\n        <ReviewComponent userAddress={userAddress} values={values} />\r\n      </OpenPaper>\r\n    )\r\n  }\r\n\r\nexport default Review\r\n","import IconButton from '@material-ui/core/IconButton'\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft'\r\nimport React, { ReactElement } from 'react'\r\n\r\nimport Stepper, { StepperPage } from 'src/components/Stepper'\r\nimport Block from 'src/components/layout/Block'\r\nimport Heading from 'src/components/layout/Heading'\r\nimport Row from 'src/components/layout/Row'\r\nimport DetailsForm, { safeFieldsValidation } from 'src/routes/load/components/DetailsForm'\r\nimport OwnerList from 'src/routes/load/components/OwnerList'\r\nimport ReviewInformation from 'src/routes/load/components/ReviewInformation'\r\n\r\nimport { history } from 'src/store'\r\nimport { secondary, sm } from 'src/theme/variables'\r\nimport { LoadFormValues } from '../container/Load'\r\n\r\nconst steps = ['Name and address', 'Owners', 'Review']\r\nconst buttonLabels = ['Next', 'Review', 'Add']\r\n\r\nconst iconStyle = {\r\n  color: secondary,\r\n  padding: sm,\r\n  marginRight: '5px',\r\n}\r\n\r\nconst back = () => {\r\n  history.goBack()\r\n}\r\n\r\nconst formMutators = {\r\n  setValue: ([field, value], state, { changeValue }) => {\r\n    changeValue(state, field, () => value)\r\n  },\r\n}\r\n\r\ninterface LayoutProps {\r\n  provider?: string\r\n  userAddress: string\r\n  onLoadSafeSubmit: (values: LoadFormValues) => void\r\n}\r\n\r\nconst Layout = ({ onLoadSafeSubmit, provider, userAddress }: LayoutProps): ReactElement => (\r\n  <>\r\n    {provider ? (\r\n      <Block>\r\n        <Row align=\"center\">\r\n          <IconButton disableRipple onClick={back} style={iconStyle}>\r\n            <ChevronLeft />\r\n          </IconButton>\r\n          <Heading tag=\"h2\">Add existing Safe</Heading>\r\n        </Row>\r\n        <Stepper<LoadFormValues>\r\n          buttonLabels={buttonLabels}\r\n          mutators={formMutators}\r\n          onSubmit={onLoadSafeSubmit}\r\n          steps={steps}\r\n          testId=\"load-safe-form\"\r\n        >\r\n          <StepperPage validate={safeFieldsValidation} component={DetailsForm} />\r\n          <StepperPage component={OwnerList} />\r\n          <StepperPage userAddress={userAddress} component={ReviewInformation} />\r\n        </Stepper>\r\n      </Block>\r\n    ) : (\r\n      <div>No account detected</div>\r\n    )}\r\n  </>\r\n)\r\n\r\nexport default Layout\r\n","import React, { ReactElement } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport Layout from 'src/routes/load/components/Layout'\r\nimport { AddressBookEntry, makeAddressBookEntry } from 'src/logic/addressBook/model/addressBook'\r\nimport { addressBookSafeLoad } from 'src/logic/addressBook/store/actions'\r\nimport { FIELD_LOAD_ADDRESS } from 'src/routes/load/components/fields'\r\n\r\nimport Page from 'src/components/layout/Page'\r\nimport { saveSafes, loadStoredSafes } from 'src/logic/safe/utils'\r\nimport { getAccountsFrom, getNamesFrom } from 'src/routes/open/utils/safeDataExtractor'\r\nimport { SAFELIST_ADDRESS } from 'src/routes/routes'\r\nimport { buildSafe } from 'src/logic/safe/store/actions/fetchSafe'\r\nimport { history } from 'src/store'\r\nimport { SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { isValidAddress } from 'src/utils/isValidAddress'\r\nimport { providerNameSelector, userAccountSelector } from 'src/logic/wallets/store/selectors'\r\nimport { addOrUpdateSafe } from 'src/logic/safe/store/actions/addOrUpdateSafe'\r\n\r\nexport const loadSafe = async (safeAddress: string, addSafe: (safe: SafeRecordProps) => void): Promise<void> => {\r\n  const safeProps = await buildSafe(safeAddress)\r\n\r\n  const storedSafes = (await loadStoredSafes()) || {}\r\n\r\n  storedSafes[safeAddress] = safeProps\r\n\r\n  await saveSafes(storedSafes)\r\n  await addSafe(safeProps)\r\n}\r\n\r\ninterface ReviewSafeCreationValues {\r\n  confirmations: string\r\n  name: string\r\n  owner0Address: string\r\n  owner0Name: string\r\n  safeCreationSalt: number\r\n}\r\n\r\ninterface LoadForm {\r\n  name: string\r\n  address: string\r\n  threshold: string\r\n  owner0Address: string\r\n  owner0Name: string\r\n}\r\n\r\nexport type LoadFormValues = ReviewSafeCreationValues | LoadForm\r\n\r\nconst Load = (): ReactElement => {\r\n  const dispatch = useDispatch()\r\n  const provider = useSelector(providerNameSelector)\r\n  const userAddress = useSelector(userAccountSelector)\r\n\r\n  const addSafeHandler = async (safe: SafeRecordProps) => {\r\n    await dispatch(addOrUpdateSafe(safe))\r\n  }\r\n  const onLoadSafeSubmit = async (values: LoadFormValues) => {\r\n    let safeAddress = values[FIELD_LOAD_ADDRESS]\r\n\r\n    if (!isValidAddress(safeAddress)) {\r\n      console.error('failed to add Safe address', JSON.stringify(values))\r\n      return\r\n    }\r\n\r\n    const ownersNames = getNamesFrom(values)\r\n    const ownersAddresses = getAccountsFrom(values)\r\n\r\n    const owners = ownersAddresses.reduce((acc, address, index) => {\r\n      if (ownersNames[index]) {\r\n        // Do not add owners to addressbook if names are empty\r\n        const newAddressBookEntry = makeAddressBookEntry({\r\n          address,\r\n          name: ownersNames[index],\r\n        })\r\n        acc.push(newAddressBookEntry)\r\n      }\r\n      return acc\r\n    }, [] as AddressBookEntry[])\r\n    const safe = makeAddressBookEntry({ address: safeAddress, name: values.name })\r\n    await dispatch(addressBookSafeLoad([...owners, safe]))\r\n\r\n    try {\r\n      safeAddress = checksumAddress(safeAddress)\r\n      await loadSafe(safeAddress, addSafeHandler)\r\n\r\n      const url = `${SAFELIST_ADDRESS}/${safeAddress}/balances`\r\n      history.push(url)\r\n    } catch (error) {\r\n      console.error('Error while loading the Safe', error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <Layout onLoadSafeSubmit={onLoadSafeSubmit} userAddress={userAddress} provider={provider} />\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport default Load\r\n"],"sourceRoot":""}